{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/three/build/three.module.js","webpack:///./node_modules/three/examples/jsm/libs/stats.module.js","webpack:///./node_modules/three/src/constants.js","webpack:///./node_modules/three/src/core/BufferAttribute.js","webpack:///./node_modules/three/src/core/BufferGeometry.js","webpack:///./node_modules/three/src/core/EventDispatcher.js","webpack:///./node_modules/three/src/core/Layers.js","webpack:///./node_modules/three/src/core/Object3D.js","webpack:///./node_modules/three/src/extras/ImageUtils.js","webpack:///./node_modules/three/src/loaders/Cache.js","webpack:///./node_modules/three/src/loaders/ImageLoader.js","webpack:///./node_modules/three/src/loaders/Loader.js","webpack:///./node_modules/three/src/loaders/LoadingManager.js","webpack:///./node_modules/three/src/materials/Material.js","webpack:///./node_modules/three/src/materials/MeshBasicMaterial.js","webpack:///./node_modules/three/src/math/Box3.js","webpack:///./node_modules/three/src/math/Color.js","webpack:///./node_modules/three/src/math/Euler.js","webpack:///./node_modules/three/src/math/MathUtils.js","webpack:///./node_modules/three/src/math/Matrix3.js","webpack:///./node_modules/three/src/math/Matrix4.js","webpack:///./node_modules/three/src/math/Plane.js","webpack:///./node_modules/three/src/math/Quaternion.js","webpack:///./node_modules/three/src/math/Ray.js","webpack:///./node_modules/three/src/math/Sphere.js","webpack:///./node_modules/three/src/math/Triangle.js","webpack:///./node_modules/three/src/math/Vector2.js","webpack:///./node_modules/three/src/math/Vector3.js","webpack:///./node_modules/three/src/math/Vector4.js","webpack:///./node_modules/three/src/objects/Mesh.js","webpack:///./node_modules/three/src/textures/Texture.js","webpack:///./node_modules/three/src/utils.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/Map.js","webpack:///./src/controls/PanController.js","webpack:///./src/controls/RotateController.js","webpack:///./src/controls/ZoomController.js","webpack:///./src/index.js","webpack:///./src/layers/ElevationLayer.js","webpack:///./src/layers/ImageryLayer.js","webpack:///./src/layers/Layer.js","webpack:///./src/layers/LayerManager.js","webpack:///./src/layers/RasterLayer.js","webpack:///./src/layers/SimpleElevationLayer.js","webpack:///./src/layers/UltraElevationLayer.js","webpack:///./src/layers/UltraImageryLayer.js","webpack:///./src/layers/WMSLayer.js","webpack:///./src/loaders/CancellableTextureLoader.js","webpack:///./src/planet/Planet.js","webpack:///./src/planet/PlanetShader.js","webpack:///./src/planet/PlanetTile.js"],"names":["runtime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","type","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","Promise","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","Function","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","EventDispatcher","listener","_listeners","listeners","indexOf","listenerArray","index","splice","event","target","array","l","_lut","_seed","DEG2RAD","Math","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","min","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","inverseLerp","y","lerp","t","damp","lambda","dt","exp","pingpong","abs","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","seededRandom","s","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","MathUtils","freeze","Vector2","scalar","v","w","addVectors","subVectors","multiplyScalar","e","elements","minVal","maxVal","divideScalar","round","sqrt","angle","atan2","distanceToSquared","dx","dy","normalize","alpha","v1","v2","offset","attribute","getX","getY","center","isVector2","Matrix3","arguments","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","me","xAxis","yAxis","zAxis","setFromMatrix3Column","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","d","f","g","h","t11","t12","t13","det","detInv","tmp","matrix4","setFromMatrix4","invert","transpose","r","tx","ty","sx","sy","rotation","cx","cy","theta","matrix","fromArray","isMatrix3","_canvas","ImageUtils","image","test","src","HTMLCanvasElement","canvas","document","createElementNS","width","height","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","version","onUpdate","setUvTransform","copy","source","meta","isRootObject","textures","output","metadata","images","url","Array","isArray","isDataTexture","serializeImage","dispatchEvent","uv","applyMatrix3","isTexture","HTMLImageElement","ImageBitmap","getDataURL","data","Vector4","z","acos","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","isVector4","WebGLRenderTarget","options","depth","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","dispose","clone","isWebGLRenderTarget","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_x","_y","_z","_w","_onChangeCallback","quaternion","euler","update","isEuler","_order","c1","c3","s1","s3","axis","halfAngle","trace","vFrom","vTo","dot","Number","EPSILON","step","angleTo","slerp","conjugate","p","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","qa","callback","qm","slerpQuaternions","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","isQuaternion","Vector3","multiplyVectors","applyQuaternion","_quaternion$4","setFromEuler","setFromAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","ax","ay","az","bx","by","bz","denominator","lengthSq","planeNormal","_vector$c","projectOnVector","sub","normal","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindricalCoords","setFromMatrixColumn","sz","isVector3","Box3","Infinity","minX","minY","minZ","maxX","maxY","maxZ","count","points","makeEmpty","il","expandByPoint","size","halfSize","_vector$b","add","expandByObject","box","isEmpty","point","vector","addScalar","updateWorldMatrix","geometry","boundingBox","computeBoundingBox","_box$3","union","children","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0$2","_v1$7","_v2$3","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","clampedPoint","getSize","_points","setFromPoints","equals","isBox3","_testAxis","v0","extents","j","p0","p1","p2","_box$2","_v1$6","_toFarthestPoint","_toPoint","Sphere","optionalCenter","maxRadiusSq","distanceTo","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","missingRadiusHalf","_vector$a","_segCenter","_segDir","_diff","_edge1","_edge2","_normal$1","Ray","origin","direction","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","tca","radius2","thc","t0","t1","distanceToPlane","distToPoint","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectBox","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","cross","QdN","transformDirection","Matrix4","n14","n24","n34","n41","n42","n43","n44","scaleX","_v1$5","scaleY","scaleZ","af","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","t14","scaleXSq","scaleYSq","scaleZSq","position","scale","x2","y2","z2","wx","wy","wz","determinant","_m1$2","invSX","invSY","invSZ","setFromRotationMatrix","left","right","top","bottom","near","far","isMatrix4","_matrix$1","_quaternion$3","Euler","DefaultOrder","asin","makeRotationFromQuaternion","newOrder","setFromQuaternion","optionalResult","RotationOrders","Layers","mask","channel","layers","_object3DId","_v1$4","_q1","_m1$1","_target","_position$3","_scale$2","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","DefaultUp","onRotationChange","onQuaternionChange","_onChange","defineProperties","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","userData","updateMatrix","premultiply","decompose","multiply","rotateOnAxis","distance","translateOnAxis","setFromMatrixPosition","isCamera","isLight","lookAt","extractRotation","isObject3D","remove","id","getObjectByProperty","child","traverse","traverseVisible","traverseAncestors","force","updateMatrixWorld","updateParents","updateChildren","geometries","materials","shapes","skeletons","JSON","stringify","toArray","isInstancedMesh","instanceMatrix","toJSON","instanceColor","serialize","library","element","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","recursive","parse","_vector1","_vector2$1","_normalMatrix","Plane","setFromNormalAndCoplanarPoint","inverseNormalLength","negate","line","delta","start","startSign","endSign","end","intersectsPlane","optionalNormalMatrix","getNormalMatrix","referencePoint","coplanarPoint","isPlane","_v0$1","_v1$3","_v2$2","_v3$1","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","i0","i1","i2","getNormal","setFromCoplanarPoints","getBarycoord","uv1","uv2","uv3","getUV","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","addScaledVector","d5","d6","vb","va","denom","targetLengthSq","dot00","dot01","dot02","dot11","dot12","invDenom","u","p3","materialId","Material","fog","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","alphaToCoverage","premultipliedAlpha","toneMapped","assign","isMaterial","onBuild","onBeforeCompile","customProgramCacheKey","setValues","newValue","flatShading","currentValue","isColor","isRoot","color","getHex","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","_colorKeywords","_hslA","_hslB","hue2rgb","SRGBToLinear","LinearToSRGB","Color","setRGB","setHex","setStyle","hex","style","handleAlpha","string","parseFloat","exec","components","parseInt","setHSL","setColorName","toLowerCase","gammaFactor","safeInverse","copyGammaToLinear","copyLinearToGamma","copySRGBToLinear","copyLinearToSRGB","hue","saturation","lightness","getHSL","color1","color2","normalized","NAMES","MeshBasicMaterial","isMeshBasicMaterial","_vector$9","_vector2","BufferAttribute","itemSize","usage","updateRange","onUploadCallback","index1","index2","colors","vectors","fromBufferAttribute","setXY","setXYZ","applyNormalMatrix","isBufferAttribute","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float16BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","arrayMax","TYPED_ARRAYS","getTypedArray","buffer","_id","_m1","_obj","_offset","_box$1","_boxMorphTargets","_vector$8","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","materialIndex","needsUpdate","tangent","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","makeTranslation","makeScale","translate","setAttribute","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","morphAttribute","jl","indices","positions","normals","uvs","nVertices","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","handleTriangle","isFinite","group","tmp2","n2","handleVertex","positionAttribute","getAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","normalizeNormals","isBufferGeometry","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","addGroup","hasMorphAttributes","attributeArray","setIndex","_inverseMatrix$2","_ray$2","_sphere$3","_vA$1","_vB$1","_vC$1","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA$1","_uvB$1","_uvC$1","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersectsBox","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","face","isGeometry","checkIntersection","intersect","intersectTriangle","morphInfluences","influence","boneTransform","BoxGeometry","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","merge","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","uniform","isShaderMaterial","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","focalLength","vExtentSlope","getFilmHeight","atan","tan","fullWidth","fullHeight","enabled","offsetX","offsetY","skew","getFilmWidth","makePerspective","isPerspectiveCamera","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","currentXrEnabled","xr","currentRenderTarget","getRenderTarget","setRenderTarget","render","CubeTexture","_needsFlipEnvMap","isCubeTexture","WebGLCubeRenderTarget","dummy","isInteger","shader","tEquirect","mesh","currentMinFilter","stencil","clear","DataTexture","_sphere$2","_vector$7","Frustum","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","get","isInterleavedBufferAttribute","deleteBuffer","cached","elementSize","PlaneGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmissionmap_fragment","transmissionmap_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","background","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","transmission","transmissionMap","WebGLBackground","cubemaps","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","isScene","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","deleteAttribute","onBeforeRender","copyPosition","toneMapping","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","getParameter","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","attributesNum","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","stride","vertexAttribIPointer","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_maxInstanceCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","has","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","useCache","materialProperties","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","cubemap","fromEquirectangularTexture","addEventListener","onTextureDispose","removeEventListener","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","workInfluences","objectInfluences","influences","sort","MAX_SAFE_INTEGER","morphInfluencesSum","hasAttribute","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","buffergeometry","hasEventListener","onInstancedMeshDispose","instancedMesh","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","copyArray","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2uiv","setValueV3ui","uniform3uiv","setValueV4ui","uniform4uiv","setValueT1","unit","safeSetTexture2D","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueT2DArray1","setTexture2DArray","getSingularSetter","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","split","join","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","trim","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexAlphas","vertexUvs","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","outputEncoding","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getMaxBones","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","environment","isMeshStandardMaterial","isFogExp2","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","renderCallDepth","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","identity","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","setupLightsView","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","_maxTextureSize","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","intersectsObject","k","kl","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","enable","disable","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","enabledCapabilities","xrFramebuffer","currentBoundFramebuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","bindXRFramebuffer","framebuffer","bindFramebuffer","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","isPowerOfTwo$1","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","log2","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","uploadTexture","setTextureCube","uploadCubeTexture","wrappingToGL","filterToGL","setTextureParameters","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","pixelStorei","convert","glInternalFormat","mipmap","isDepthTexture","isCompressedTexture","isCompressed","cubeImage","mipmapImage","setupFrameBufferTexture","attachment","textureTarget","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","isRenderTarget3D","createFramebuffer","glTextureType","isTexture3D","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","cameras","isArrayCamera","Group","isGroup","_moveEvent","WebXRController","_targetRay","_grip","_hand","joints","inputState","pinching","hasLinearVelocity","linearVelocity","hasAngularVelocity","angularVelocity","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","getPose","targetRaySpace","transform","inputjoint","jointPose","getJointPose","jointName","joint","jointRadius","indexTip","thumbTip","distanceToPinch","threshold","handedness","gripSpace","WebXRManager","framebufferScaleFactor","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","isPresenting","getController","controller","getTargetRaySpace","getControllerGrip","getGripSpace","getHand","getHandSpace","onSessionEvent","onSessionEnd","disconnect","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","onInputSourcesChange","getContextAttributes","xrCompatible","makeXRCompatible","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","translateX","translateZ","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","depthNear","depthFar","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","refreshUniformsCommon","isMeshLambertMaterial","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","createCanvasElement","display","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","_this","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","isWebGL1Renderer","shift","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","setSize","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReferences","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","uvArray","colorArray","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","material2","getProgram","window","setFromProjectionMatrix","projectObject","opaqueObjects","transparentObjects","renderObjects","onAfterRender","isLOD","intersectsSprite","isImmediateRenderObject","camera2","lightsStateVersion","programCacheKey","updateCommonMaterialProperties","needsLights","materialNeedsLights","progUniforms","uniformsList","needsProgramChange","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","layer","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","halfFloatSupportedByExt","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","compressedTexSubImage2D","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","texSubImage3D","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","arrayBuffers","_uuid","ib","setUsage","isInterleavedBuffer","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA","_vB","_vC","_uvA","_uvB","_uvC","Sprite","float32Array","setFromMatrixScale","transformVertex","vertexPosition","mvPosition","_v1$2","_v2$1","LOD","_currentLevel","levels","addLevel","getObjectForDistance","raycast","_basePosition","_skinIndex","_skinWeight","_vector$5","_matrix","SkinnedMesh","bindMatrixInverse","calculateInverses","skinWeight","manhattanLength","setXYZW","skinIndex","weight","getComponent","boneIndex","boneInverses","Bone","isBone","_offsetMatrix","_identityMatrix","Skeleton","inverse","bone","json","boneInverse","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","raycastTimes","instanceId","getMatrixAt","linecap","linejoin","_start$1","_end$1","_inverseMatrix$1","_ray$1","_sphere$1","Line","lineDistances","params","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","distanceSqToSegment","_start","_end","LineSegments","LineLoop","_inverseMatrix","_ray","_sphere","_position$2","Points","testPoint","rayPointDistanceSq","intersectPoint","closestPointToPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","CircleGeometry","segments","thetaStart","thetaLength","vertex","segment","CylinderGeometry","radiusTop","radiusBottom","radialSegments","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","PolyhedronGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","computeVertexNormals","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","DodecahedronGeometry","_v0","_v1$1","_normal","_triangle","EdgesGeometry","thresholdAngle","precisionPoints","thresholdDot","indexAttr","getIndex","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","invSize","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","Node","an","bp","sum","ShapeUtils","contour","pts","holes","faces","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","isClockWise","hl","ahole","triangulateShape","concat","scalePt2","pt","vec","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","binormals","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","toJSON$1","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","LatheGeometry","phiStart","phiLength","inverseSegments","base","n1","OctahedronGeometry","ParametricGeometry","func","slices","stacks","EPS","pu","pv","sliceCount","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","ShapeGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","SphereGeometry","thetaEnd","grid","verticesRow","uOffset","TetrahedronGeometry","TextGeometry","text","font","isFont","generateShapes","TorusGeometry","tube","tubularSegments","arc","TorusKnotGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TubeGeometry","closed","frames","P","generateBufferData","generateSegment","generateIndices","getPointAt","WireframeGeometry","edge","edges","o","ol","edge1","edge2","Geometries","BoxBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","ParametricBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TextBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","RawShaderMaterial","ior","Materials","AnimationUtils","arraySlice","from","to","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","multiplyQuaternionsFlat","valueEnd","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","settings","DefaultSettings_","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","getSettings_","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","factoryMethod","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","timeOffset","timeScale","startTime","endTime","nKeys","valid","prevTime","currTime","smoothInterpolation","getInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","trackType","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","slerpFlat","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","validate","optimize","jsonTracks","frameTime","parseKeyframeTrack","clipTracks","morphTargetSequence","noLoop","numMorphTargets","objectOrClipArray","clipArray","animationToMorphTargets","pattern","morphTarget","parts","animationMorphTargets","clips","CreateFromMorphTargetSequence","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","getTrackTypeForValueTypeName","typeName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","load","loading","FileLoader","setTimeout","dataUriRegex","dataUriRegexResult","request","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","XMLHttpRequest","open","callbacks","overrideMimeType","header","setRequestHeader","send","AnimationLoader","setPath","setWithCredentials","CompressedTextureLoader","setResponseType","loaded","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","onImageError","substr","CubeTextureLoader","urls","setCrossOrigin","DataTextureLoader","texData","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","optionalTarget","getUtoTmapping","getPoint","divisions","lengths","getLengths","cacheArcLengths","current","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","t2","pt1","pt2","getTangent","mat","getTangentAt","MAX_VALUE","tz","makeRotationAxis","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","twoPi","deltaAngle","samePoints","isEllipseCurve","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","pz","CatmullRomCurve3","curveType","intPoint","isCatmullRomCurve3","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","startPoint","endPoint","getLength","curveLengths","getCurveLengths","diff","lens","cacheLengths","sums","getPoints","fromJSON","Path","currentPoint","moveTo","lineTo","aCPx","aCPy","aCP1x","aCP1y","aCP2x","aCP2y","npts","absarc","absellipse","firstPoint","lastPoint","Shape","holesPts","getPointsHoles","Light","HemisphereLight","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","_lightPositionWorld","_lookTarget","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","scaleW","scaleH","makeOrthographic","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","coeff","shBasis","isSphericalHarmonics3","LightProbe","MaterialLoader","getTexture","shading","LoaderUtils","TextDecoder","decode","fromCharCode","escape","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","arrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","extractUrlBase","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","geometryShapes","bufferGeometryLoader","details","setTextures","loadImage","deserializeImage","currentUrl","deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","objectAnimations","bind","setResourcePath","ImageBitmapLoader","createImageBitmap","fetch","fetchOptions","credentials","headers","res","blob","colorSpaceConversion","imageBitmap","isImageBitmapLoader","ShapePath","subPaths","currentPath","quadraticCurveTo","bezierCurveTo","splineThru","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","toShapes","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$1","_quaternion$1","_scale$1","_orientation$1","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","audioNode","mediaElement","createMediaElementSource","mediaStream","createMediaStreamSource","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getOutput","getFilters","setFilters","_position","_quaternion","_scale","_orientation","PositionalAudio","panner","createPanner","panningModel","refDistance","rolloffFactor","distanceModel","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getByteFrequencyData","getFrequencyData","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accuIndex","currentWeight","mix","weightAdditive","originalValueOffset","getValue","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","_getValue_unbound","_setValue_unbound","resolvedProperty","propertyIndex","targetObject","dest","targetArray","sourceArray","objectName","_getValue_unavailable","_setValue_unavailable","objectIndex","nodeProperty","versioning","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","bindingType","BindingType","Direct","ArrayElement","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","root","isAnimationObjectGroup","matches","results","lastDot","getBoneByName","searchNodeSubtree","childNode","subTreeNode","_getValue_direct","_getValue_array","_getValue_arrayElement","_getValue_toArray","_setValue_direct","_setValue_direct_setNeedsUpdate","_setValue_direct_setMatrixWorldNeedsUpdate","_setValue_array","_setValue_array_setNeedsUpdate","_setValue_array_setMatrixWorldNeedsUpdate","_setValue_arrayElement","_setValue_arrayElement_setNeedsUpdate","_setValue_arrayElement_setMatrixWorldNeedsUpdate","_setValue_fromArray","_setValue_fromArray_setNeedsUpdate","_setValue_fromArray_setMatrixWorldNeedsUpdate","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","indicesByUUID","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","lastObject","indicesByPath","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","_isActiveAction","_scheduleFading","fadeOutAction","warp","fadeOut","fadeIn","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","fadeInAction","crossFadeFrom","weightInterpolant","_takeBackControlInterpolant","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","_root","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","accumulateAdditive","accumulate","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","_bindAction","knownActions","_addInactiveAction","_lendBinding","saveOriginalState","_lendAction","restoreOriginalState","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","optionalRoot","clipObject","findByName","existingAction","newAction","nActions","_update","timeInSeconds","actionsToRemove","_removeInactiveAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","Raycaster","coords","unproject","intersectObject","ascSort","Spherical","other","setFromCartesianCoords","Cylindrical","_vector$4","Box2","isBox2","_startP","_startEnd","Line3","clampToLine","startEnd2","startEnd_startP","closestPointToPointParameter","ImmediateRenderObject","_vector$3","SpotLightHelper","cone","coneLength","coneWidth","_vector$2","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$1","_color1","_color2","HemisphereLightHelper","rotateY","GridHelper","PolarGridHelper","radials","circles","_v1","_v2","_v3","DirectionalLightHelper","lightPlane","targetLine","_vector","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box","BoxHelper","setFromObject","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setLength","AxesHelper","_floatView","_int32View","DataUtils","val","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","backgroundMaterial","backgroundBox","_flatCamera","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","convertLinearToRGBE","maxComponent","fExp","PMREMGenerator","_pingPongRenderTarget","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_compileMaterial","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","equirectangular","_fromTexture","_getCubemapShader","_getEquirectShader","outputTarget","_setViewport","_textureToCubeUV","_isLDR","_createRenderTarget","tmpMesh","cubeCamera","upSign","forwardSign","originalAutoClear","useSolidColor","convertSRGBToLinear","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","outputSize","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","shaderMaterial","_getCommonVertexShader","_getEncodings","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","isMultiMaterial","PointCloud","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","fromPoints","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","empty","isIntersectionBox","isIntersectionSphere","setFromMatrix","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","getInverse","extractPosition","getPosition","setRotationFromQuaternion","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateX","rotateZ","rotateByAxis","makeFrustum","isIntersectionLine","intersectsLine","isIntersectionPlane","getArea","barycoordFromPoint","midpoint","getMidpoint","prototypenormal","getPlane","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","manhattanDistanceTo","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","getChildByName","getObjectByName","renderDepth","getWorldRotation","applyMatrix","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","setFocalLength","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","clearGroups","computeOffsets","removeAttribute","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","initMaterial","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","toneMappingWhitePoint","renderReverseSided","renderSingleSided","WebGLRenderTargetCube","audioLoader","setBuffer","getData","updateCubeMap","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","attach","LensFlare","revision","__THREE__","Stats","createElement","cssText","showPanel","addPanel","panel","appendChild","dom","beginTime","fpsPanel","Panel","msPanel","memPanel","begin","usedJSHeapSize","jsHeapSizeLimit","fg","bg","PR","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","textBaseline","fillStyle","fillRect","fillText","globalAlpha","maxValue","arrayMin","webpackPolyfill","deprecate","layerManager","LayerManager","initScene","initDomContainer","divID","initCamera","initRenderer","initPlanet","initController","addElementsToScene","planet","initStats","startAnimation","setLayer","getLayers","THREE","domContainer","getElementById","body","offsetWidth","offsetHeight","onWindowResize","Planet","PanController","append","RotateController","ZoomController","tempPointA","tempPointB","tempPointC","tempPointD","tempPointE","pointer1","pointer2","pointer3","pointer4","isMouseDown","mouseDownLocation","eventName","which","mouseDown","mouseUp","mouseMove","pan","panStart","panEnd","calculateMouseLocationOnPlanet","getWorldDirection","setFromUnitVectors","sideEffect","clientHeight","clientWidth","applyEuler","distSphere","aController","mouseDownLocationOnPlanetSurface","rotate","rotateStart","rotateEnd","resetCameraNearFar","applyAxisAngle","pitch","pointer5","zoomWheel","deltaY","simpleZoom","wmsLayer","WMSLayer","bounds","epsg","simpleElevation","SimpleElevationLayer","setVisible","ElevationLayer","RasterLayer","ImageryLayer","VISIBILITY_CHANGE","Layer","LAYERS_CHANGED","elevationArray","lon","lat","toDegrees","UltraElevationLayer","UltraImageryLayer","textureLoader","CancellableTextureLoader","defaultTexture","abort","addListener","PlanetTile","setInterval","interactingTiles","interactsWith","PlanetShader","numImageryLayers","tileSize","code","TILE_SIZE","TILE_IMAGERY_SIZE","TILE_GEOMETRY","generateBaseTile","MAX_LEVEL","buildZeroTexture","emptyVec4","defaultMaterial","defaultElevation","skirts","vX","vY","skirtFirstIndex","skirtVertexIndex","skirtEnd","tileIndex","tilesToLoad","scheduleLoadLayers","tile","_loadLayers","layerDataMap","mapRequests","maxLevel","_startLoading","_loadImagery","_endLoading","getElevation","elevationTexture","fillShaderUniforms","_setLoadingListener","buildMaterial","loadingListener","getMap","metric","calculateUpdateMetric","disposeChildren","childrenReadyCounter","every","childReady","boundsCenter","numLayers","imagery","imageryBounds","imageryTransparency","elevation","elevationEncountered","layerData","planetPosition","pNormalized","surfaceElevation","billinearInterpolationOnElevationArray","surfaceElevationCenter","surfaceElevationMax","lati","long","nearest","nearestMSE","nearestSurface","floorX","floorY","ceilX","ceilY"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * @license\n * Copyright 2010-2021 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\nconst REVISION = '128';\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst FlatShading = 1;\nconst SmoothShading = 2;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst CubeUVRefractionMapping = 307;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedShort565Type = 1019;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat = 1022;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst RGBEFormat = RGBAFormat;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBIntegerFormat = 1032;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nconst SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nconst SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nconst SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nconst SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nconst SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nconst SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nconst SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nconst SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nconst SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nconst SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nconst SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nconst SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nconst SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst GammaEncoding = 3007;\nconst RGBEEncoding = 3002;\nconst LogLuvEncoding = 3003;\nconst RGBM7Encoding = 3004;\nconst RGBM16Encoding = 3005;\nconst RGBDEncoding = 3006;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\nconst GLSL1 = '100';\nconst GLSL3 = '300 es';\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\nconst _lut = [];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toUpperCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidian modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t\t } else {\n\n\t\treturn 0;\n\n\t\t }\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s % 2147483647;\n\n\t// Park-Miller algorithm\n\n\t_seed = _seed * 16807 % 2147483647;\n\n\treturn ( _seed - 1 ) / 2147483646;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\nvar MathUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tDEG2RAD: DEG2RAD,\n\tRAD2DEG: RAD2DEG,\n\tgenerateUUID: generateUUID,\n\tclamp: clamp,\n\teuclideanModulo: euclideanModulo,\n\tmapLinear: mapLinear,\n\tinverseLerp: inverseLerp,\n\tlerp: lerp,\n\tdamp: damp,\n\tpingpong: pingpong,\n\tsmoothstep: smoothstep,\n\tsmootherstep: smootherstep,\n\trandInt: randInt,\n\trandFloat: randFloat,\n\trandFloatSpread: randFloatSpread,\n\tseededRandom: seededRandom,\n\tdegToRad: degToRad,\n\tradToDeg: radToDeg,\n\tisPowerOfTwo: isPowerOfTwo,\n\tceilPowerOfTwo: ceilPowerOfTwo,\n\tfloorPowerOfTwo: floorPowerOfTwo,\n\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler\n});\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector2.prototype.isVector2 = true;\n\nclass Matrix3 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tscale( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nMatrix3.prototype.isMatrix3 = true;\n\nlet _canvas;\n\nclass ImageUtils {\n\n\tstatic getDataURL( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n}\n\nlet textureId = 0;\n\nclass Texture extends EventDispatcher {\n\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding ) {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\n\t\tthis.image = image;\n\t\tthis.mipmaps = [];\n\n\t\tthis.mapping = mapping;\n\n\t\tthis.wrapS = wrapS;\n\t\tthis.wrapT = wrapT;\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.anisotropy = anisotropy;\n\n\t\tthis.format = format;\n\t\tthis.internalFormat = null;\n\t\tthis.type = type;\n\n\t\tthis.offset = new Vector2( 0, 0 );\n\t\tthis.repeat = new Vector2( 1, 1 );\n\t\tthis.center = new Vector2( 0, 0 );\n\t\tthis.rotation = 0;\n\n\t\tthis.matrixAutoUpdate = true;\n\t\tthis.matrix = new Matrix3();\n\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t//\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\t\tthis.encoding = encoding;\n\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tconst image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tlet url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( let i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t// check cube texture with data textures\n\n\t\t\t\t\t\tif ( image[ i ].isDataTexture ) {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ].image ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ] ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = serializeImage( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\ttransformUv( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype.isTexture = true;\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.prototype.slice.call( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector4.prototype.isVector4 = true;\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n\n\tconstructor( width, height, options ) {\n\n\t\tsuper();\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = 1;\n\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\n\t\tthis.scissorTest = false;\n\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\t\toptions = options || {};\n\n\t\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\tthis.texture.image = {};\n\t\tthis.texture.image.width = width;\n\t\tthis.texture.image.height = height;\n\t\tthis.texture.image.depth = 1;\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n\t}\n\n\tsetTexture( texture ) {\n\n\t\ttexture.image = {\n\t\t\twidth: this.width,\n\t\t\theight: this.height,\n\t\t\tdepth: this.depth\n\t\t};\n\n\t\tthis.texture = texture;\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\t\t\tthis.texture.image.depth = depth;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nWebGLRenderTarget.prototype.isWebGLRenderTarget = true;\n\nclass WebGLMultisampleRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, options ) {\n\n\t\tsuper( width, height, options );\n\n\t\tthis.samples = 4;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n}\n\nWebGLMultisampleRenderTarget.prototype.isWebGLMultisampleRenderTarget = true;\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.' );\n\t\treturn qm.slerpQuaternions( qa, qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\tthis.copy( qa ).slerp( qb, t );\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nQuaternion.prototype.isQuaternion = true;\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector$c.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector$c );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector$c.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector3.prototype.isVector3 = true;\n\nconst _vector$c = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$b.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box$3.copy( geometry.boundingBox );\n\t\t\t_box$3.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box$3 );\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$b );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$b.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0$2.subVectors( triangle.a, _center );\n\t\t_v1$7.subVectors( triangle.b, _center );\n\t\t_v2$3.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$7, _v0$2 );\n\t\t_f1.subVectors( _v2$3, _v1$7 );\n\t\t_f2.subVectors( _v0$2, _v2$3 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$b.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$b ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox3.prototype.isBox3 = true;\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0$2 = /*@__PURE__*/ new Vector3();\nconst _v1$7 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _box$2 = /*@__PURE__*/ new Box3();\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _toFarthestPoint = /*@__PURE__*/ new Vector3();\nconst _toPoint = /*@__PURE__*/ new Vector3();\n\nclass Sphere {\n\n\tconstructor( center = new Vector3(), radius = - 1 ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$2.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\n\n\t\t_toPoint.subVectors( point, this.center );\n\n\t\tconst lengthSq = _toPoint.lengthSq();\n\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tconst length = Math.sqrt( lengthSq );\n\t\t\tconst missingRadiusHalf = ( length - this.radius ) * 0.5;\n\n\t\t\t// Nudge this sphere towards the target point. Add half the missing distance to radius,\n\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\n\t\t\t// the whole missing distance were just added to radius.\n\n\t\t\tthis.center.add( _toPoint.multiplyScalar( missingRadiusHalf / length ) );\n\t\t\tthis.radius += missingRadiusHalf;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunion( sphere ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\n\n\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\n\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\n\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\n\n\t\t_toFarthestPoint.subVectors( sphere.center, this.center ).normalize().multiplyScalar( sphere.radius );\n\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).add( _toFarthestPoint ) );\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).sub( _toFarthestPoint ) );\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal$1 = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$a ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector$a.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$a.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$a.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector$a.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$a.dot( this.direction );\n\t\tconst d2 = _vector$a.dot( _vector$a ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector$a ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal$1.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal$1 );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal$1 );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1$5.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1$5.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1$5.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1$2.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1$2.elements[ 0 ] *= invSX;\n\t\t_m1$2.elements[ 1 ] *= invSX;\n\t\t_m1$2.elements[ 2 ] *= invSX;\n\n\t\t_m1$2.elements[ 4 ] *= invSY;\n\t\t_m1$2.elements[ 5 ] *= invSY;\n\t\t_m1$2.elements[ 6 ] *= invSY;\n\n\t\t_m1$2.elements[ 8 ] *= invSZ;\n\t\t_m1$2.elements[ 9 ] *= invSZ;\n\t\t_m1$2.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1$2 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nMatrix4.prototype.isMatrix4 = true;\n\nconst _v1$5 = /*@__PURE__*/ new Vector3();\nconst _m1$2 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nconst _matrix$1 = /*@__PURE__*/ new Matrix4();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order, update ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix$1.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix$1, order, update );\n\n\t}\n\n\tsetFromVector3( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$3.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$3, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\ttoVector3( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nEuler.prototype.isEuler = true;\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nclass Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$4 = new /*@__PURE__*/ Vector3();\nconst _q1 = new /*@__PURE__*/ Quaternion();\nconst _m1$1 = new /*@__PURE__*/ Matrix4();\nconst _target = new /*@__PURE__*/ Vector3();\n\nconst _position$3 = new /*@__PURE__*/ Vector3();\nconst _scale$2 = new /*@__PURE__*/ Vector3();\nconst _quaternion$2 = new /*@__PURE__*/ Quaternion();\n\nconst _xAxis = new /*@__PURE__*/ Vector3( 1, 0, 0 );\nconst _yAxis = new /*@__PURE__*/ Vector3( 0, 1, 0 );\nconst _zAxis = new /*@__PURE__*/ Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DefaultUp.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeRender() {}\n\tonAfterRender() {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$4.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$4.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position$3.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position$3, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position$3, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tthis.add( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, target, _scale$2 );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$2, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast() {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype.isObject3D = true;\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2$1 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2$1.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nPlane.prototype.isPlane = true;\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$2 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$2.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$2 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$2 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3$1 );\n\n\t\treturn ( _v3$1.x >= 0 ) && ( _v3$1.y >= 0 ) && ( ( _v3$1.x + _v3$1.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3$1 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3$1.x );\n\t\ttarget.addScaledVector( uv2, _v3$1.y );\n\t\ttarget.addScaledVector( uv3, _v3$1.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Plane();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nlet materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.vertexColors = false;\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilWriteMask = 0xff;\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilFuncMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.alphaToCoverage = false;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.version = 0;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBuild: function ( /* shaderobject, renderer */ ) {},\n\n\tonBeforeCompile: function ( /* shaderobject, renderer */ ) {},\n\n\tcustomProgramCacheKey: function () {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nObject.defineProperty( Material.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = euclideanModulo( h, 1 );\n\t\ts = clamp( s, 0, 1 );\n\t\tl = clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopyGammaToLinear( color, gammaFactor = 2.0 ) {\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToGamma( color, gammaFactor = 2.0 ) {\n\n\t\tconst safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t}\n\n\tconvertGammaToLinear( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToGamma( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex() {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t}\n\n\tgetHexString() {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle() {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\n\nColor.prototype.isColor = true;\nColor.prototype.r = 1;\nColor.prototype.g = 1;\nColor.prototype.b = 1;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nclass MeshBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // emissive\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nconst _vector$9 = new /*@__PURE__*/ Vector3();\nconst _vector2 = new /*@__PURE__*/ Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized === true;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.onUploadCallback = function () {};\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tcopyColorsArray( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector2sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector3sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector4sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2.fromBufferAttribute( this, i );\n\t\t\t\t_vector2.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2.x, _vector2.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$9.fromBufferAttribute( this, i );\n\t\t\t\t_vector$9.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\n\n\t\treturn data;\n\n\t}\n\n}\n\nBufferAttribute.prototype.isBufferAttribute = true;\n\n//\n\nclass Int8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8ClampedArray( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nFloat16BufferAttribute.prototype.isFloat16BufferAttribute = true;\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float64BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float64Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tlet max = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\tUint8ClampedArray: Uint8ClampedArray,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nfunction getTypedArray( type, buffer ) {\n\n\treturn new TYPED_ARRAYS[ type ]( buffer );\n\n}\n\nlet _id = 0;\n\nconst _m1 = new /*@__PURE__*/ Matrix4();\nconst _obj = new /*@__PURE__*/ Object3D();\nconst _offset = new /*@__PURE__*/ Vector3();\nconst _box$1 = new /*@__PURE__*/ Box3();\nconst _boxMorphTargets = new /*@__PURE__*/ Box3();\nconst _vector$8 = new /*@__PURE__*/ Vector3();\n\nclass BufferGeometry extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _id ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\n\t\tthis.morphAttributes = {};\n\t\tthis.morphTargetsRelative = false;\n\n\t\tthis.groups = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\n\t\tthis.userData = {};\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetAttribute( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t}\n\n\tsetAttribute( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t}\n\n\tdeleteAttribute( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t}\n\n\thasAttribute( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t}\n\n\taddGroup( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t}\n\n\tclearGroups() {\n\n\t\tthis.groups = [];\n\n\t}\n\n\tsetDrawRange( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateY( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tscale( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tlookAt( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t}\n\n\tcenter() {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$1.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.min, _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.max, _box$1.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$1.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$1.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$8.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$8.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$8.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeFaceNormals() {\n\n\t\t// backwards compatibility\n\n\t}\n\n\tcomputeTangents() {\n\n\t\tconst index = this.index;\n\t\tconst attributes = this.attributes;\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( index === null ||\n\t\t\t attributes.position === undefined ||\n\t\t\t attributes.normal === undefined ||\n\t\t\t attributes.uv === undefined ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst indices = index.array;\n\t\tconst positions = attributes.position.array;\n\t\tconst normals = attributes.normal.array;\n\t\tconst uvs = attributes.uv.array;\n\n\t\tconst nVertices = positions.length / 3;\n\n\t\tif ( attributes.tangent === undefined ) {\n\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\n\n\t\t}\n\n\t\tconst tangents = attributes.tangent.array;\n\n\t\tconst tan1 = [], tan2 = [];\n\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\n\n\t\t\ttan1[ i ] = new Vector3();\n\t\t\ttan2[ i ] = new Vector3();\n\n\t\t}\n\n\t\tconst vA = new Vector3(),\n\t\t\tvB = new Vector3(),\n\t\t\tvC = new Vector3(),\n\n\t\t\tuvA = new Vector2(),\n\t\t\tuvB = new Vector2(),\n\t\t\tuvC = new Vector2(),\n\n\t\t\tsdir = new Vector3(),\n\t\t\ttdir = new Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\n\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\tuvC.fromArray( uvs, c * 2 );\n\n\t\t\tvB.sub( vA );\n\t\t\tvC.sub( vA );\n\n\t\t\tuvB.sub( uvA );\n\t\t\tuvC.sub( uvA );\n\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\n\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\tif ( ! isFinite( r ) ) return;\n\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tlet groups = this.groups;\n\n\t\tif ( groups.length === 0 ) {\n\n\t\t\tgroups = [ {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: indices.length\n\t\t\t} ];\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleTriangle(\n\t\t\t\t\tindices[ j + 0 ],\n\t\t\t\t\tindices[ j + 1 ],\n\t\t\t\t\tindices[ j + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\n\t\tconst n = new Vector3(), n2 = new Vector3();\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.fromArray( normals, v * 3 );\n\t\t\tn2.copy( n );\n\n\t\t\tconst t = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ] = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleVertex( indices[ j + 0 ] );\n\t\t\t\thandleVertex( indices[ j + 1 ] );\n\t\t\t\thandleVertex( indices[ j + 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeVertexNormals() {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tmerge( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tnormalizeNormals() {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$8.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$8.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t}\n\n\t}\n\n\ttoNonIndexed() {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nBufferGeometry.prototype.isBufferGeometry = true;\n\nconst _inverseMatrix$2 = /*@__PURE__*/ new Matrix4();\nconst _ray$2 = /*@__PURE__*/ new Ray();\nconst _sphere$3 = /*@__PURE__*/ new Sphere();\n\nconst _vA$1 = /*@__PURE__*/ new Vector3();\nconst _vB$1 = /*@__PURE__*/ new Vector3();\nconst _vC$1 = /*@__PURE__*/ new Vector3();\n\nconst _tempA = /*@__PURE__*/ new Vector3();\nconst _tempB = /*@__PURE__*/ new Vector3();\nconst _tempC = /*@__PURE__*/ new Vector3();\n\nconst _morphA = /*@__PURE__*/ new Vector3();\nconst _morphB = /*@__PURE__*/ new Vector3();\nconst _morphC = /*@__PURE__*/ new Vector3();\n\nconst _uvA$1 = /*@__PURE__*/ new Vector2();\nconst _uvB$1 = /*@__PURE__*/ new Vector2();\nconst _uvC$1 = /*@__PURE__*/ new Vector2();\n\nconst _intersectionPoint = /*@__PURE__*/ new Vector3();\nconst _intersectionPointWorld = /*@__PURE__*/ new Vector3();\n\nclass Mesh extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Mesh';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.copy( matrixWorld ).invert();\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray$2.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tconst uv = geometry.attributes.uv;\n\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\tconst groups = geometry.groups;\n\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n}\n\nMesh.prototype.isMesh = true;\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA$1.fromBufferAttribute( position, a );\n\t_vB$1.fromBufferAttribute( position, b );\n\t_vC$1.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA$1 ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB$1 ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC$1 ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA$1.add( _morphA );\n\t\t_vB$1.add( _morphB );\n\t\t_vC$1.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh && material.skinning ) {\n\n\t\tobject.boneTransform( a, _vA$1 );\n\t\tobject.boneTransform( b, _vB$1 );\n\t\tobject.boneTransform( c, _vC$1 );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv2, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv2, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA$1, _vB$1, _vC$1, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nclass BoxGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nclass ShaderMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShaderMaterial';\n\n\t\tthis.defines = {};\n\t\tthis.uniforms = {};\n\n\t\tthis.vertexShader = default_vertex;\n\t\tthis.fragmentShader = default_fragment;\n\n\t\tthis.linewidth = 1;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false; // set to use scene fog\n\t\tthis.lights = false; // set to use scene lights\n\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\tthis.skinning = false; // set to use skinning attribute streams\n\t\tthis.morphTargets = false; // set to use morph targets\n\t\tthis.morphNormals = false; // set to use morph normals\n\n\t\tthis.extensions = {\n\t\t\tderivatives: false, // set to use derivatives\n\t\t\tfragDepth: false, // set to use fragment depth values\n\t\t\tdrawBuffers: false, // set to use draw buffers\n\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t\t};\n\n\t\t// When rendered geometry doesn't include these attributes but the material does,\n\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\t\tthis.defaultAttributeValues = {\n\t\t\t'color': [ 1, 1, 1 ],\n\t\t\t'uv': [ 0, 0 ],\n\t\t\t'uv2': [ 0, 0 ]\n\t\t};\n\n\t\tthis.index0AttributeName = undefined;\n\t\tthis.uniformsNeedUpdate = false;\n\n\t\tthis.glslVersion = null;\n\n\t\tif ( parameters !== undefined ) {\n\n\t\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t\tthis.setValues( parameters );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.fragmentShader = source.fragmentShader;\n\t\tthis.vertexShader = source.vertexShader;\n\n\t\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\t\tthis.defines = Object.assign( {}, source.defines );\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.lights = source.lights;\n\t\tthis.clipping = source.clipping;\n\n\t\tthis.skinning = source.skinning;\n\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.extensions = Object.assign( {}, source.extensions );\n\n\t\tthis.glslVersion = source.glslVersion;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.glslVersion = this.glslVersion;\n\t\tdata.uniforms = {};\n\n\t\tfor ( const name in this.uniforms ) {\n\n\t\t\tconst uniform = this.uniforms[ name ];\n\t\t\tconst value = uniform.value;\n\n\t\t\tif ( value && value.isTexture ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 't',\n\t\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isColor ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'c',\n\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v2',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\n\t\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\t\tdata.vertexShader = this.vertexShader;\n\t\tdata.fragmentShader = this.fragmentShader;\n\n\t\tconst extensions = {};\n\n\t\tfor ( const key in this.extensions ) {\n\n\t\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t\t}\n\n\t\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\t\treturn data;\n\n\t}\n\n}\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nclass Camera extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Camera';\n\n\t\tthis.matrixWorldInverse = new Matrix4();\n\n\t\tthis.projectionMatrix = new Matrix4();\n\t\tthis.projectionMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tsuper.updateWorldMatrix( updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nCamera.prototype.isCamera = true;\n\nclass PerspectiveCamera extends Camera {\n\n\tconstructor( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PerspectiveCamera';\n\n\t\tthis.fov = fov;\n\t\tthis.zoom = 1;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.focus = 10;\n\n\t\tthis.aspect = aspect;\n\t\tthis.view = null;\n\n\t\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\t\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength( focalLength ) {\n\n\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength() {\n\n\t\tconst vExtentSlope = Math.tan( DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t}\n\n\tgetEffectiveFOV() {\n\n\t\treturn RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t}\n\n\tgetFilmWidth() {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t}\n\n\tgetFilmHeight() {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t}\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n}\n\nPerspectiveCamera.prototype.isPerspectiveCamera = true;\n\nconst fov = 90, aspect = 1;\n\nclass CubeCamera extends Object3D {\n\n\tconstructor( near, far, renderTarget ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubeCamera';\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\n\n\t\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.renderTarget = renderTarget;\n\n\t\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPX.layers = this.layers;\n\t\tcameraPX.up.set( 0, - 1, 0 );\n\t\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\t\tthis.add( cameraPX );\n\n\t\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNX.layers = this.layers;\n\t\tcameraNX.up.set( 0, - 1, 0 );\n\t\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\t\tthis.add( cameraNX );\n\n\t\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPY.layers = this.layers;\n\t\tcameraPY.up.set( 0, 0, 1 );\n\t\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\t\tthis.add( cameraPY );\n\n\t\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNY.layers = this.layers;\n\t\tcameraNY.up.set( 0, 0, - 1 );\n\t\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\t\tthis.add( cameraNY );\n\n\t\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPZ.layers = this.layers;\n\t\tcameraPZ.up.set( 0, - 1, 0 );\n\t\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\t\tthis.add( cameraPZ );\n\n\t\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNZ.layers = this.layers;\n\t\tcameraNZ.up.set( 0, - 1, 0 );\n\t\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\t\tthis.add( cameraNZ );\n\n\t}\n\n\tupdate( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst renderTarget = this.renderTarget;\n\n\t\tconst [ cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ ] = this.children;\n\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t}\n\n}\n\nclass CubeTexture extends Texture {\n\n\tconstructor( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\t\timages = images !== undefined ? images : [];\n\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\t\tformat = format !== undefined ? format : RGBFormat;\n\n\t\tsuper( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\t// Why CubeTexture._needsFlipEnvMap is necessary:\n\t\t//\n\t\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t// and the flag _needsFlipEnvMap controls this conversion. The flip is not required (and thus _needsFlipEnvMap is set to false)\n\t\t// when using WebGLCubeRenderTarget.texture as a cube texture.\n\n\t\tthis._needsFlipEnvMap = true;\n\n\t\tthis.flipY = false;\n\n\t}\n\n\tget images() {\n\n\t\treturn this.image;\n\n\t}\n\n\tset images( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n}\n\nCubeTexture.prototype.isCubeTexture = true;\n\nclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( size, options, dummy ) {\n\n\t\tif ( Number.isInteger( options ) ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\t\toptions = dummy;\n\n\t\t}\n\n\t\tsuper( size, size, options );\n\n\t\toptions = options || {};\n\n\t\tthis.texture = new CubeTexture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.texture._needsFlipEnvMap = false;\n\n\t}\n\n\tfromEquirectangularTexture( renderer, texture ) {\n\n\t\tthis.texture.type = texture.type;\n\t\tthis.texture.format = RGBAFormat; // see #18859\n\t\tthis.texture.encoding = texture.encoding;\n\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\tthis.texture.minFilter = texture.minFilter;\n\t\tthis.texture.magFilter = texture.magFilter;\n\n\t\tconst shader = {\n\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: { value: null },\n\t\t\t},\n\n\t\t\tvertexShader: /* glsl */`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\n\t\t\tfragmentShader: /* glsl */`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t};\n\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\n\n\t\tconst material = new ShaderMaterial( {\n\n\t\t\tname: 'CubemapFromEquirect',\n\n\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tmaterial.uniforms.tEquirect.value = texture;\n\n\t\tconst mesh = new Mesh( geometry, material );\n\n\t\tconst currentMinFilter = texture.minFilter;\n\n\t\t// Avoid blurred poles\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\t\tconst camera = new CubeCamera( 1, 10, this );\n\t\tcamera.update( renderer, mesh );\n\n\t\ttexture.minFilter = currentMinFilter;\n\n\t\tmesh.geometry.dispose();\n\t\tmesh.material.dispose();\n\n\t\treturn this;\n\n\t}\n\n\tclear( renderer, color, depth, stencil ) {\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( this, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n}\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nclass DataTexture extends Texture {\n\n\tconstructor( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture.prototype.isDataTexture = true;\n\nconst _sphere$2 = /*@__PURE__*/ new Sphere();\nconst _vector$7 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane() ) {\n\n\t\tthis.planes = [ p0, p1, p2, p3, p4, p5 ];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere$2.center.set( 0, 0, 0 );\n\t\t_sphere$2.radius = 0.7071067811865476;\n\t\t_sphere$2.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$7.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$7.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$7.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$7 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\ttype = 5131;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttype = 5123;\n\n\t\t\t}\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tconst cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\nclass PlaneGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\n\n\t\tsuper();\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments );\n\t\tconst gridY = Math.floor( heightSegments );\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t//\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularRoughness;\\n\\tvec3 specularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmissionmap_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\\n#endif\";\n\nvar transmissionmap_pars_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\tuniform sampler2D transmissionMap;\\n#endif\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSMISSION\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSMISSION\\n\\tuniform float transmission;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <transmissionmap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#ifdef TRANSMISSION\\n\\t\\tfloat totalTransmission = transmission;\\n\\t#endif\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <transmissionmap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSMISSION\\n\\t\\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmissionmap_fragment: transmissionmap_fragment,\n\ttransmissionmap_pars_fragment: transmissionmap_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nfunction WebGLBackground( renderer, cubemaps, state, objects, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = 0;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tbackground = cubemaps.get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha = 1 ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( geometry, index );\n\n\t\t\tif ( updateBuffers ) saveCache( geometry, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh === true ) {\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( geometry, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in geometryAttributes ) {\n\n\t\t\tconst cachedAttribute = cachedAttributes[ key ];\n\t\t\tconst geometryAttribute = geometryAttributes[ key ];\n\n\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\tif ( cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( geometry, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst data = {};\n\t\t\tdata.attribute = attribute;\n\n\t\t\tif ( attribute.data ) {\n\n\t\t\t\tdata.data = attribute.data;\n\n\t\t\t}\n\n\t\t\tcache[ key ] = data;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\t\tcurrentState.attributesNum = attributesNum;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tconst geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceMatrix );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 0, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 1, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 2, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 3, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\n\n\t\t\t\t} else if ( name === 'instanceColor' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceColor );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute, 3, type, false, 12, 0 );\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatilibity\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || extensions.has( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\tfunction getExtension( name ) {\n\n\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t\tlet extension;\n\n\t\tswitch ( name ) {\n\n\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\textension = gl.getExtension( name );\n\n\t\t}\n\n\t\textensions[ name ] = extension;\n\n\t\treturn extension;\n\n\t}\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\treturn getExtension( name ) !== null;\n\n\t\t},\n\n\t\tinit: function ( capabilities ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgetExtension( 'EXT_color_buffer_float' );\n\n\t\t\t} else {\n\n\t\t\t\tgetExtension( 'WEBGL_depth_texture' );\n\t\t\t\tgetExtension( 'OES_texture_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tgetExtension( 'OES_standard_derivatives' );\n\t\t\t\tgetExtension( 'OES_element_index_uint' );\n\t\t\t\tgetExtension( 'OES_vertex_array_object' );\n\t\t\t\tgetExtension( 'ANGLE_instanced_arrays' );\n\n\t\t\t}\n\n\t\t\tgetExtension( 'OES_texture_float_linear' );\n\t\t\tgetExtension( 'EXT_color_buffer_half_float' );\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tconst extension = getExtension( name );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = {};\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\tattributes.remove( geometry.index );\n\n\t\t}\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tattributes.remove( geometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tconst attribute = wireframeAttributes.get( geometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( geometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tif ( geometries[ geometry.id ] === true ) return geometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries[ geometry.id ] = true;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tlet influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tworkInfluences.sort( numericalSort );\n\n\t\tconst morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tconst morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\tlet morphInfluencesSum = 0;\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tconst influence = workInfluences[ i ];\n\t\t\tconst index = influence[ 0 ];\n\t\t\tconst value = influence[ 1 ];\n\n\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t} else {\n\n\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\n\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\t\t}\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\tfunction onInstancedMeshDispose( event ) {\n\n\t\tconst instancedMesh = event.target;\n\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\tattributes.remove( instancedMesh.instanceMatrix );\n\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\nclass DataTexture2DArray extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\nclass DataTexture3D extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t// Users can still set in DataTexture3D directly.\n\t\t//\n\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t// \ttexture.anisotropy = 16;\n\t\t//\n\t\t// See #14839\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = new Texture();\nconst emptyTexture2dArray = new DataTexture2DArray();\nconst emptyTexture3d = new DataTexture3D();\nconst emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or THREE.MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single integer / boolean\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single integer / boolean vector (from flat array)\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Single unsigned integer\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single unsigned integer vector (from flat array)\n\nfunction setValueV2ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\t\tcase 0x8dc6: return setValueV2ui; // _VEC2\n\t\tcase 0x8dc7: return setValueV3ui; // _VEC3\n\t\tcase 0x8dc8: return setValueV4ui; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n\n// Array of scalars\n\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Array of vectors (from flat array or array of THREE.VectorN)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (from flat array or array of THREE.MatrixN)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of integer / boolean\n\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of integer / boolean vectors (from flat array)\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Array of unsigned integer\n\nfunction setValueV1uiArray( gl, v ) {\n\n\tgl.uniform1uiv( this.addr, v );\n\n}\n\n// Array of unsigned integer vectors (from flat array)\n\nfunction setValueV2uiArray( gl, v ) {\n\n\tgl.uniform2uiv( this.addr, v );\n\n}\n\nfunction setValueV3uiArray( gl, v ) {\n\n\tgl.uniform3uiv( this.addr, v );\n\n}\n\nfunction setValueV4uiArray( gl, v ) {\n\n\tgl.uniform4uiv( this.addr, v );\n\n}\n\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x1405: return setValueV1uiArray; // UINT\n\t\tcase 0x8dc6: return setValueV2uiArray; // _VEC2\n\t\tcase 0x8dc7: return setValueV3uiArray; // _VEC3\n\t\tcase 0x8dc8: return setValueV4uiArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tconst cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tconst seq = this.seq;\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tconst n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tconst u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tconst v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tconst r = [];\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tconst lines = string.split( '\\n' );\n\n\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tconst source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string\n\t\t.replace( unrollLoopPattern, loopReplacer )\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\n\n}\n\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\n\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\n\treturn loopReplacer( match, start, end, snippet );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\tif ( parameters.precision === 'highp' ) {\n\n\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\n\t} else if ( parameters.precision === 'mediump' ) {\n\n\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\n\t} else if ( parameters.precision === 'lowp' ) {\n\n\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tconst gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if defined( USE_COLOR_ALPHA )',\n\n\t\t\t'\tattribute vec4 color;',\n\n\t\t\t'#elif defined( USE_COLOR )',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.map ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcap ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMap ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMap ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.lightMap ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nfunction WebGLPrograms( renderer, cubemaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst floatVertexTextures = capabilities.floatVertexTextures;\n\tconst maxVertexUniforms = capabilities.maxVertexUniforms;\n\tconst vertexTextures = capabilities.vertexTextures;\n\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tconst parameterNames = [\n\t\t'precision', 'isWebGL2', 'supportsVertexTextures', 'outputEncoding', 'instancing', 'instancingColor',\n\t\t'map', 'mapEncoding', 'matcap', 'matcapEncoding', 'envMap', 'envMapMode', 'envMapEncoding', 'envMapCubeUV',\n\t\t'lightMap', 'lightMapEncoding', 'aoMap', 'emissiveMap', 'emissiveMapEncoding', 'bumpMap', 'normalMap', 'objectSpaceNormalMap', 'tangentSpaceNormalMap', 'clearcoatMap', 'clearcoatRoughnessMap', 'clearcoatNormalMap', 'displacementMap', 'specularMap',\n\t\t'roughnessMap', 'metalnessMap', 'gradientMap',\n\t\t'alphaMap', 'combine', 'vertexColors', 'vertexAlphas', 'vertexTangents', 'vertexUvs', 'uvsVertexOnly', 'fog', 'useFog', 'fogExp2',\n\t\t'flatShading', 'sizeAttenuation', 'logarithmicDepthBuffer', 'skinning',\n\t\t'maxBones', 'useVertexTexture', 'morphTargets', 'morphNormals', 'premultipliedAlpha',\n\t\t'numDirLights', 'numPointLights', 'numSpotLights', 'numHemiLights', 'numRectAreaLights',\n\t\t'numDirLightShadows', 'numPointLightShadows', 'numSpotLightShadows',\n\t\t'shadowMapEnabled', 'shadowMapType', 'toneMapping', 'physicallyCorrectLights',\n\t\t'alphaTest', 'doubleSided', 'flipSided', 'numClippingPlanes', 'numClipIntersection', 'depthPacking', 'dithering',\n\t\t'sheen', 'transmissionMap'\n\t];\n\n\tfunction getMaxBones( object ) {\n\n\t\tconst skeleton = object.skeleton;\n\t\tconst bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tconst nVertexUniforms = maxVertexUniforms;\n\t\t\tconst nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tconst maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tlet encoding;\n\n\t\tif ( map && map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map && map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLPrograms.getTextureEncodingFromMap: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t} else {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tconst maxBones = object.isSkinnedMesh ? getMaxBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet vertexShader, fragmentShader;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatMap: !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\ttransmissionMap: !! material.transmissionMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexAlphas: material.vertexColors === true && object.geometry && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.displacementMap || !! material.transmissionMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.transmissionMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: !! material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tfor ( let i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs\n\t};\n\n}\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList( properties ) {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transparent = [];\n\n\tconst defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: materialProperties.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = materialProperties.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists( properties ) {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, renderCallDepth ) {\n\n\t\tlet list;\n\n\t\tif ( lists.has( scene ) === false ) {\n\n\t\t\tlist = new WebGLRenderList( properties );\n\t\t\tlists.set( scene, [ list ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= lists.get( scene ).length ) {\n\n\t\t\t\tlist = new WebGLRenderList( properties );\n\t\t\t\tlists.get( scene ).push( list );\n\n\t\t\t} else {\n\n\t\t\t\tlist = lists.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\tfunction setupView( lights, camera ) {\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tif ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = state.directional[ directionalLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = state.spot[ spotLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = state.rectArea[ rectAreaLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = state.point[ pointLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = state.hemi[ hemiLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tsetupView: setupView,\n\t\tstate: state\n\t};\n\n}\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights() {\n\n\t\tlights.setup( lightsArray );\n\n\t}\n\n\tfunction setupLightsView( camera ) {\n\n\t\tlights.setupView( lightsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\t\tsetupLightsView: setupLightsView,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, renderCallDepth = 0 ) {\n\n\t\tlet renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, [ renderState ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= renderStates.get( scene ).length ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStates.get( scene ).push( renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nclass MeshDepthMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDepthMaterial';\n\n\t\tthis.depthPacking = BasicDepthPacking;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.depthPacking = source.depthPacking;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\n/**\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nclass MeshDistanceMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDistanceMaterial';\n\n\t\tthis.referencePosition = new Vector3();\n\t\tthis.nearDistance = 1;\n\t\tthis.farDistance = 1000;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.referencePosition.copy( source.referencePosition );\n\t\tthis.nearDistance = source.nearDistance;\n\t\tthis.farDistance = source.farDistance;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\\n\\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean * HALF_SAMPLE_RATE;\\n\\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nfunction WebGLShadowMap( _renderer, _objects, _capabilities ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterials = [],\n\t\t_distanceMaterials = [],\n\n\t\t_materialCache = {},\n\n\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t'position',\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( _maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( _maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tconst pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizontal pass\n\n\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _depthMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDepthMaterial( {\n\n\t\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_depthMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _distanceMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDistanceMaterial( {\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_distanceMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDepthMaterial( object, geometry, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tlet getMaterialVariant = getDepthMaterialVariant;\n\t\tlet customMaterial = object.customDepthMaterial;\n\n\t\tif ( light.isPointLight === true ) {\n\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( customMaterial === undefined ) {\n\n\t\t\tlet useMorphing = false;\n\n\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t}\n\n\t\t\tlet useSkinning = false;\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tif ( material.skinning === true ) {\n\n\t\t\t\t\tuseSkinning = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst useInstancing = object.isInstancedMesh === true;\n\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tlet enabledCapabilities = {};\n\n\tlet xrFramebuffer = null;\n\tlet currentBoundFramebuffers = {};\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = false;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL ES (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst currentScissor = new Vector4( 0, 0, gl.canvas.width, gl.canvas.height );\n\tconst currentViewport = new Vector4( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction bindXRFramebuffer( framebuffer ) {\n\n\t\tif ( framebuffer !== xrFramebuffer ) {\n\n\t\t\tgl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\txrFramebuffer = framebuffer;\n\n\t\t}\n\n\t}\n\n\tfunction bindFramebuffer( target, framebuffer ) {\n\n\t\tif ( framebuffer === null && xrFramebuffer !== null ) framebuffer = xrFramebuffer; // use active XR framebuffer if available\n\n\t\tif ( currentBoundFramebuffers[ target ] !== framebuffer ) {\n\n\t\t\tgl.bindFramebuffer( target, framebuffer );\n\n\t\t\tcurrentBoundFramebuffers[ target ] = framebuffer;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t// 36009 is equivalent to 36160\n\n\t\t\t\tif ( target === 36009 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36160 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t\tif ( target === 36160 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36009 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled === true ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( currentBlendingEnabled === false ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\tmaterial.alphaToCoverage === true\n\t\t\t? enable( 32926 )\n\t\t\t: disable( 32926 );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\t// reset state\n\n\t\tgl.disable( 3042 );\n\t\tgl.disable( 2884 );\n\t\tgl.disable( 2929 );\n\t\tgl.disable( 32823 );\n\t\tgl.disable( 3089 );\n\t\tgl.disable( 2960 );\n\t\tgl.disable( 32926 );\n\n\t\tgl.blendEquation( 32774 );\n\t\tgl.blendFunc( 1, 0 );\n\t\tgl.blendFuncSeparate( 1, 0, 1, 0 );\n\n\t\tgl.colorMask( true, true, true, true );\n\t\tgl.clearColor( 0, 0, 0, 0 );\n\n\t\tgl.depthMask( true );\n\t\tgl.depthFunc( 513 );\n\t\tgl.clearDepth( 1 );\n\n\t\tgl.stencilMask( 0xffffffff );\n\t\tgl.stencilFunc( 519, 0, 0xffffffff );\n\t\tgl.stencilOp( 7680, 7680, 7680 );\n\t\tgl.clearStencil( 0 );\n\n\t\tgl.cullFace( 1029 );\n\t\tgl.frontFace( 2305 );\n\n\t\tgl.polygonOffset( 0, 0 );\n\n\t\tgl.activeTexture( 33984 );\n\n\t\tgl.bindFramebuffer( 36160, null );\n\n\t\tif ( isWebGL2 === true ) {\n\n\t\t\tgl.bindFramebuffer( 36009, null );\n\t\t\tgl.bindFramebuffer( 36008, null );\n\n\t\t}\n\n\t\tgl.useProgram( null );\n\n\t\tgl.lineWidth( 1 );\n\n\t\tgl.scissor( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tgl.viewport( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\t// reset internals\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\txrFramebuffer = null;\n\t\tcurrentBoundFramebuffers = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlendingEnabled = false;\n\t\tcurrentBlending = null;\n\t\tcurrentBlendEquation = null;\n\t\tcurrentBlendSrc = null;\n\t\tcurrentBlendDst = null;\n\t\tcurrentBlendEquationAlpha = null;\n\t\tcurrentBlendSrcAlpha = null;\n\t\tcurrentBlendDstAlpha = null;\n\t\tcurrentPremultipledAlpha = false;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcurrentLineWidth = null;\n\n\t\tcurrentPolygonOffsetFactor = null;\n\t\tcurrentPolygonOffsetUnits = null;\n\n\t\tcurrentScissor.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tcurrentViewport.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tbindFramebuffer: bindFramebuffer,\n\t\tbindXRFramebuffer: bindXRFramebuffer,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( '2d' ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo$1( image ) {\n\n\t\treturn isPowerOfTwo( image.width ) && isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\ttextureProperties.__maxMipLevel = Math.log2( Math.max( width, height ) );\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tif ( texture.type === FloatType && extensions.has( 'OES_texture_float_linear' ) === false ) return; // verify extension for WebGL 1 and WebGL 2\n\t\t\tif ( isWebGL2 === false && ( texture.type === HalfFloatType && extensions.has( 'OES_texture_half_float_linear' ) === false ) ) return; // verify extension for WebGL 1 only\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo$1( texture.image ) === false;\n\t\tconst image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tconst supportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format );\n\n\t\tlet glType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tlet mipmap;\n\t\tconst mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// validation checks for WebGL 1\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\tconst isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\tconst cubeImage = [];\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t} else {\n\n\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst image = cubeImage[ 0 ],\n\t\t\tsupportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\tlet mipmaps;\n\n\t\tif ( isCompressed ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else {\n\n\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t// We assume images for cube map have the same size.\n\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst glFormat = utils.convert( texture.format );\n\t\tconst glType = utils.convert( texture.type );\n\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tif ( textureTarget === 32879 || textureTarget === 35866 ) {\n\n\t\t\tstate.texImage3D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null );\n\n\t\t} else {\n\n\t\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0 );\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\tconst glType = utils.convert( texture.type );\n\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\t\ttextureProperties.__version = texture.version;\n\n\t\tinfo.memory.textures ++;\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tconst isRenderTarget3D = texture.isDataTexture3D || texture.isDataTexture2DArray;\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\t// Handles WebGL2 RGBFormat fallback - #18858\n\n\t\tif ( isWebGL2 && texture.format === RGBFormat && ( texture.type === FloatType || texture.type === HalfFloatType ) ) {\n\n\t\t\ttexture.format = RGBAFormat;\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.' );\n\n\t\t}\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tlet glTextureType = 3553;\n\n\t\t\tif ( isRenderTarget3D ) {\n\n\t\t\t\t// Render targets containing layers, i.e: Texture 3D and 2d arrays\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tconst isTexture3D = texture.isDataTexture3D;\n\t\t\t\t\tglTextureType = isTexture3D ? 32879 : 35866;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( glTextureType, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( glTextureType, texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, glTextureType );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tconst width = renderTarget.width;\n\t\t\t\tconst height = renderTarget.height;\n\t\t\t\tlet mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\tstate.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\tstate.bindFramebuffer( 36008, null );\n\t\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tlet warnedTexture2D = false;\n\tlet warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTexture2D: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTextureCube: don\\'t use cube render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\n\t\tsetTextureCube( texture, slot );\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBIntegerFormat ) return 36248;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\nclass ArrayCamera extends PerspectiveCamera {\n\n\tconstructor( array = [] ) {\n\n\t\tsuper();\n\n\t\tthis.cameras = array;\n\n\t}\n\n}\n\nArrayCamera.prototype.isArrayCamera = true;\n\nclass Group extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Group';\n\n\t}\n\n}\n\nGroup.prototype.isGroup = true;\n\nconst _moveEvent = { type: 'move' };\n\nclass WebXRController {\n\n\tconstructor() {\n\n\t\tthis._targetRay = null;\n\t\tthis._grip = null;\n\t\tthis._hand = null;\n\n\t}\n\n\tgetHandSpace() {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = {};\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t}\n\n\tgetTargetRaySpace() {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t}\n\n\tgetGripSpace() {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\tthis._grip.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tupdate( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\n\n\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\tif ( inputPose.linearVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\ttargetRay.linearVelocity.copy( inputPose.linearVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( inputPose.angularVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\ttargetRay.angularVelocity.copy( inputPose.angularVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchEvent( _moveEvent );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\tconst jointPose = frame.getJointPose( inputjoint, referenceSpace );\n\n\t\t\t\t\tif ( hand.joints[ inputjoint.jointName ] === undefined ) {\n\n\t\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\t\thand.joints[ inputjoint.jointName ] = joint;\n\t\t\t\t\t\t// ??\n\t\t\t\t\t\thand.add( joint );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst joint = hand.joints[ inputjoint.jointName ];\n\n\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t}\n\n\t\t\t\t// Custom events\n\n\t\t\t\t// Check pinchz\n\t\t\t\tconst indexTip = hand.joints[ 'index-finger-tip' ];\n\t\t\t\tconst thumbTip = hand.joints[ 'thumb-tip' ];\n\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t\tif ( gripPose.linearVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\tgrip.linearVelocity.copy( gripPose.linearVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( gripPose.angularVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\tgrip.angularVelocity.copy( gripPose.angularVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass WebXRManager extends EventDispatcher {\n\n\tconstructor( renderer, gl ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\t\tconst state = renderer.state;\n\n\t\tlet session = null;\n\n\t\tlet framebufferScaleFactor = 1.0;\n\n\t\tlet referenceSpace = null;\n\t\tlet referenceSpaceType = 'local-floor';\n\n\t\tlet pose = null;\n\n\t\tconst controllers = [];\n\t\tconst inputSourcesMap = new Map();\n\n\t\t//\n\n\t\tconst cameraL = new PerspectiveCamera();\n\t\tcameraL.layers.enable( 1 );\n\t\tcameraL.viewport = new Vector4();\n\n\t\tconst cameraR = new PerspectiveCamera();\n\t\tcameraR.layers.enable( 2 );\n\t\tcameraR.viewport = new Vector4();\n\n\t\tconst cameras = [ cameraL, cameraR ];\n\n\t\tconst cameraVR = new ArrayCamera();\n\t\tcameraVR.layers.enable( 1 );\n\t\tcameraVR.layers.enable( 2 );\n\n\t\tlet _currentDepthNear = null;\n\t\tlet _currentDepthFar = null;\n\n\t\t//\n\n\t\tthis.enabled = false;\n\n\t\tthis.isPresenting = false;\n\n\t\tthis.getController = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getTargetRaySpace();\n\n\t\t};\n\n\t\tthis.getControllerGrip = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getGripSpace();\n\n\t\t};\n\n\t\tthis.getHand = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getHandSpace();\n\n\t\t};\n\n\t\t//\n\n\t\tfunction onSessionEvent( event ) {\n\n\t\t\tconst controller = inputSourcesMap.get( event.inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onSessionEnd() {\n\n\t\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\t\tcontroller.disconnect( inputSource );\n\n\t\t\t} );\n\n\t\t\tinputSourcesMap.clear();\n\n\t\t\t_currentDepthNear = null;\n\t\t\t_currentDepthFar = null;\n\n\t\t\t// restore framebuffer/rendering state\n\n\t\t\tstate.bindXRFramebuffer( null );\n\t\t\trenderer.setRenderTarget( renderer.getRenderTarget() );\n\n\t\t\t//\n\n\t\t\tanimation.stop();\n\n\t\t\tscope.isPresenting = false;\n\n\t\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t\t}\n\n\t\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\t\tframebufferScaleFactor = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\t\treferenceSpaceType = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getReferenceSpace = function () {\n\n\t\t\treturn referenceSpace;\n\n\t\t};\n\n\t\tthis.getSession = function () {\n\n\t\t\treturn session;\n\n\t\t};\n\n\t\tthis.setSession = async function ( value ) {\n\n\t\t\tsession = value;\n\n\t\t\tif ( session !== null ) {\n\n\t\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\t\t\t\tsession.addEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\t\tconst attributes = gl.getContextAttributes();\n\n\t\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\t\tawait gl.makeXRCompatible();\n\n\t\t\t\t}\n\n\t\t\t\tconst layerInit = {\n\t\t\t\t\tantialias: attributes.antialias,\n\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t};\n\n\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\tconst baseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\n\n\t\t\t\treferenceSpace = await session.requestReferenceSpace( referenceSpaceType );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t\tscope.isPresenting = true;\n\n\t\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction onInputSourcesChange( event ) {\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\t// Assign inputSources to available controllers\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t\t}\n\n\t\t\t// Notify disconnected\n\n\t\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.removed[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Notify connected\n\n\t\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.added[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst cameraLPos = new Vector3();\n\t\tconst cameraRPos = new Vector3();\n\n\t\t/**\n\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t * the cameras' projection and world matrices have already been set.\n\t\t * And that near and far planes are identical for both cameras.\n\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t */\n\t\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t\t// VR systems will have identical far and near planes, and\n\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t// Use the left camera for these values.\n\t\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\t\tconst left = near * leftFov;\n\t\t\tconst right = near * rightFov;\n\n\t\t\t// Calculate the new camera's position offset from the\n\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t\t// TODO: Better way to apply this offset?\n\t\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.translateX( xOffset );\n\t\t\tcamera.translateZ( zOffset );\n\t\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t\t// Find the union of the frustum values of the cameras and scale\n\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t// although must now be relative to the new union camera.\n\t\t\tconst near2 = near + zOffset;\n\t\t\tconst far2 = far + zOffset;\n\t\t\tconst left2 = left - xOffset;\n\t\t\tconst right2 = right + ( ipd - xOffset );\n\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t\t}\n\n\t\tfunction updateCamera( camera, parent ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t\t}\n\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t}\n\n\t\tthis.getCamera = function ( camera ) {\n\n\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\t\tsession.updateRenderState( {\n\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t} );\n\n\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t\t}\n\n\t\t\tconst parent = camera.parent;\n\t\t\tconst cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\t// update camera and its children\n\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\t\t\tcamera.matrix.copy( cameraVR.matrix );\n\t\t\tcamera.matrix.decompose( camera.position, camera.quaternion, camera.scale );\n\n\t\t\tconst children = camera.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\t// update projection matrix for proper view frustum culling\n\n\t\t\tif ( cameras.length === 2 ) {\n\n\t\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\t} else {\n\n\t\t\t\t// assume single camera setup (AR)\n\n\t\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t\t}\n\n\t\t\treturn cameraVR;\n\n\t\t};\n\n\t\t// Animation Loop\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame( time, frame ) {\n\n\t\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\t\tif ( pose !== null ) {\n\n\t\t\t\tconst views = pose.views;\n\t\t\t\tconst baseLayer = session.renderState.baseLayer;\n\n\t\t\t\tstate.bindXRFramebuffer( baseLayer.framebuffer );\n\n\t\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\t\tconst view = views[ i ];\n\t\t\t\t\tconst viewport = baseLayer.getViewport( view );\n\n\t\t\t\t\tconst camera = cameras[ i ];\n\t\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst controller = controllers[ i ];\n\t\t\t\tconst inputSource = inputSources[ i ];\n\n\t\t\t\tcontroller.update( inputSource, frame, referenceSpace );\n\n\t\t\t}\n\n\t\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\t\tanimation.setAnimationLoop( onAnimationFrame );\n\n\t\tthis.setAnimationLoop = function ( callback ) {\n\n\t\t\tonAnimationFrameCallback = callback;\n\n\t\t};\n\n\t\tthis.dispose = function () {};\n\n\t}\n\n}\n\nfunction WebGLMaterials( properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsLambert( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material );\n\n\t\t\t} else {\n\n\t\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDepth( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsNormal( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tconst maxMipLevel = properties.get( envMap ).__maxMipLevel;\n\n\t\t\tif ( maxMipLevel !== undefined ) {\n\n\t\t\t\tuniforms.maxMipLevel.value = maxMipLevel;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. displacementMap map\n\t\t// 4. normal map\n\t\t// 5. bump map\n\t\t// 6. roughnessMap map\n\t\t// 7. metalnessMap map\n\t\t// 8. alphaMap map\n\t\t// 9. emissiveMap map\n\t\t// 10. clearcoat map\n\t\t// 11. clearcoat normal map\n\t\t// 12. clearcoat roughnessMap map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t} else if ( material.clearcoatMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatMap;\n\n\t\t} else if ( material.clearcoatNormalMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\n\t\t} else if ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatMap ) {\n\n\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transmission.value = material.transmission;\n\n\t\tif ( material.transmissionMap ) {\n\n\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nfunction createCanvasElement() {\n\n\tconst canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\tcanvas.style.display = 'block';\n\treturn canvas;\n\n}\n\nfunction WebGLRenderer( parameters ) {\n\n\tparameters = parameters || {};\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// render() can be called from within a callback triggered by another render.\n\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\tconst renderListStack = [];\n\tconst renderStateStack = [];\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, cubemaps, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\textensions.init( capabilities );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tclipping = new WebGLClipping( properties );\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, extensions, capabilities, bindingStates, clipping );\n\t\tmaterials = new WebGLMaterials( properties );\n\t\trenderLists = new WebGLRenderLists( properties );\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\tbackground = new WebGLBackground( _this, cubemaps, state, objects, _premultipliedAlpha );\n\t\tshadowMap = new WebGLShadowMap( _this, objects, capabilities );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.shadowMap = shadowMap;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getClearColor() now requires a Color as an argument' );\n\n\t\t\ttarget = new Color();\n\n\t\t}\n\n\t\treturn target.copy( background.getClearColor() );\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tcubemaps.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\n\t\txr.dispose();\n\n\t\txr.removeEventListener( 'sessionstart', onXRSessionStart );\n\t\txr.removeEventListener( 'sessionend', onXRSessionEnd );\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tconst infoAutoReset = info.autoReset;\n\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\tconst shadowMapType = shadowMap.type;\n\n\t\tinitGLContext();\n\n\t\tinfo.autoReset = infoAutoReset;\n\t\tshadowMap.enabled = shadowMapEnabled;\n\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\tshadowMap.type = shadowMapType;\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReferences( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReferences( material ) {\n\n\t\tconst programs = properties.get( material ).programs;\n\n\t\tif ( programs !== undefined ) {\n\n\t\t\tprograms.forEach( function ( program ) {\n\n\t\t\t\tprogramCache.releaseProgram( program );\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tbindingStates.initAttributes();\n\n\t\tconst buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tbindingStates.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tif ( material.morphTargets || material.morphNormals ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tconst material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\tgetProgram( material2, scene, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tfunction onXRSessionStart() {\n\n\t\tanimation.stop();\n\n\t}\n\n\tfunction onXRSessionEnd() {\n\n\t\tanimation.start();\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\txr.addEventListener( 'sessionstart', onXRSessionStart );\n\txr.addEventListener( 'sessionend', onXRSessionEnd );\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tlet renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tcamera = xr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, renderStateStack.length );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, renderListStack.length );\n\t\tcurrentRenderList.init();\n\n\t\trenderListStack.push( currentRenderList );\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights();\n\t\tcurrentRenderState.setupLightsView( camera );\n\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\t// _gl.finish();\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\trenderStateStack.pop();\n\n\t\tif ( renderStateStack.length > 0 ) {\n\n\t\t\tcurrentRenderState = renderStateStack[ renderStateStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderState = null;\n\n\t\t}\n\n\t\trenderListStack.pop();\n\n\t\tif ( renderListStack.length > 0 ) {\n\n\t\t\tcurrentRenderList = renderListStack[ renderListStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderList = null;\n\n\t\t}\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\tconst object = renderItem.object;\n\t\t\tconst geometry = renderItem.geometry;\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\tconst group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\tconst cameras = camera.cameras;\n\n\t\t\t\tfor ( let j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\tcurrentRenderState.setupLightsView( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tbindingStates.reset();\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t}\n\n\tfunction getProgram( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet programs = materialProperties.programs;\n\n\t\t// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\t\tmaterialProperties.envMap = cubemaps.get( material.envMap || materialProperties.environment );\n\n\t\tif ( programs === undefined ) {\n\n\t\t\t// new material\n\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t\tprograms = new Map();\n\t\t\tmaterialProperties.programs = programs;\n\n\t\t}\n\n\t\tlet program = programs.get( programCacheKey );\n\n\t\tif ( program !== undefined ) {\n\n\t\t\t// early out if program and light state is identical\n\n\t\t\tif ( materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion ) {\n\n\t\t\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t\t\treturn program;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\tmaterial.onBuild( parameters, _this );\n\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\t\t\tprograms.set( programCacheKey, program );\n\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ( ! material.isShaderMaterial && ! material.isRawShaderMaterial ) || material.clipping === true ) {\n\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t}\n\n\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = program.getUniforms();\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.currentProgram = program;\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t\treturn program;\n\n\t}\n\n\tfunction updateCommonMaterialProperties( material, parameters ) {\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\tmaterialProperties.instancing = parameters.instancing;\n\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\t\tconst vertexAlphas = material.vertexColors === true && object.geometry && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4;\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet needsProgramChange = false;\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isInstancedMesh && materialProperties.instancing === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isInstancedMesh && materialProperties.instancing === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexAlphas !== vertexAlphas ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tneedsProgramChange = true;\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\t//\n\n\t\tlet program = materialProperties.currentProgram;\n\n\t\tif ( needsProgramChange === true ) {\n\n\t\t\tprogram = getProgram( material, scene, object );\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst p_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tconst bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === null ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tlet size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height );\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tlet framebuffer = null;\n\t\tlet isCube = false;\n\t\tlet isRenderTarget3D = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tif ( texture.isDataTexture3D || texture.isDataTexture2DArray ) {\n\n\t\t\t\tisRenderTarget3D = true;\n\n\t\t\t}\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t} else if ( isRenderTarget3D ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\tconst layer = activeCubeFace || 0;\n\t\t\t_gl.framebufferTextureLayer( 36160, 36064, textureProperties.__webglTexture, activeMipmapLevel || 0, layer );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tconst halfFloatSupportedByExt = ( textureType === HalfFloatType ) && ( extensions.has( 'EXT_color_buffer_half_float' ) || ( capabilities.isWebGL2 && extensions.has( 'EXT_color_buffer_float' ) ) );\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.has( 'OES_texture_float' ) || extensions.has( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! halfFloatSupportedByExt ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\t// restore framebuffer of current render target if necessary\n\n\t\t\t\tconst framebuffer = ( _currentRenderTarget !== null ) ? properties.get( _currentRenderTarget ).__webglFramebuffer : null;\n\t\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\t\tconst glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture3D = function ( sourceBox, position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tif ( _this.isWebGL1Renderer ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst { width, height, data } = srcTexture.image;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\t\tlet glTarget;\n\n\t\tif ( dstTexture.isDataTexture3D ) {\n\n\t\t\ttextures.setTexture3D( dstTexture, 0 );\n\t\t\tglTarget = 32879;\n\n\t\t} else if ( dstTexture.isDataTexture2DArray ) {\n\n\t\t\ttextures.setTexture2DArray( dstTexture, 0 );\n\t\t\tglTarget = 35866;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tconst unpackRowLen = _gl.getParameter( 3314 );\n\t\tconst unpackImageHeight = _gl.getParameter( 32878 );\n\t\tconst unpackSkipPixels = _gl.getParameter( 3316 );\n\t\tconst unpackSkipRows = _gl.getParameter( 3315 );\n\t\tconst unpackSkipImages = _gl.getParameter( 32877 );\n\n\t\t_gl.pixelStorei( 3314, width );\n\t\t_gl.pixelStorei( 32878, height );\n\t\t_gl.pixelStorei( 3316, sourceBox.min.x );\n\t\t_gl.pixelStorei( 3315, sourceBox.min.y );\n\t\t_gl.pixelStorei( 32877, sourceBox.min.z );\n\n\t\t_gl.texSubImage3D(\n\t\t\tglTarget,\n\t\t\tlevel,\n\t\t\tposition.x,\n\t\t\tposition.y,\n\t\t\tposition.z,\n\t\t\tsourceBox.max.x - sourceBox.min.x + 1,\n\t\t\tsourceBox.max.y - sourceBox.min.y + 1,\n\t\t\tsourceBox.max.z - sourceBox.min.z + 1,\n\t\t\tglFormat,\n\t\t\tglType,\n\t\t\tdata\n\t\t);\n\n\t\t_gl.pixelStorei( 3314, unpackRowLen );\n\t\t_gl.pixelStorei( 32878, unpackImageHeight );\n\t\t_gl.pixelStorei( 3316, unpackSkipPixels );\n\t\t_gl.pixelStorei( 3315, unpackSkipRows );\n\t\t_gl.pixelStorei( 32877, unpackSkipImages );\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( glTarget );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.resetState = function () {\n\n\t\t_currentActiveCubeFace = 0;\n\t\t_currentActiveMipmapLevel = 0;\n\t\t_currentRenderTarget = null;\n\n\t\tstate.reset();\n\t\tbindingStates.reset();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nclass WebGL1Renderer extends WebGLRenderer {}\n\nWebGL1Renderer.prototype.isWebGL1Renderer = true;\n\nclass FogExp2 {\n\n\tconstructor( color, density = 0.00025 ) {\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\t\tthis.density = density;\n\n\t}\n\n\tclone() {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n}\n\nFogExp2.prototype.isFogExp2 = true;\n\nclass Fog {\n\n\tconstructor( color, near = 1, far = 1000 ) {\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n}\n\nFog.prototype.isFog = true;\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nScene.prototype.isScene = true;\n\nclass InterleavedBuffer {\n\n\tconstructor( array, stride ) {\n\n\t\tthis.array = array;\n\t\tthis.stride = stride;\n\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.onUploadCallback = function () {};\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new InterleavedBuffer( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.prototype.slice.call( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n}\n\nInterleavedBuffer.prototype.isInterleavedBuffer = true;\n\nconst _vector$6 = new /*@__PURE__*/ Vector3();\n\nclass InterleavedBufferAttribute {\n\n\tconstructor( interleavedBuffer, itemSize, offset, normalized ) {\n\n\t\tthis.name = '';\n\n\t\tthis.data = interleavedBuffer;\n\t\tthis.itemSize = itemSize;\n\t\tthis.offset = offset;\n\n\t\tthis.normalized = normalized === true;\n\n\t}\n\n\tget count() {\n\n\t\treturn this.data.count;\n\n\t}\n\n\tget array() {\n\n\t\treturn this.data.array;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tthis.data.needsUpdate = value;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interlaved attribtue\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n}\n\nInterleavedBufferAttribute.prototype.isInterleavedBufferAttribute = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nclass SpriteMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SpriteMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.rotation = 0;\n\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.transparent = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nlet _geometry;\n\nconst _intersectPoint = /*@__PURE__*/ new Vector3();\nconst _worldScale = /*@__PURE__*/ new Vector3();\nconst _mvPosition = /*@__PURE__*/ new Vector3();\n\nconst _alignedPosition = /*@__PURE__*/ new Vector2();\nconst _rotatedPosition = /*@__PURE__*/ new Vector2();\nconst _viewWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _vA = /*@__PURE__*/ new Vector3();\nconst _vB = /*@__PURE__*/ new Vector3();\nconst _vC = /*@__PURE__*/ new Vector3();\n\nconst _uvA = /*@__PURE__*/ new Vector2();\nconst _uvB = /*@__PURE__*/ new Vector2();\nconst _uvC = /*@__PURE__*/ new Vector2();\n\nclass Sprite extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Sprite';\n\n\t\tif ( _geometry === undefined ) {\n\n\t\t\t_geometry = new BufferGeometry();\n\n\t\t\tconst float32Array = new Float32Array( [\n\t\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t\t] );\n\n\t\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t\t}\n\n\t\tthis.geometry = _geometry;\n\t\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\t\tthis.center = new Vector2( 0.5, 0.5 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA.set( 0, 0 );\n\t\t_uvB.set( 1, 0 );\n\t\t_uvC.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA, _vB, _vC, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA, _vC, _vB, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSprite.prototype.isSprite = true;\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\nconst _v1$2 = /*@__PURE__*/ new Vector3();\nconst _v2$1 = /*@__PURE__*/ new Vector3();\n\nclass LOD extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis._currentLevel = 0;\n\n\t\tthis.type = 'LOD';\n\n\t\tObject.defineProperties( this, {\n\t\t\tlevels: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tisLOD: {\n\t\t\t\tvalue: true,\n\t\t\t}\n\t\t} );\n\n\t\tthis.autoUpdate = true;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tconst levels = source.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\taddLevel( object, distance = 0 ) {\n\n\t\tdistance = Math.abs( distance );\n\n\t\tconst levels = this.levels;\n\n\t\tlet l;\n\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t}\n\n\tgetCurrentLevel() {\n\n\t\treturn this._currentLevel;\n\n\t}\n\n\tgetObjectForDistance( distance ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$2 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$1.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = _v1$2.distanceTo( _v2$1 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tconst levels = this.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _basePosition = /*@__PURE__*/ new Vector3();\n\nconst _skinIndex = /*@__PURE__*/ new Vector4();\nconst _skinWeight = /*@__PURE__*/ new Vector4();\n\nconst _vector$5 = /*@__PURE__*/ new Vector3();\nconst _matrix = /*@__PURE__*/ new Matrix4();\n\nclass SkinnedMesh extends Mesh {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkinnedMesh';\n\n\t\tthis.bindMode = 'attached';\n\t\tthis.bindMatrix = new Matrix4();\n\t\tthis.bindMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t}\n\n\tbind( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.copy( bindMatrix ).invert();\n\n\t}\n\n\tpose() {\n\n\t\tthis.skeleton.pose();\n\n\t}\n\n\tnormalizeSkinWeights() {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.matrixWorld ).invert();\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.bindMatrix ).invert();\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t}\n\n\tboneTransform( index, target ) {\n\n\t\tconst skeleton = this.skeleton;\n\t\tconst geometry = this.geometry;\n\n\t\t_skinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t_skinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t_basePosition.fromBufferAttribute( geometry.attributes.position, index ).applyMatrix4( this.bindMatrix );\n\n\t\ttarget.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\tconst weight = _skinWeight.getComponent( i );\n\n\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\tconst boneIndex = _skinIndex.getComponent( i );\n\n\t\t\t\t_matrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\ttarget.addScaledVector( _vector$5.copy( _basePosition ).applyMatrix4( _matrix ), weight );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn target.applyMatrix4( this.bindMatrixInverse );\n\n\t}\n\n}\n\nSkinnedMesh.prototype.isSkinnedMesh = true;\n\nclass Bone extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Bone';\n\n\t}\n\n}\n\nBone.prototype.isBone = true;\n\nconst _offsetMatrix = /*@__PURE__*/ new Matrix4();\nconst _identityMatrix = /*@__PURE__*/ new Matrix4();\n\nclass Skeleton {\n\n\tconstructor( bones = [], boneInverses = [] ) {\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.bones = bones.slice( 0 );\n\t\tthis.boneInverses = boneInverses;\n\t\tthis.boneMatrices = null;\n\n\t\tthis.boneTexture = null;\n\t\tthis.boneTextureSize = 0;\n\n\t\tthis.frame = - 1;\n\n\t\tthis.init();\n\n\t}\n\n\tinit() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tthis.boneMatrices = new Float32Array( bones.length * 16 );\n\n\t\t// calculate inverse bone matrices if necessary\n\n\t\tif ( boneInverses.length === 0 ) {\n\n\t\t\tthis.calculateInverses();\n\n\t\t} else {\n\n\t\t\t// handle special case\n\n\t\t\tif ( bones.length !== boneInverses.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.' );\n\n\t\t\t\tthis.boneInverses = [];\n\n\t\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcalculateInverses() {\n\n\t\tthis.boneInverses.length = 0;\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.copy( this.bones[ i ].matrixWorld ).invert();\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t}\n\n\tpose() {\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.copy( this.boneInverses[ i ] ).invert();\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.copy( bone.parent.matrixWorld ).invert();\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdate() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\t\tconst boneMatrices = this.boneMatrices;\n\t\tconst boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== null ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t}\n\n\tgetBoneByName( name ) {\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tdispose( ) {\n\n\t\tif ( this.boneTexture !== null ) {\n\n\t\t\tthis.boneTexture.dispose();\n\n\t\t\tthis.boneTexture = null;\n\n\t\t}\n\n\t}\n\n\tfromJSON( json, bones ) {\n\n\t\tthis.uuid = json.uuid;\n\n\t\tfor ( let i = 0, l = json.bones.length; i < l; i ++ ) {\n\n\t\t\tconst uuid = json.bones[ i ];\n\t\t\tlet bone = bones[ uuid ];\n\n\t\t\tif ( bone === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: No bone found with UUID:', uuid );\n\t\t\t\tbone = new Bone();\n\n\t\t\t}\n\n\t\t\tthis.bones.push( bone );\n\t\t\tthis.boneInverses.push( new Matrix4().fromArray( json.boneInverses[ i ] ) );\n\n\t\t}\n\n\t\tthis.init();\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Skeleton',\n\t\t\t\tgenerator: 'Skeleton.toJSON'\n\t\t\t},\n\t\t\tbones: [],\n\t\t\tboneInverses: []\n\t\t};\n\n\t\tdata.uuid = this.uuid;\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tfor ( let i = 0, l = bones.length; i < l; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\t\t\tdata.bones.push( bone.uuid );\n\n\t\t\tconst boneInverse = boneInverses[ i ];\n\t\t\tdata.boneInverses.push( boneInverse.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _instanceLocalMatrix = /*@__PURE__*/ new Matrix4();\nconst _instanceWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _mesh = /*@__PURE__*/ new Mesh();\n\nclass InstancedMesh extends Mesh {\n\n\tconstructor( geometry, material, count ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\n\t\tthis.instanceColor = null;\n\n\t\tthis.count = count;\n\n\t\tthis.frustumCulled = false;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\n\t\tif ( source.instanceColor !== null ) this.instanceColor = source.instanceColor.clone();\n\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t}\n\n\tgetColorAt( index, color ) {\n\n\t\tcolor.fromArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tgetMatrixAt( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t}\n\n\tsetColorAt( index, color ) {\n\n\t\tif ( this.instanceColor === null ) {\n\n\t\t\tthis.instanceColor = new BufferAttribute( new Float32Array( this.count * 3 ), 3 );\n\n\t\t}\n\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tsetMatrixAt( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nInstancedMesh.prototype.isInstancedMesh = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nclass LineBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.linewidth = 1;\n\t\tthis.linecap = 'round';\n\t\tthis.linejoin = 'round';\n\n\t\tthis.morphTargets = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.linewidth = source.linewidth;\n\t\tthis.linecap = source.linecap;\n\t\tthis.linejoin = source.linejoin;\n\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nconst _start$1 = /*@__PURE__*/ new Vector3();\nconst _end$1 = /*@__PURE__*/ new Vector3();\nconst _inverseMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _ray$1 = /*@__PURE__*/ new Ray();\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\n\nclass Line extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new LineBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Line';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere );\n\t\t_sphere$1.applyMatrix4( matrixWorld );\n\t\t_sphere$1.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$1 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.copy( matrixWorld ).invert();\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\tconst b = index.getX( i + 1 );\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nLine.prototype.isLine = true;\n\nconst _start = /*@__PURE__*/ new Vector3();\nconst _end = /*@__PURE__*/ new Vector3();\n\nclass LineSegments extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'LineSegments';\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [];\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineSegments.prototype.isLineSegments = true;\n\nclass LineLoop extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'LineLoop';\n\n\t}\n\n}\n\nLineLoop.prototype.isLineLoop = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nclass PointsMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PointsMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.size = 1;\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.morphTargets = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.size = source.size;\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\treturn this;\n\n\t}\n\n}\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\nconst _position$2 = /*@__PURE__*/ new Vector3();\n\nclass Points extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new PointsMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Points';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\t\t_sphere.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i ++ ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\t\ttestPoint( _position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end; i < l; i ++ ) {\n\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\ttestPoint( _position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nPoints.prototype.isPoints = true;\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nclass VideoTexture extends Texture {\n\n\tconstructor( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.format = format !== undefined ? format : RGBFormat;\n\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tconst scope = this;\n\n\t\tfunction updateVideo() {\n\n\t\t\tscope.needsUpdate = true;\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t\tif ( 'requestVideoFrameCallback' in video ) {\n\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.image ).copy( this );\n\n\t}\n\n\tupdate() {\n\n\t\tconst video = this.image;\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nVideoTexture.prototype.isVideoTexture = true;\n\nclass CompressedTexture extends Texture {\n\n\tconstructor( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.image = { width: width, height: height };\n\t\tthis.mipmaps = mipmaps;\n\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\n\t\tthis.flipY = false;\n\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n}\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\nclass CanvasTexture extends Texture {\n\n\tconstructor( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nCanvasTexture.prototype.isCanvasTexture = true;\n\nclass DepthTexture extends Texture {\n\n\tconstructor( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\t\tformat = format !== undefined ? format : DepthFormat;\n\n\t\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t\t}\n\n\t\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\t\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.image = { width: width, height: height };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.flipY = false;\n\t\tthis.generateMipmaps\t= false;\n\n\t}\n\n\n}\n\nDepthTexture.prototype.isDepthTexture = true;\n\nclass CircleGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CircleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tsegments = Math.max( 3, segments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// center point\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tnormals.push( 0, 0, 1 );\n\t\tuvs.push( 0.5, 0.5 );\n\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uvs\n\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tindices.push( i, i + 1, 0 );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass CylinderGeometry extends BufferGeometry {\n\n\tconstructor( radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'CylinderGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tconst scope = this;\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet index = 0;\n\t\tconst indexArray = [];\n\t\tconst halfHeight = height / 2;\n\t\tlet groupStart = 0;\n\n\t\t// generate geometry\n\n\t\tgenerateTorso();\n\n\t\tif ( openEnded === false ) {\n\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generateTorso() {\n\n\t\t\tconst normal = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\t// this will be used to calculate the normal\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\t\tconst indexRow = [];\n\n\t\t\t\tconst v = y / heightSegments;\n\n\t\t\t\t// calculate the radius of the current row\n\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t\t// vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t// normal\n\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\t// uv\n\n\t\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t\t}\n\n\t\t\t\t// now save vertices of the row in our index array\n\n\t\t\t\tindexArray.push( indexRow );\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// update group counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t\tfunction generateCap( top ) {\n\n\t\t\t// save the index of the first center vertex\n\t\t\tconst centerIndexStart = index;\n\n\t\t\tconst uv = new Vector2();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t\t// first we generate the center vertex data of the cap.\n\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// save the index of the last center vertex\n\t\t\tconst centerIndexEnd = index;\n\n\t\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\tif ( top === true ) {\n\n\t\t\t\t\t// face top\n\n\t\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// face bottom\n\n\t\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t\t}\n\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t}\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n\tconstructor( radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t\tthis.type = 'ConeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n}\n\nclass PolyhedronGeometry extends BufferGeometry {\n\n\tconstructor( vertices, indices, radius = 1, detail = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\t// default buffer data\n\n\t\tconst vertexBuffer = [];\n\t\tconst uvBuffer = [];\n\n\t\t// the subdivision creates the vertex buffer data\n\n\t\tsubdivide( detail );\n\n\t\t// all vertices should lie on a conceptual sphere with a given radius\n\n\t\tapplyRadius( radius );\n\n\t\t// finally, create the uv data\n\n\t\tgenerateUVs();\n\n\t\t// build non-indexed geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\t\tif ( detail === 0 ) {\n\n\t\t\tthis.computeVertexNormals(); // flat normals\n\n\t\t} else {\n\n\t\t\tthis.normalizeNormals(); // smooth normals\n\n\t\t}\n\n\t\t// helper functions\n\n\t\tfunction subdivide( detail ) {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t// get the vertices of the face\n\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t\t// perform subdivision\n\n\t\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\t\tconst cols = detail + 1;\n\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\tconst v = [];\n\n\t\t\t// construct all of the vertices for this subdivision\n\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\t\tv[ i ] = [];\n\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\t\tconst rows = cols - i;\n\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// construct all of the faces\n\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction applyRadius( radius ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t\t}\n\n\t\t\tcorrectUVs();\n\n\t\t\tcorrectSeam();\n\n\t\t}\n\n\t\tfunction correctSeam() {\n\n\t\t\t// handle case when face straddles the seam, see #3269\n\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t\t// uv data of a single face\n\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushVertex( vertex ) {\n\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tfunction getVertexByIndex( index, vertex ) {\n\n\t\t\tconst stride = index * 3;\n\n\t\t\tvertex.x = vertices[ stride + 0 ];\n\t\t\tvertex.y = vertices[ stride + 1 ];\n\t\t\tvertex.z = vertices[ stride + 2 ];\n\n\t\t}\n\n\t\tfunction correctUVs() {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\tconst centroid = new Vector3();\n\n\t\t\tconst uvA = new Vector2();\n\t\t\tconst uvB = new Vector2();\n\t\t\tconst uvC = new Vector2();\n\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\t\tconst azi = azimuth( centroid );\n\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t\t}\n\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\t\tfunction azimuth( vector ) {\n\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t\t}\n\n\n\t\t// Angle above the XZ plane.\n\n\t\tfunction inclination( vector ) {\n\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t\t}\n\n\t}\n\n}\n\nclass DodecahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tconst r = 1 / t;\n\n\t\tconst vertices = [\n\n\t\t\t// (±1, ±1, ±1)\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t\t// (0, ±1/φ, ±φ)\n\t\t\t0, - r, - t, 0, - r, t,\n\t\t\t0, r, - t, 0, r, t,\n\n\t\t\t// (±1/φ, ±φ, 0)\n\t\t\t- r, - t, 0, - r, t, 0,\n\t\t\tr, - t, 0, r, t, 0,\n\n\t\t\t// (±φ, 0, ±1/φ)\n\t\t\t- t, 0, - r, t, 0, - r,\n\t\t\t- t, 0, r, t, 0, r\n\t\t];\n\n\t\tconst indices = [\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'DodecahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nconst _v0 = new Vector3();\nconst _v1$1 = new Vector3();\nconst _normal = new Vector3();\nconst _triangle = new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n\tconstructor( geometry, thresholdAngle ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EdgesGeometry';\n\n\t\tthis.parameters = {\n\t\t\tthresholdAngle: thresholdAngle\n\t\t};\n\n\t\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t\tif ( geometry.isGeometry === true ) {\n\n\t\t\tconsole.error( 'THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst precisionPoints = 4;\n\t\tconst precision = Math.pow( 10, precisionPoints );\n\t\tconst thresholdDot = Math.cos( DEG2RAD * thresholdAngle );\n\n\t\tconst indexAttr = geometry.getIndex();\n\t\tconst positionAttr = geometry.getAttribute( 'position' );\n\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n\t\tconst indexArr = [ 0, 0, 0 ];\n\t\tconst vertKeys = [ 'a', 'b', 'c' ];\n\t\tconst hashes = new Array( 3 );\n\n\t\tconst edgeData = {};\n\t\tconst vertices = [];\n\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\n\n\t\t\tif ( indexAttr ) {\n\n\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\n\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\n\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\n\n\t\t\t} else {\n\n\t\t\t\tindexArr[ 0 ] = i;\n\t\t\t\tindexArr[ 1 ] = i + 1;\n\t\t\t\tindexArr[ 2 ] = i + 2;\n\n\t\t\t}\n\n\t\t\tconst { a, b, c } = _triangle;\n\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\n\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\n\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\n\t\t\t_triangle.getNormal( _normal );\n\n\t\t\t// create hashes for the edge from the vertices\n\t\t\thashes[ 0 ] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\n\t\t\thashes[ 1 ] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\n\t\t\thashes[ 2 ] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\n\n\t\t\t// skip degenerate triangles\n\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// iterate over every edge\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\tconst jNext = ( j + 1 ) % 3;\n\t\t\t\tconst vecHash0 = hashes[ j ];\n\t\t\t\tconst vecHash1 = hashes[ jNext ];\n\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\n\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\n\n\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\n\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\n\n\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\tif ( _normal.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\n\n\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\n\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tedgeData[ reverseHash ] = null;\n\n\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\n\n\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\tedgeData[ hash ] = {\n\n\t\t\t\t\t\tindex0: indexArr[ j ],\n\t\t\t\t\t\tindex1: indexArr[ jNext ],\n\t\t\t\t\t\tnormal: _normal.clone(),\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\n\t\tfor ( const key in edgeData ) {\n\n\t\t\tif ( edgeData[ key ] ) {\n\n\t\t\t\tconst { index0, index1 } = edgeData[ key ];\n\t\t\t\t_v0.fromBufferAttribute( positionAttr, index0 );\n\t\t\t\t_v1$1.fromBufferAttribute( positionAttr, index1 );\n\n\t\t\t\tvertices.push( _v0.x, _v0.y, _v0.z );\n\t\t\t\tvertices.push( _v1$1.x, _v1$1.y, _v1$1.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.2)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\n\t\tconst triangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tlet p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tconst minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tconst a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tconst queue = [];\n\tlet i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tconst b = splitPolygon( outerNode, hole );\n\n\t\t// filter collinear points around the cuts\n\t\tfilterPoints( outerNode, outerNode.next );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode;\n\tconst hx = hole.x;\n\tconst hy = hole.y;\n\tlet qx = - Infinity, m;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tconst stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y;\n\tlet tanMin = Infinity, tan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t\t( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t\t( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // dones't intersect other edges\n\t\t( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n\t\t( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n\t\tequals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( area( p1, q1, p2 ) );\n\tconst o2 = sign( area( p1, q1, q2 ) );\n\tconst o3 = sign( area( p2, q2, p1 ) );\n\tconst o4 = sign( area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false;\n\tconst px = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tconst a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\nclass ShapeUtils {\n\n\t// calculate area of the contour polygon\n\n\tstatic area( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t}\n\n\tstatic isClockWise( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t}\n\n\tstatic triangulateShape( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n}\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends BufferGeometry {\n\n\tconstructor( shapes, options ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\t\tconst scope = this;\n\n\t\tconst verticesArray = [];\n\t\tconst uvArray = [];\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\t\t\taddShape( shape );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\t\tthis.computeVertexNormals();\n\n\t\t// functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst placeholder = [];\n\n\t\t\t// options\n\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\tlet depth = options.depth !== undefined ? options.depth : 100;\n\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\t\tconst extrudePath = options.extrudePath;\n\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t\t// deprecated options\n\n\t\t\tif ( options.amount !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\t\tdepth = options.amount;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet extrudePts, extrudeByPath = false;\n\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\tif ( extrudePath ) {\n\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\t\textrudeByPath = true;\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t\t// SETUP TNB variables\n\n\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\tbinormal = new Vector3();\n\t\t\t\tnormal = new Vector3();\n\t\t\t\tposition2 = new Vector3();\n\n\t\t\t}\n\n\t\t\t// Safeguards if bevels are not enabled\n\n\t\t\tif ( ! bevelEnabled ) {\n\n\t\t\t\tbevelSegments = 0;\n\t\t\t\tbevelThickness = 0;\n\t\t\t\tbevelSize = 0;\n\t\t\t\tbevelOffset = 0;\n\n\t\t\t}\n\n\t\t\t// Variables initialization\n\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\t\tlet vertices = shapePoints.shape;\n\t\t\tconst holes = shapePoints.holes;\n\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\t\tif ( reverse ) {\n\n\t\t\t\tvertices = vertices.reverse();\n\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t\t/* Vertices */\n\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tvertices = vertices.concat( ahole );\n\n\t\t\t}\n\n\n\t\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\t\tif ( ! vec ) console.error( 'THREE.ExtrudeGeometry: vec does not exist' );\n\n\t\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t\t}\n\n\t\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t\t// Find directions for point movement\n\n\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t//\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t\t// check for collinear edges\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not collinear\n\n\t\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t//  but prevent crazy spikes\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t\t}\n\n\n\t\t\tconst contourMovements = [];\n\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t\t}\n\n\t\t\tconst holesMovements = [];\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\toneHoleMovements = [];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t\t}\n\n\t\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t\t}\n\n\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t\t// Back facing vertices\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add stepped vertices...\n\t\t\t// Including front facing vertices\n\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Add bevel segments planes\n\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Faces */\n\n\t\t\t// Top and bottom faces\n\n\t\t\tbuildLidFaces();\n\n\t\t\t// Sides faces\n\n\t\t\tbuildSideFaces();\n\n\n\t\t\t/////  Internal functions\n\n\t\t\tfunction buildLidFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t\t}\n\n\t\t\t// Create faces for the z-sides of the shape\n\n\t\t\tfunction buildSideFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\tlet layeroffset = 0;\n\t\t\t\tsidewalls( contour, layeroffset );\n\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t\t//, true\n\t\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t\t}\n\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t\t}\n\n\t\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\t\tlet i = contour.length;\n\n\t\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\t\tconst j = i;\n\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction v( x, y, z ) {\n\n\t\t\t\tplaceholder.push( x );\n\t\t\t\tplaceholder.push( y );\n\t\t\t\tplaceholder.push( z );\n\n\t\t\t}\n\n\n\t\t\tfunction f3( a, b, c ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\n\t\t\t}\n\n\t\t\tfunction f4( a, b, c, d ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( d );\n\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\t\t\t\taddVertex( d );\n\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t}\n\n\t\t\tfunction addVertex( index ) {\n\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t\t}\n\n\n\t\t\tfunction addUV( vector2 ) {\n\n\t\t\t\tuvArray.push( vector2.x );\n\t\t\t\tuvArray.push( vector2.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON$1( shapes, options, data );\n\n\t}\n\n}\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n\n};\n\nfunction toJSON$1( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\nclass IcosahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\t\tconst vertices = [\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'IcosahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nclass LatheGeometry extends BufferGeometry {\n\n\tconstructor( points, segments = 12, phiStart = 0, phiLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tsegments = Math.floor( segments );\n\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\tphiLength = clamp( phiLength, 0, Math.PI * 2 );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst inverseSegments = 1.0 / segments;\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices and uvs\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\t\tconst sin = Math.sin( phi );\n\t\t\tconst cos = Math.cos( phi );\n\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\t\tvertex.y = points[ j ].y;\n\t\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = i / segments;\n\t\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\t\tconst base = j + i * points.length;\n\n\t\t\t\tconst a = base;\n\t\t\t\tconst b = base + points.length;\n\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\tconst d = base + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// generate normals\n\n\t\tthis.computeVertexNormals();\n\n\t\t// if the geometry is closed, we need to average the normals along the seam.\n\t\t// because the corresponding vertices are identical (but still have different UVs).\n\n\t\tif ( phiLength === Math.PI * 2 ) {\n\n\t\t\tconst normals = this.attributes.normal.array;\n\t\t\tconst n1 = new Vector3();\n\t\t\tconst n2 = new Vector3();\n\t\t\tconst n = new Vector3();\n\n\t\t\t// this is the buffer offset for the last line of vertices\n\n\t\t\tconst base = segments * points.length * 3;\n\n\t\t\tfor ( let i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t\t// select the normal of the vertex in the first line\n\n\t\t\t\tn1.x = normals[ j + 0 ];\n\t\t\t\tn1.y = normals[ j + 1 ];\n\t\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t\t// select the normal of the vertex in the last line\n\n\t\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t\t// average normals\n\n\t\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t\t// assign the new values to both normals\n\n\t\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nclass OctahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t\t1, 3, 4,\t1, 4, 2\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'OctahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\n/**\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\nclass ParametricGeometry extends BufferGeometry {\n\n\tconstructor( func, slices, stacks ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ParametricGeometry';\n\n\t\tthis.parameters = {\n\t\t\tfunc: func,\n\t\t\tslices: slices,\n\t\t\tstacks: stacks\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tconst EPS = 0.00001;\n\n\t\tconst normal = new Vector3();\n\n\t\tconst p0 = new Vector3(), p1 = new Vector3();\n\t\tconst pu = new Vector3(), pv = new Vector3();\n\n\t\tif ( func.length < 3 ) {\n\n\t\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t\t}\n\n\t\t// generate vertices, normals and uvs\n\n\t\tconst sliceCount = slices + 1;\n\n\t\tfor ( let i = 0; i <= stacks; i ++ ) {\n\n\t\t\tconst v = i / stacks;\n\n\t\t\tfor ( let j = 0; j <= slices; j ++ ) {\n\n\t\t\t\tconst u = j / slices;\n\n\t\t\t\t// vertex\n\n\t\t\t\tfunc( u, v, p0 );\n\t\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t\t// normal\n\n\t\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t\t}\n\n\t\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, v );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let i = 0; i < stacks; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < slices; j ++ ) {\n\n\t\t\t\tconst a = i * sliceCount + j;\n\t\t\t\tconst b = i * sliceCount + j + 1;\n\t\t\t\tconst c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\t\tconst d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t\t// faces one and two\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass RingGeometry extends BufferGeometry {\n\n\tconstructor( innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthetaSegments = Math.max( 3, thetaSegments );\n\t\tphiSegments = Math.max( 1, phiSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// some helper variables\n\n\t\tlet radius = innerRadius;\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t\t// increase the radius for next row of vertices\n\n\t\t\tradius += radiusStep;\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\t\tconst a = segment;\n\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\tconst d = segment + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass ShapeGeometry extends BufferGeometry {\n\n\tconstructor( shapes, curveSegments = 12 ) {\n\n\t\tsuper();\n\t\tthis.type = 'ShapeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet groupStart = 0;\n\t\tlet groupCount = 0;\n\n\t\t// allow single and array values for \"shapes\" parameter\n\n\t\tif ( Array.isArray( shapes ) === false ) {\n\n\t\t\taddShape( shapes );\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\t\taddShape( shapes[ i ] );\n\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t\tgroupCount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t// helper functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\t\tlet shapeVertices = points.shape;\n\t\t\tconst shapeHoles = points.holes;\n\n\t\t\t// check direction of vertices\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t\t// join vertices of inner and outer paths to a single array\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t\t}\n\n\t\t\t// vertices, normals, uvs\n\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\t\tnormals.push( 0, 0, 1 );\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t\t}\n\n\t\t\t// incides\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\t\tindices.push( a, b, c );\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON( shapes, data );\n\n\t}\n\n}\n\nfunction toJSON( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass SphereGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, widthSegments = 8, heightSegments = 6, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI ) {\n\n\t\tsuper();\n\t\tthis.type = 'SphereGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) );\n\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\t\tlet index = 0;\n\t\tconst grid = [];\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\t\tconst verticesRow = [];\n\n\t\t\tconst v = iy / heightSegments;\n\n\t\t\t// special case for the poles\n\n\t\t\tlet uOffset = 0;\n\n\t\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t\t}\n\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\t\tconst u = ix / widthSegments;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.copy( vertex ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\t\tverticesRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\tgrid.push( verticesRow );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass TetrahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'TetrahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nclass TextGeometry extends ExtrudeGeometry {\n\n\tconstructor( text, parameters = {} ) {\n\n\t\tconst font = parameters.font;\n\n\t\tif ( ! ( font && font.isFont ) ) {\n\n\t\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\t\treturn new BufferGeometry();\n\n\t\t}\n\n\t\tconst shapes = font.generateShapes( text, parameters.size );\n\n\t\t// translate parameters to ExtrudeGeometry API\n\n\t\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t\t// defaults\n\n\t\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\t\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\t\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\t\tsuper( shapes, parameters );\n\n\t\tthis.type = 'TextGeometry';\n\n\t}\n\n}\n\nclass TorusGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\ttubularSegments = Math.floor( tubularSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst center = new Vector3();\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass TorusKnotGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusKnotGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\ttubularSegments = Math.floor( tubularSegments );\n\t\tradialSegments = Math.floor( radialSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst P1 = new Vector3();\n\t\tconst P2 = new Vector3();\n\n\t\tconst B = new Vector3();\n\t\tconst T = new Vector3();\n\t\tconst N = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t\t// calculate orthonormal basis\n\n\t\t\tT.subVectors( P2, P1 );\n\t\t\tN.addVectors( P2, P1 );\n\t\t\tB.crossVectors( T, N );\n\t\t\tN.crossVectors( B, T );\n\n\t\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\t\tB.normalize();\n\t\t\tN.normalize();\n\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t\t// now calculate the final vertex position.\n\t\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// this function calculates the current position on the torus curve\n\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\t\tconst cu = Math.cos( u );\n\t\t\tconst su = Math.sin( u );\n\t\t\tconst quOverP = q / p * u;\n\t\t\tconst cs = Math.cos( quOverP );\n\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t\t}\n\n\t}\n\n}\n\nclass TubeGeometry extends BufferGeometry {\n\n\tconstructor( path, tubularSegments = 64, radius = 1, radialSegments = 8, closed = false ) {\n\n\t\tsuper();\n\t\tthis.type = 'TubeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = frames.tangents;\n\t\tthis.normals = frames.normals;\n\t\tthis.binormals = frames.binormals;\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tlet P = new Vector3();\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\n\t\t// create buffer data\n\n\t\tgenerateBufferData();\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// functions\n\n\t\tfunction generateBufferData() {\n\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\t\tgenerateSegment( i );\n\n\t\t\t}\n\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t// at the regular position on the given path\n\t\t\t//\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t\t// uvs are generated in a separate function.\n\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\tgenerateUVs();\n\n\t\t\t// finally create faces\n\n\t\t\tgenerateIndices();\n\n\t\t}\n\n\t\tfunction generateSegment( i ) {\n\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t\t// retrieve corresponding normal and binormal\n\n\t\t\tconst N = frames.normals[ i ];\n\t\t\tconst B = frames.binormals[ i ];\n\n\t\t\t// generate normals and vertices for the current segment\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\tconst sin = Math.sin( v );\n\t\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\t\tnormal.normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateIndices() {\n\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.path = this.parameters.path.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n\tconstructor( geometry ) {\n\n\t\tsuper();\n\t\tthis.type = 'WireframeGeometry';\n\n\t\tif ( geometry.isGeometry === true ) {\n\n\t\t\tconsole.error( 'THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\n\t\t// helper variables\n\n\t\tconst edge = [ 0, 0 ], edges = {};\n\n\t\tconst vertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst indices = geometry.index;\n\t\t\tlet groups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\tconst start = group.start;\n\t\t\t\tconst count = group.count;\n\n\t\t\t\tfor ( let i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tconst edge1 = indices.getX( i + j );\n\t\t\t\t\t\tconst edge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tconst key = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( const key in edges ) {\n\n\t\t\t\tconst e = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\n\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeGeometry,\n\tWireframeGeometry: WireframeGeometry\n});\n\n/**\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nclass ShadowMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShadowMaterial';\n\n\t\tthis.color = new Color( 0x000000 );\n\t\tthis.transparent = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\treturn this;\n\n\t}\n\n}\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nclass RawShaderMaterial extends ShaderMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper( parameters );\n\n\t\tthis.type = 'RawShaderMaterial';\n\n\t}\n\n}\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshStandardMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.type = 'MeshStandardMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.roughness = 1.0;\n\t\tthis.metalness = 0.0;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.roughnessMap = null;\n\n\t\tthis.metalnessMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.envMapIntensity = 1.0;\n\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.vertexTangents = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.color.copy( source.color );\n\t\tthis.roughness = source.roughness;\n\t\tthis.metalness = source.metalness;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.roughnessMap = source.roughnessMap;\n\n\t\tthis.metalnessMap = source.metalnessMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.envMapIntensity = source.envMapIntensity;\n\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.vertexTangents = source.vertexTangents;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\n/**\n * parameters = {\n *  clearcoat: <float>,\n *  clearcoatMap: new THREE.Texture( <Image> ),\n *  clearcoatRoughness: <float>,\n *  clearcoatRoughnessMap: new THREE.Texture( <Image> ),\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n *\n *  reflectivity: <float>,\n *  ior: <float>,\n *\n *  sheen: <Color>,\n *\n *  transmission: <float>,\n *  transmissionMap: new THREE.Texture( <Image> )\n * }\n */\n\nclass MeshPhysicalMaterial extends MeshStandardMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.type = 'MeshPhysicalMaterial';\n\n\t\tthis.clearcoat = 0.0;\n\t\tthis.clearcoatMap = null;\n\t\tthis.clearcoatRoughness = 0.0;\n\t\tthis.clearcoatRoughnessMap = null;\n\t\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\t\tthis.clearcoatNormalMap = null;\n\n\t\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\t\tObject.defineProperty( this, 'ior', {\n\t\t\tget: function () {\n\n\t\t\t\treturn ( 1 + 0.4 * this.reflectivity ) / ( 1 - 0.4 * this.reflectivity );\n\n\t\t\t},\n\t\t\tset: function ( ior ) {\n\n\t\t\t\tthis.reflectivity = clamp( 2.5 * ( ior - 1 ) / ( ior + 1 ), 0, 1 );\n\n\t\t\t}\n\t\t} );\n\n\t\tthis.sheen = null; // null will disable sheen bsdf\n\n\t\tthis.transmission = 0.0;\n\t\tthis.transmissionMap = null;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.clearcoat = source.clearcoat;\n\t\tthis.clearcoatMap = source.clearcoatMap;\n\t\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\t\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\t\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\t\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\t\tthis.reflectivity = source.reflectivity;\n\n\t\tif ( source.sheen ) {\n\n\t\t\tthis.sheen = ( this.sheen || new Color() ).copy( source.sheen );\n\n\t\t} else {\n\n\t\t\tthis.sheen = null;\n\n\t\t}\n\n\t\tthis.transmission = source.transmission;\n\t\tthis.transmissionMap = source.transmissionMap;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshPhongMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshPhongMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.specular = new Color( 0x111111 );\n\t\tthis.shininess = 30;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.specular.copy( source.specular );\n\t\tthis.shininess = source.shininess;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nclass MeshToonMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'TOON': '' };\n\n\t\tthis.type = 'MeshToonMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\t\tthis.gradientMap = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\t\tthis.gradientMap = source.gradientMap;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\n/**\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshNormalMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshNormalMaterial';\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nclass MeshLambertMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshLambertMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshMatcapMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.type = 'MeshMatcapMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.matcap = null;\n\n\t\tthis.map = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.matcap = source.matcap;\n\n\t\tthis.map = source.map;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nclass LineDashedMaterial extends LineBasicMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineDashedMaterial';\n\n\t\tthis.scale = 1;\n\t\tthis.dashSize = 3;\n\t\tthis.gapSize = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.scale = source.scale;\n\t\tthis.dashSize = source.dashSize;\n\t\tthis.gapSize = source.gapSize;\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\nconst AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tconst n = times.length;\n\t\tconst result = new Array( n );\n\t\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tconst nValues = values.length;\n\t\tconst result = new values.constructor( nValues );\n\n\t\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tconst srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tlet i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tlet value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps = 30 ) {\n\n\t\tconst clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tconst track = clip.tracks[ i ];\n\t\t\tconst valueSize = track.getValueSize();\n\n\t\t\tconst times = [];\n\t\t\tconst values = [];\n\n\t\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tlet minStartTime = Infinity;\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t},\n\n\tmakeClipAdditive: function ( targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30 ) {\n\n\t\tif ( fps <= 0 ) fps = 30;\n\n\t\tconst numTracks = referenceClip.tracks.length;\n\t\tconst referenceTime = referenceFrame / fps;\n\n\t\t// Make each track's values relative to the values at the reference frame\n\t\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t\t// Skip this track if it's non-numeric\n\t\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t\t} );\n\n\t\t\tif ( targetTrack === undefined ) continue;\n\n\t\t\tlet referenceOffset = 0;\n\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\treferenceOffset = referenceValueSize / 3;\n\n\t\t\t}\n\n\t\t\tlet targetOffset = 0;\n\t\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\ttargetOffset = targetValueSize / 3;\n\n\t\t\t}\n\n\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\tlet referenceValue;\n\n\t\t\t// Find the value to subtract out of the track\n\t\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else {\n\n\t\t\t\t// Interpolate to the reference value\n\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( interpolant.resultBuffer, startIndex, endIndex );\n\n\t\t\t}\n\n\t\t\t// Conjugate the quaternion\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\n\t\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t\t}\n\n\t\t\t// Subtract the reference value from all of the track values\n\n\t\t\tconst numTimes = targetTrack.times.length;\n\t\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart,\n\t\t\t\t\t\treferenceValue,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\n\n\t\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\n\n\t\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\t\treturn targetClip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nclass Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tthis.parameterPositions = parameterPositions;\n\t\tthis._cachedIndex = 0;\n\n\t\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\t\tthis.sampleValues = sampleValues;\n\t\tthis.valueSize = sampleSize;\n\n\t\tthis.settings = null;\n\t\tthis.DefaultSettings_ = {};\n\n\t}\n\n\tevaluate( t ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet i1 = this._cachedIndex,\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t}\n\n\tgetSettings_() {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// Template methods for derived classes:\n\n\tinterpolate_( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t}\n\n\tintervalChanged_( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n}\n\n// ALIAS DEFINITIONS\n\nInterpolant.prototype.beforeStart_ = Interpolant.prototype.copySampleValue_;\nInterpolant.prototype.afterEnd_ = Interpolant.prototype.copySampleValue_;\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nclass CubicInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t\tthis._weightPrev = - 0;\n\t\tthis._offsetPrev = - 0;\n\t\tthis._weightNext = - 0;\n\t\tthis._offsetNext = - 0;\n\n\t\tthis.DefaultSettings_ = {\n\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\n\t\t};\n\n\t}\n\n\tintervalChanged_( i1, t0, t1 ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet iPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nclass LinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n */\n\nclass DiscreteInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n}\n\nclass KeyframeTrack {\n\n\tconstructor( name, times, values, interpolation ) {\n\n\t\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\t\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\t\tthis.name = name;\n\n\t\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\t\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\t\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n\t}\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\tstatic toJSON( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== this.toJSON ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n\tInterpolantFactoryMethodDiscrete( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodSmooth( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tsetInterpolation( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = 'unsupported interpolation for ' +\n\t\t\t\tthis.ValueTypeName + ' keyframe track named ' + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t}\n\n\tgetInterpolation() {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t}\n\n\tgetValueSize() {\n\n\t\treturn this.values.length / this.times.length;\n\n\t}\n\n\t// move all keyframes either forwards or backwards in time\n\tshift( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize() {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== times[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tconst values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n}\n\nKeyframeTrack.prototype.TimeBufferType = Float32Array;\nKeyframeTrack.prototype.ValueBufferType = Float32Array;\nKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n/**\n * A Track of Boolean keyframe values.\n */\nclass BooleanKeyframeTrack extends KeyframeTrack {}\n\nBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\nBooleanKeyframeTrack.prototype.ValueBufferType = Array;\nBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of keyframe values that represent color.\n */\nclass ColorKeyframeTrack extends KeyframeTrack {}\n\nColorKeyframeTrack.prototype.ValueTypeName = 'color';\n\n/**\n * A Track of numeric keyframe values.\n */\nclass NumberKeyframeTrack extends KeyframeTrack {}\n\nNumberKeyframeTrack.prototype.ValueTypeName = 'number';\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nclass QuaternionLinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n * A Track of quaternion keyframe values.\n */\nclass QuaternionKeyframeTrack extends KeyframeTrack {\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n}\n\nQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion';\n// ValueBufferType is inherited\nQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\nQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track that interpolates Strings\n */\nclass StringKeyframeTrack extends KeyframeTrack {}\n\nStringKeyframeTrack.prototype.ValueTypeName = 'string';\nStringKeyframeTrack.prototype.ValueBufferType = Array;\nStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of vectored keyframe values.\n */\nclass VectorKeyframeTrack extends KeyframeTrack {}\n\nVectorKeyframeTrack.prototype.ValueTypeName = 'vector';\n\nclass AnimationClip {\n\n\tconstructor( name, duration = - 1, tracks, blendMode = NormalAnimationBlendMode ) {\n\n\t\tthis.name = name;\n\t\tthis.tracks = tracks;\n\t\tthis.duration = duration;\n\t\tthis.blendMode = blendMode;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// this means it should figure out its duration by scanning the tracks\n\t\tif ( this.duration < 0 ) {\n\n\t\t\tthis.resetDuration();\n\n\t\t}\n\n\t}\n\n\n\tstatic parse( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\tconst clip = new this( json.name, json.duration, tracks, json.blendMode );\n\t\tclip.uuid = json.uuid;\n\n\t\treturn clip;\n\n\t}\n\n\tstatic toJSON( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\tstatic CreateFromMorphTargetSequence( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new this( name, - 1, tracks );\n\n\t}\n\n\tstatic findByName( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tstatic CreateClipsFromMorphTargetSequences( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( this.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t}\n\n\t// parse the animation.hierarchy format\n\tstatic parseAnimation( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new this( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n\tresetDuration() {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t}\n\n\ttrim() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\toptimize() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new this.constructor( this.name, this.duration, tracks, this.blendMode );\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.constructor.toJSON( this );\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\nclass LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nclass Loader {\n\n\tconstructor( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.withCredentials = false;\n\t\tthis.path = '';\n\t\tthis.resourcePath = '';\n\t\tthis.requestHeader = {};\n\n\t}\n\n\tload( /* url, onLoad, onProgress, onError */ ) {}\n\n\tloadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t}\n\n\tparse( /* data */ ) {}\n\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\tsetWithCredentials( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t}\n\n\tsetPath( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t}\n\n\tsetResourcePath( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n\tsetRequestHeader( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n}\n\nconst loading = {};\n\nclass FileLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tconst dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tconst dataUriRegexResult = url.match( dataUriRegex );\n\t\tlet request;\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tconst mimeType = dataUriRegexResult[ 1 ];\n\t\t\tconst isBase64 = !! dataUriRegexResult[ 2 ];\n\n\t\t\tlet data = dataUriRegexResult[ 3 ];\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tlet response;\n\t\t\t\tconst responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tconst view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\trequest = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tconst response = this.response;\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\t\tCache.add( url, response );\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( const header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t}\n\n\tsetResponseType( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t}\n\n\tsetMimeType( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass CompressedTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst images = [];\n\n\t\tconst texture = new CompressedTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 ) texture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.image = images;\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.image = images;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\nclass CubeTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass DataTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst texture = new DataTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setPath( this.path );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tconst texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.encoding !== undefined ) {\n\n\t\t\t\ttexture.encoding = texData.encoding;\n\n\t\t\t}\n\n\t\t\tif ( texData.flipY !== undefined ) {\n\n\t\t\t\ttexture.flipY = texData.flipY;\n\n\t\t\t}\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\tif ( texData.generateMipmaps !== undefined ) {\n\n\t\t\t\ttexture.generateMipmaps = texData.generateMipmaps;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass TextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tconst isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nclass Curve {\n\n\tconstructor() {\n\n\t\tthis.type = 'Curve';\n\n\t\tthis.arcLengthDivisions = 200;\n\n\t}\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t}\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t}\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get total curve arc length\n\n\tgetLength() {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t}\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths( divisions = this.arcLengthDivisions ) {\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t}\n\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t}\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0;\n\t\tconst il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t}\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tgetTangentAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t}\n\n\tcomputeFrenetFrames( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass EllipseCurve extends Curve {\n\n\tconstructor( aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EllipseCurve';\n\n\t\tthis.aX = aX;\n\t\tthis.aY = aY;\n\n\t\tthis.xRadius = xRadius;\n\t\tthis.yRadius = yRadius;\n\n\t\tthis.aStartAngle = aStartAngle;\n\t\tthis.aEndAngle = aEndAngle;\n\n\t\tthis.aClockwise = aClockwise;\n\n\t\tthis.aRotation = aRotation;\n\n\t}\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst point = optionalTarget || new Vector2();\n\n\t\tconst twoPi = Math.PI * 2;\n\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t\t// ensures that deltaAngle is 0 .. 2 PI\n\t\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\t\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\t\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\t\tif ( samePoints ) {\n\n\t\t\t\tdeltaAngle = 0;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\t\tdeltaAngle = - twoPi;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst angle = this.aStartAngle + t * deltaAngle;\n\t\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\t\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\t\tif ( this.aRotation !== 0 ) {\n\n\t\t\tconst cos = Math.cos( this.aRotation );\n\t\t\tconst sin = Math.sin( this.aRotation );\n\n\t\t\tconst tx = x - this.aX;\n\t\t\tconst ty = y - this.aY;\n\n\t\t\t// Rotate the point about the center of the ellipse.\n\t\t\tx = tx * cos - ty * sin + this.aX;\n\t\t\ty = tx * sin + ty * cos + this.aY;\n\n\t\t}\n\n\t\treturn point.set( x, y );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.aX = source.aX;\n\t\tthis.aY = source.aY;\n\n\t\tthis.xRadius = source.xRadius;\n\t\tthis.yRadius = source.yRadius;\n\n\t\tthis.aStartAngle = source.aStartAngle;\n\t\tthis.aEndAngle = source.aEndAngle;\n\n\t\tthis.aClockwise = source.aClockwise;\n\n\t\tthis.aRotation = source.aRotation;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.aX = this.aX;\n\t\tdata.aY = this.aY;\n\n\t\tdata.xRadius = this.xRadius;\n\t\tdata.yRadius = this.yRadius;\n\n\t\tdata.aStartAngle = this.aStartAngle;\n\t\tdata.aEndAngle = this.aEndAngle;\n\n\t\tdata.aClockwise = this.aClockwise;\n\n\t\tdata.aRotation = this.aRotation;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.aX = json.aX;\n\t\tthis.aY = json.aY;\n\n\t\tthis.xRadius = json.xRadius;\n\t\tthis.yRadius = json.yRadius;\n\n\t\tthis.aStartAngle = json.aStartAngle;\n\t\tthis.aEndAngle = json.aEndAngle;\n\n\t\tthis.aClockwise = json.aClockwise;\n\n\t\tthis.aRotation = json.aRotation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nclass ArcCurve extends EllipseCurve {\n\n\tconstructor( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tsuper( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\tthis.type = 'ArcCurve';\n\n\t}\n\n}\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = new Vector3();\nconst px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nclass CatmullRomCurve3 extends Curve {\n\n\tconstructor( points = [], closed = false, curveType = 'centripetal', tension = 0.5 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CatmullRomCurve3';\n\n\t\tthis.points = points;\n\t\tthis.closed = closed;\n\t\tthis.curveType = curveType;\n\t\tthis.tension = tension;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst l = points.length;\n\n\t\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\t\tlet intPoint = Math.floor( p );\n\t\tlet weight = p - intPoint;\n\n\t\tif ( this.closed ) {\n\n\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\t\tintPoint = l - 2;\n\t\t\tweight = 1;\n\n\t\t}\n\n\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\t\tif ( this.closed || intPoint > 0 ) {\n\n\t\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate first point\n\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\t\tp0 = tmp;\n\n\t\t}\n\n\t\tconst p1 = points[ intPoint % l ];\n\t\tconst p2 = points[ ( intPoint + 1 ) % l ];\n\n\t\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate last point\n\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\t\tp3 = tmp;\n\n\t\t}\n\n\t\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t\t// safety check for repeated points\n\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t\t}\n\n\t\tpoint.set(\n\t\t\tpx.calc( weight ),\n\t\t\tpy.calc( weight ),\n\t\t\tpz.calc( weight )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\tthis.closed = source.closed;\n\t\tthis.curveType = source.curveType;\n\t\tthis.tension = source.tension;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\tdata.closed = this.closed;\n\t\tdata.curveType = this.curveType;\n\t\tdata.tension = this.tension;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t\t}\n\n\t\tthis.closed = json.closed;\n\t\tthis.curveType = json.curveType;\n\t\tthis.tension = json.tension;\n\n\t\treturn this;\n\n\t}\n\n}\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\n/**\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nclass CubicBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubicBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nclass CubicBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubicBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nclass LineCurve extends Curve {\n\n\tconstructor( v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineCurve';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst tangent = optionalTarget || new Vector2();\n\n\t\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineCurve.prototype.isLineCurve = true;\n\nclass LineCurve3 extends Curve {\n\n\tconstructor( v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineCurve3';\n\t\tthis.isLineCurve3 = true;\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'QuadraticBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nclass QuadraticBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'QuadraticBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nclass SplineCurve extends Curve {\n\n\tconstructor( points = [] ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SplineCurve';\n\n\t\tthis.points = points;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst p = ( points.length - 1 ) * t;\n\n\t\tconst intPoint = Math.floor( p );\n\t\tconst weight = p - intPoint;\n\n\t\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\t\tconst p1 = points[ intPoint ];\n\t\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\t\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\t\tpoint.set(\n\t\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nSplineCurve.prototype.isSplineCurve = true;\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nclass CurvePath extends Curve {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'CurvePath';\n\n\t\tthis.curves = [];\n\t\tthis.autoClose = false; // Automatically closes the path\n\n\t}\n\n\tadd( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t}\n\n\tclosePath() {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t}\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint( t ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t}\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength() {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t}\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t}\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths() {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t}\n\n\tgetSpacedPoints( divisions = 40 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tgetPoints( divisions = 12 ) {\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Path extends CurvePath {\n\n\tconstructor( points ) {\n\n\t\tsuper();\n\t\tthis.type = 'Path';\n\n\t\tthis.currentPoint = new Vector2();\n\n\t\tif ( points ) {\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t}\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t}\n\n\tarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tabsarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t}\n\n\tabsellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Shape extends Path {\n\n\tconstructor( points ) {\n\n\t\tsuper( points );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.type = 'Shape';\n\n\t\tthis.holes = [];\n\n\t}\n\n\tgetPointsHoles( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t}\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Light extends Object3D {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Light';\n\n\t\tthis.color = new Color( color );\n\t\tthis.intensity = intensity;\n\n\t}\n\n\tdispose() {\n\n\t\t// Empty here in base class; some subclasses override.\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nLight.prototype.isLight = true;\n\nclass HemisphereLight extends Light {\n\n\tconstructor( skyColor, groundColor, intensity ) {\n\n\t\tsuper( skyColor, intensity );\n\n\t\tthis.type = 'HemisphereLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.groundColor = new Color( groundColor );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n}\n\nHemisphereLight.prototype.isHemisphereLight = true;\n\nconst _projScreenMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld$1 = /*@__PURE__*/ new Vector3();\nconst _lookTarget$1 = /*@__PURE__*/ new Vector3();\n\nclass LightShadow {\n\n\tconstructor( camera ) {\n\n\t\tthis.camera = camera;\n\n\t\tthis.bias = 0;\n\t\tthis.normalBias = 0;\n\t\tthis.radius = 1;\n\n\t\tthis.mapSize = new Vector2( 512, 512 );\n\n\t\tthis.map = null;\n\t\tthis.mapPass = null;\n\t\tthis.matrix = new Matrix4();\n\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\n\t\tthis._frustum = new Frustum();\n\t\tthis._frameExtents = new Vector2( 1, 1 );\n\n\t\tthis._viewportCount = 1;\n\n\t\tthis._viewports = [\n\n\t\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t\t];\n\n\t}\n\n\tgetViewportCount() {\n\n\t\treturn this._viewportCount;\n\n\t}\n\n\tgetFrustum() {\n\n\t\treturn this._frustum;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst shadowCamera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\t_lightPositionWorld$1.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( _lightPositionWorld$1 );\n\n\t\t_lookTarget$1.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( _lookTarget$1 );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\t_projScreenMatrix$1.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix$1 );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t}\n\n\tgetViewport( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t}\n\n\tgetFrameExtents() {\n\n\t\treturn this._frameExtents;\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this.map ) {\n\n\t\t\tthis.map.dispose();\n\n\t\t}\n\n\t\tif ( this.mapPass ) {\n\n\t\t\tthis.mapPass.dispose();\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n}\n\nclass SpotLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\t\tthis.focus = 1;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tsuper.updateMatrices( light );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.focus = source.focus;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpotLightShadow.prototype.isSpotLightShadow = true;\n\nclass SpotLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'SpotLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.distance = distance;\n\t\tthis.angle = angle;\n\t\tthis.penumbra = penumbra;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new SpotLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\treturn this.intensity * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\tthis.intensity = power / Math.PI;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpotLight.prototype.isSpotLight = true;\n\nconst _projScreenMatrix = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld = /*@__PURE__*/ new Vector3();\nconst _lookTarget = /*@__PURE__*/ new Vector3();\n\nclass PointLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\t\tthis._frameExtents = new Vector2( 4, 2 );\n\n\t\tthis._viewportCount = 6;\n\n\t\tthis._viewports = [\n\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t// following orientation:\n\t\t\t//\n\t\t\t//  xzXZ\n\t\t\t//   y Y\n\t\t\t//\n\t\t\t// X - Positive x direction\n\t\t\t// x - Negative x direction\n\t\t\t// Y - Positive y direction\n\t\t\t// y - Negative y direction\n\t\t\t// Z - Positive z direction\n\t\t\t// z - Negative z direction\n\n\t\t\t// positive X\n\t\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t\t// negative X\n\t\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t\t// positive Z\n\t\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t\t// negative Z\n\t\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t\t// positive Y\n\t\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t\t// negative Y\n\t\t\tnew Vector4( 1, 0, 1, 1 )\n\t\t];\n\n\t\tthis._cubeDirections = [\n\t\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t\t];\n\n\t\tthis._cubeUps = [\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t\t];\n\n\t}\n\n\tupdateMatrices( light, viewportIndex = 0 ) {\n\n\t\tconst camera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( far !== camera.far ) {\n\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( _lightPositionWorld );\n\n\t\t_lookTarget.copy( camera.position );\n\t\t_lookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( _lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t}\n\n}\n\nPointLightShadow.prototype.isPointLightShadow = true;\n\nclass PointLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'PointLight';\n\n\t\tthis.distance = distance;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new PointLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\treturn this.intensity * 4 * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nPointLight.prototype.isPointLight = true;\n\nclass OrthographicCamera extends Camera {\n\n\tconstructor( left = - 1, right = 1, top = 1, bottom = - 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'OrthographicCamera';\n\n\t\tthis.zoom = 1;\n\t\tthis.view = null;\n\n\t\tthis.left = left;\n\t\tthis.right = right;\n\t\tthis.top = top;\n\t\tthis.bottom = bottom;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t}\n\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n}\n\nOrthographicCamera.prototype.isOrthographicCamera = true;\n\nclass DirectionalLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n\t}\n\n}\n\nDirectionalLightShadow.prototype.isDirectionalLightShadow = true;\n\nclass DirectionalLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'DirectionalLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.shadow = new DirectionalLightShadow();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.target = source.target.clone();\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nDirectionalLight.prototype.isDirectionalLight = true;\n\nclass AmbientLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'AmbientLight';\n\n\t}\n\n}\n\nAmbientLight.prototype.isAmbientLight = true;\n\nclass RectAreaLight extends Light {\n\n\tconstructor( color, intensity, width = 10, height = 10 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'RectAreaLight';\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n}\n\nRectAreaLight.prototype.isRectAreaLight = true;\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n\tconstructor() {\n\n\t\tthis.coefficients = [];\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients.push( new Vector3() );\n\n\t\t}\n\n\t}\n\n\tset( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tzero() {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t}\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t}\n\n\tadd( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\taddScaledSH( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tscale( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tlerp( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcopy( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tstatic getBasisAt( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n}\n\nSphericalHarmonics3.prototype.isSphericalHarmonics3 = true;\n\nclass LightProbe extends Light {\n\n\tconstructor( sh = new SphericalHarmonics3(), intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.sh = sh;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n}\n\nLightProbe.prototype.isLightProbe = true;\n\nclass MaterialLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\t\tthis.textures = {};\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tconst material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined && material.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\n\t\tif ( json.emissive !== undefined && material.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined && material.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.shadowSide !== undefined ) material.shadowSide = json.shadowSide;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.alphaToCoverage !== undefined ) material.alphaToCoverage = json.alphaToCoverage;\n\t\tif ( json.premultipliedAlpha !== undefined ) material.premultipliedAlpha = json.premultipliedAlpha;\n\n\t\tif ( json.vertexTangents !== undefined ) material.vertexTangents = json.vertexTangents;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( const name in json.uniforms ) {\n\n\t\t\t\tconst uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( const key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tlet normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\tif ( json.transmission !== undefined ) material.transmission = json.transmission;\n\t\tif ( json.transmissionMap !== undefined ) material.transmissionMap = getTexture( json.transmissionMap );\n\n\t\treturn material;\n\n\t}\n\n\tsetTextures( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass LoaderUtils {\n\n\tstatic decodeText( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t}\n\n\tstatic extractUrlBase( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n}\n\nclass InstancedBufferGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'InstancedBufferGeometry';\n\t\tthis.instanceCount = Infinity;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON( this );\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nInstancedBufferGeometry.prototype.isInstancedBufferGeometry = true;\n\nclass InstancedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized, meshPerAttribute ) {\n\n\t\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\t\tmeshPerAttribute = normalized;\n\n\t\t\tnormalized = false;\n\n\t\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t\t}\n\n\t\tsuper( array, itemSize, normalized );\n\n\t\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON()\t{\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nInstancedBufferAttribute.prototype.isInstancedBufferAttribute = true;\n\nclass BufferGeometryLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst interleavedBufferMap = {};\n\t\tconst arrayBufferMap = {};\n\n\t\tfunction getInterleavedBuffer( json, uuid ) {\n\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\n\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\n\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\n\n\t\t\tconst array = getTypedArray( interleavedBuffer.type, buffer );\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\n\t\t\tib.uuid = interleavedBuffer.uuid;\n\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\n\n\t\t\treturn ib;\n\n\t\t}\n\n\t\tfunction getArrayBuffer( json, uuid ) {\n\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\n\n\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\n\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\n\n\t\t\tarrayBufferMap[ uuid ] = ab;\n\n\t\t\treturn ab;\n\n\t\t}\n\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tconst index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst typedArray = getTypedArray( index.type, index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tconst attributes = json.data.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\t\t\tlet bufferAttribute;\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t} else {\n\n\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t}\n\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tif ( attribute.usage !== undefined ) bufferAttribute.setUsage( attribute.usage );\n\n\t\t\tif ( attribute.updateRange !== undefined ) {\n\n\t\t\t\tbufferAttribute.updateRange.offset = attribute.updateRange.offset;\n\t\t\t\tbufferAttribute.updateRange.count = attribute.updateRange.count;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( const key in morphAttributes ) {\n\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst attribute = attributeArray[ i ];\n\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tconst center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n}\n\nclass ObjectLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json, onLoad ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\t//\n\n\t\tif ( onLoad !== undefined ) {\n\n\t\t\tlet hasImages = false;\n\n\t\t\tfor ( const uuid in images ) {\n\n\t\t\t\tif ( images[ uuid ] instanceof HTMLImageElement ) {\n\n\t\t\t\t\thasImages = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasImages === false ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tparseShapes( json ) {\n\n\t\tconst shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n\tparseSkeletons( json, object ) {\n\n\t\tconst skeletons = {};\n\t\tconst bones = {};\n\n\t\t// generate bone lookup table\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isBone ) bones[ child.uuid ] = child;\n\n\t\t} );\n\n\t\t// create skeletons\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst skeleton = new Skeleton().fromJSON( json[ i ], bones );\n\n\t\t\t\tskeletons[ skeleton.uuid ] = skeleton;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn skeletons;\n\n\t}\n\n\tparseGeometries( json, shapes ) {\n\n\t\tconst geometries = {};\n\t\tlet geometryShapes;\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tlet geometry;\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t}\n\n\tparseMaterials( json, textures ) {\n\n\t\tconst cache = {}; // MultiMaterial\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor ( let j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tconst material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t}\n\n\tparseAnimations( json ) {\n\n\t\tconst animations = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tconst clip = AnimationClip.parse( data );\n\n\t\t\t\tanimations[ clip.uuid ] = clip;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n\tparseImages( json, onLoad ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn loadImage( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tconst manager = new LoadingManager( onLoad );\n\n\t\t\tloader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = deserializeImage( image.url );\n\n\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\timages[ image.uuid ] = deserializedImage;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tparseTextures( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tconst textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tlet texture;\n\t\t\t\tconst image = images[ data.image ];\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( image );\n\n\t\t\t\t\tif ( image.length === 6 ) texture.needsUpdate = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( image && image.data ) {\n\n\t\t\t\t\t\ttexture = new DataTexture( image.data, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttexture = new Texture( image );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( image ) texture.needsUpdate = true; // textures can have undefined image data\n\n\t\t\t\t}\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t}\n\n\tparseObject( data, geometries, materials, animations ) {\n\n\t\tlet object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tlet geometry, material;\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LightProbe':\n\n\t\t\t\tobject = new LightProbe().fromJSON( data );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t \tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\tif ( data.bindMode !== undefined ) object.bindMode = data.bindMode;\n\t\t\t\tif ( data.bindMatrix !== undefined ) object.bindMatrix.fromArray( data.bindMatrix );\n\t\t\t\tif ( data.skeleton !== undefined ) object.skeleton = data.skeleton;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\t\t\t\tconst count = data.count;\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\t\t\t\tconst instanceColor = data.instanceColor;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\t\t\t\tif ( instanceColor !== undefined ) object.instanceColor = new BufferAttribute( new Float32Array( instanceColor.array ), instanceColor.itemSize );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Bone':\n\n\t\t\t\tobject = new Bone();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials, animations ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.animations !== undefined ) {\n\n\t\t\tconst objectAnimations = data.animations;\n\n\t\t\tfor ( let i = 0; i < objectAnimations.length; i ++ ) {\n\n\t\t\t\tconst uuid = objectAnimations[ i ];\n\n\t\t\t\tobject.animations.push( animations[ uuid ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tconst levels = data.levels;\n\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tconst level = levels[ l ];\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tbindSkeletons( object, skeletons ) {\n\n\t\tif ( Object.keys( skeletons ).length === 0 ) return;\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isSkinnedMesh === true && child.skeleton !== undefined ) {\n\n\t\t\t\tconst skeleton = skeletons[ child.skeleton ];\n\n\t\t\t\tif ( skeleton === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tchild.bind( skeleton, child.bindMatrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/* DEPRECATED */\n\n\tsetTexturePath( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n}\n\nconst TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\nclass ImageBitmapLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t\t}\n\n\t\tif ( typeof fetch === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t\t}\n\n\t\tthis.options = { premultiplyAlpha: 'none' };\n\n\t}\n\n\tsetOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst fetchOptions = {};\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\n\t\tfetchOptions.headers = this.requestHeader;\n\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, Object.assign( scope.options, { colorSpaceConversion: 'none' } ) );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n}\n\nImageBitmapLoader.prototype.isImageBitmapLoader = true;\n\nclass ShapePath {\n\n\tconstructor() {\n\n\t\tthis.type = 'ShapePath';\n\n\t\tthis.color = new Color();\n\n\t\tthis.subPaths = [];\n\t\tthis.currentPath = null;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t}\n\n\ttoShapes( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tlet solid, tmpPath, tmpShape;\n\t\tconst shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tconst toChange = [];\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nclass Font {\n\n\tconstructor( data ) {\n\n\t\tthis.type = 'Font';\n\n\t\tthis.data = data;\n\n\t}\n\n\tgenerateShapes( text, size = 100 ) {\n\n\t\tconst shapes = [];\n\t\tconst paths = createPaths( text, size, this.data );\n\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nfunction createPaths( text, size, data ) {\n\n\tconst chars = Array.from( text );\n\tconst scale = size / data.resolution;\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tconst paths = [];\n\n\tlet offsetX = 0, offsetY = 0;\n\n\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\tconst char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tconst path = new ShapePath();\n\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\n\n\t\t\tconst action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\nFont.prototype.isFont = true;\n\nclass FontLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tconst font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n}\n\nlet _context;\n\nconst AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\nclass AudioLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n}\n\nclass HemisphereLightProbe extends LightProbe {\n\n\tconstructor( skyColor, groundColor, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tconst color1 = new Color().set( skyColor );\n\t\tconst color2 = new Color().set( groundColor );\n\n\t\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\t\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\t\tconst c0 = Math.sqrt( Math.PI );\n\t\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\t\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\t\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n\t}\n\n}\n\nHemisphereLightProbe.prototype.isHemisphereLightProbe = true;\n\nclass AmbientLightProbe extends LightProbe {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tconst color1 = new Color().set( color );\n\n\t\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\t\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n\t}\n\n}\n\nAmbientLightProbe.prototype.isAmbientLightProbe = true;\n\nconst _eyeRight = /*@__PURE__*/ new Matrix4();\nconst _eyeLeft = /*@__PURE__*/ new Matrix4();\n\nclass StereoCamera {\n\n\tconstructor() {\n\n\t\tthis.type = 'StereoCamera';\n\n\t\tthis.aspect = 1;\n\n\t\tthis.eyeSep = 0.064;\n\n\t\tthis.cameraL = new PerspectiveCamera();\n\t\tthis.cameraL.layers.enable( 1 );\n\t\tthis.cameraL.matrixAutoUpdate = false;\n\n\t\tthis.cameraR = new PerspectiveCamera();\n\t\tthis.cameraR.layers.enable( 2 );\n\t\tthis.cameraR.matrixAutoUpdate = false;\n\n\t\tthis._cache = {\n\t\t\tfocus: null,\n\t\t\tfov: null,\n\t\t\taspect: null,\n\t\t\tnear: null,\n\t\t\tfar: null,\n\t\t\tzoom: null,\n\t\t\teyeSep: null\n\t\t};\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst cache = this._cache;\n\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\tconst projectionMatrix = camera.projectionMatrix.clone();\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tconst ymax = ( cache.near * Math.tan( DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tlet xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n}\n\nclass Clock {\n\n\tconstructor( autoStart = true ) {\n\n\t\tthis.autoStart = autoStart;\n\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\n\t\tthis.running = false;\n\n\t}\n\n\tstart() {\n\n\t\tthis.startTime = now();\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t}\n\n\tstop() {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t}\n\n\tgetElapsedTime() {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t}\n\n\tgetDelta() {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n}\n\nfunction now() {\n\n\treturn ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n}\n\nconst _position$1 = /*@__PURE__*/ new Vector3();\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\nconst _scale$1 = /*@__PURE__*/ new Vector3();\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'AudioListener';\n\n\t\tthis.context = AudioContext.getContext();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\n\t\tthis.filter = null;\n\n\t\tthis.timeDelta = 0;\n\n\t\t// private\n\n\t\tthis._clock = new Clock();\n\n\t}\n\n\tgetInput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tremoveFilter() {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.filter;\n\n\t}\n\n\tsetFilter( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t}\n\n\tgetMasterVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetMasterVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$1, _quaternion$1, _scale$1 );\n\n\t\t_orientation$1.set( 0, 0, - 1 ).applyQuaternion( _quaternion$1 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$1.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$1.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$1.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$1.x, _position$1.y, _position$1.z );\n\t\t\tlistener.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass Audio extends Object3D {\n\n\tconstructor( listener ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Audio';\n\n\t\tthis.listener = listener;\n\t\tthis.context = listener.context;\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( listener.getInput() );\n\n\t\tthis.autoplay = false;\n\n\t\tthis.buffer = null;\n\t\tthis.detune = 0;\n\t\tthis.loop = false;\n\t\tthis.loopStart = 0;\n\t\tthis.loopEnd = 0;\n\t\tthis.offset = 0;\n\t\tthis.duration = undefined;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\tthis.hasPlaybackControl = true;\n\t\tthis.source = null;\n\t\tthis.sourceType = 'empty';\n\n\t\tthis._startedAt = 0;\n\t\tthis._progress = 0;\n\t\tthis._connected = false;\n\n\t\tthis.filters = [];\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tsetNodeSource( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaElementSource( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaStreamSource( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetBuffer( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t}\n\n\tplay( delay = 0 ) {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t}\n\n\tpause() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t}\n\n\tconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = true;\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = false;\n\n\t\treturn this;\n\n\t}\n\n\tgetFilters() {\n\n\t\treturn this.filters;\n\n\t}\n\n\tsetFilters( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this._connected === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value.slice();\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value.slice();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetDetune( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetDetune() {\n\n\t\treturn this.detune;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t}\n\n\tsetFilter( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t}\n\n\tsetPlaybackRate( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetPlaybackRate() {\n\n\t\treturn this.playbackRate;\n\n\t}\n\n\tonEnded() {\n\n\t\tthis.isPlaying = false;\n\n\t}\n\n\tgetLoop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t}\n\n\tsetLoop( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopStart( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopEnd( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _position = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\nconst _scale = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass PositionalAudio extends Audio {\n\n\tconstructor( listener ) {\n\n\t\tsuper( listener );\n\n\t\tthis.panner = this.context.createPanner();\n\t\tthis.panner.panningModel = 'HRTF';\n\t\tthis.panner.connect( this.gain );\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.panner;\n\n\t}\n\n\tgetRefDistance() {\n\n\t\treturn this.panner.refDistance;\n\n\t}\n\n\tsetRefDistance( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetRolloffFactor() {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t}\n\n\tsetRolloffFactor( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetDistanceModel() {\n\n\t\treturn this.panner.distanceModel;\n\n\t}\n\n\tsetDistanceModel( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxDistance() {\n\n\t\treturn this.panner.maxDistance;\n\n\t}\n\n\tsetMaxDistance( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetDirectionalCone( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, _scale );\n\n\t\t_orientation.set( 0, 0, 1 ).applyQuaternion( _quaternion );\n\n\t\tconst panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position.x, _position.y, _position.z );\n\t\t\tpanner.setOrientation( _orientation.x, _orientation.y, _orientation.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass AudioAnalyser {\n\n\tconstructor( audio, fftSize = 2048 ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nclass PropertyMixer {\n\n\tconstructor( binding, typeName, valueSize ) {\n\n\t\tthis.binding = binding;\n\t\tthis.valueSize = valueSize;\n\n\t\tlet mixFunction,\n\t\t\tmixFunctionAdditive,\n\t\t\tsetIdentity;\n\n\t\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t\t//\n\t\t// interpolators can use .buffer as their .result\n\t\t// the data then goes to 'incoming'\n\t\t//\n\t\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t\t// the cumulative result and are compared to detect\n\t\t// changes\n\t\t//\n\t\t// 'orig' stores the original state of the property\n\t\t//\n\t\t// 'add' is used for additive cumulative results\n\t\t//\n\t\t// 'work' is optional and is only present for quaternion types. It is used\n\t\t// to store intermediate quaternion multiplication results\n\n\t\tswitch ( typeName ) {\n\n\t\t\tcase 'quaternion':\n\t\t\t\tmixFunction = this._slerp;\n\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\t\tthis._workIndex = 5;\n\t\t\t\tbreak;\n\n\t\t\tcase 'string':\n\t\t\tcase 'bool':\n\t\t\t\tmixFunction = this._select;\n\n\t\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t\t// additive is not relevant for non-numeric types\n\t\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tmixFunction = this._lerp;\n\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t\t}\n\n\t\tthis._mixBufferRegion = mixFunction;\n\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\t\tthis._setIdentity = setIdentity;\n\t\tthis._origIndex = 3;\n\t\tthis._addIndex = 4;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tthis.useCount = 0;\n\t\tthis.referenceCount = 0;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t}\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState() {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t}\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState() {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t}\n\n\t_setAdditiveIdentityNumeric() {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\t_setAdditiveIdentityQuaternion() {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\n\n\t}\n\n\t_setAdditiveIdentityOther() {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t}\n\n\n\t// mix functions\n\n\t_select( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_slerp( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t}\n\n\t_slerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t}\n\n\t_lerp( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n\t_lerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n}\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nclass Composite {\n\n\tconstructor( targetGroup, path, optionalParsedPath ) {\n\n\t\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis._targetGroup = targetGroup;\n\t\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n\t}\n\n\tgetValue( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t}\n\n\tsetValue( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t}\n\n\tbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t}\n\n\tunbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n}\n\n// Note: This class uses a State pattern on a per-method basis:\n// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n// prototype version of these methods with one that represents\n// the bound state. When the property is not found, the methods\n// become no-ops.\nclass PropertyBinding {\n\n\tconstructor( rootNode, path, parsedPath ) {\n\n\t\tthis.path = path;\n\t\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\t\tthis.rootNode = rootNode;\n\n\t\t// initial state of these methods that calls 'bind'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n\n\tstatic create( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tstatic sanitizeNodeName( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t}\n\n\tstatic parseTrackName( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t}\n\n\tstatic findNode( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === '' || nodeName === '.' || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable() {}\n\t_setValue_unavailable() {}\n\n\t// Getters\n\n\t_getValue_direct( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t}\n\n\t_getValue_array( buffer, offset ) {\n\n\t\tconst source = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t}\n\n\t}\n\n\t_getValue_arrayElement( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t}\n\n\t_getValue_toArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t}\n\n\t// Direct\n\n\t_setValue_direct( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// EntireArray\n\n\t_setValue_array( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t}\n\n\t_setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// ArrayElement\n\n\t_setValue_arrayElement( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// HasToFromArray\n\n\t_setValue_fromArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t}\n\n\t_setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t_getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t}\n\n\t_setValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t}\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind() {\n\n\t\tlet targetObject = this.node;\n\t\tconst parsedPath = this.parsedPath;\n\n\t\tconst objectName = parsedPath.objectName;\n\t\tconst propertyName = parsedPath.propertyName;\n\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === 'morphTargetInfluences' ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t}\n\n\tunbind() {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n}\n\nPropertyBinding.Composite = Composite;\n\nPropertyBinding.prototype.BindingType = {\n\tDirect: 0,\n\tEntireArray: 1,\n\tArrayElement: 2,\n\tHasFromToArray: 3\n};\n\nPropertyBinding.prototype.Versioning = {\n\tNone: 0,\n\tNeedsUpdate: 1,\n\tMatrixWorldNeedsUpdate: 2\n};\n\nPropertyBinding.prototype.GetterByBindingType = [\n\n\tPropertyBinding.prototype._getValue_direct,\n\tPropertyBinding.prototype._getValue_array,\n\tPropertyBinding.prototype._getValue_arrayElement,\n\tPropertyBinding.prototype._getValue_toArray,\n\n];\n\nPropertyBinding.prototype.SetterByBindingTypeAndVersioning = [\n\n\t[\n\t\t// Direct\n\t\tPropertyBinding.prototype._setValue_direct,\n\t\tPropertyBinding.prototype._setValue_direct_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// EntireArray\n\n\t\tPropertyBinding.prototype._setValue_array,\n\t\tPropertyBinding.prototype._setValue_array_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// ArrayElement\n\t\tPropertyBinding.prototype._setValue_arrayElement,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// HasToFromArray\n\t\tPropertyBinding.prototype._setValue_fromArray,\n\t\tPropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,\n\n\t]\n\n];\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nclass AnimationObjectGroup {\n\n\tconstructor() {\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// cached objects followed by the active ones\n\t\tthis._objects = Array.prototype.slice.call( arguments );\n\n\t\tthis.nCachedObjects_ = 0; // threshold\n\t\t// note: read by PropertyBinding.Composite\n\n\t\tconst indices = {};\n\t\tthis._indicesByUUID = indices; // for bookkeeping\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t\t}\n\n\t\tthis._paths = []; // inside: string\n\t\tthis._parsedPaths = []; // inside: { we don't care, here }\n\t\tthis._bindings = []; // inside: Array< PropertyBinding >\n\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tobjects: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._objects.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tget bindingsPerObject() {\n\n\t\t\t\treturn scope._bindings.length;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tadd() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\tremove() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// remove & forget\n\tuncache() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tif ( lastIndex > 0 ) {\n\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\tlet index = indicesByPath[ path ];\n\t\tconst bindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t}\n\n\tunsubscribe_( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n}\n\nAnimationObjectGroup.prototype.isAnimationObjectGroup = true;\n\nclass AnimationAction {\n\n\tconstructor( mixer, clip, localRoot = null, blendMode = clip.blendMode ) {\n\n\t\tthis._mixer = mixer;\n\t\tthis._clip = clip;\n\t\tthis._localRoot = localRoot;\n\t\tthis.blendMode = blendMode;\n\n\t\tconst tracks = clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tinterpolants = new Array( nTracks );\n\n\t\tconst interpolantSettings = {\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t};\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\t\tinterpolants[ i ] = interpolant;\n\t\t\tinterpolant.settings = interpolantSettings;\n\n\t\t}\n\n\t\tthis._interpolantSettings = interpolantSettings;\n\n\t\tthis._interpolants = interpolants; // bound by the mixer\n\n\t\t// inside: PropertyMixer (managed by the mixer)\n\t\tthis._propertyBindings = new Array( nTracks );\n\n\t\tthis._cacheIndex = null; // for the memory manager\n\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\tthis._timeScaleInterpolant = null;\n\t\tthis._weightInterpolant = null;\n\n\t\tthis.loop = LoopRepeat;\n\t\tthis._loopCount = - 1;\n\n\t\t// global mixer time when the action is to be started\n\t\t// it's set back to 'null' upon start of the action\n\t\tthis._startTime = null;\n\n\t\t// scaled local time of the action\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\t\tthis.time = 0;\n\n\t\tthis.timeScale = 1;\n\t\tthis._effectiveTimeScale = 1;\n\n\t\tthis.weight = 1;\n\t\tthis._effectiveWeight = 1;\n\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\tthis.paused = false; // true -> zero effective time scale\n\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n\t}\n\n\t// State & Scheduling\n\n\tplay() {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t}\n\n\treset() {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t}\n\n\tisRunning() {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t}\n\n\t// return true when play has been called\n\tisScheduled() {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t}\n\n\tstartAt( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoop( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t}\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t}\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight() {\n\n\t\treturn this._effectiveWeight;\n\n\t}\n\n\tfadeIn( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t}\n\n\tfadeOut( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t}\n\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcrossFadeTo( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t}\n\n\tstopFading() {\n\n\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale() {\n\n\t\treturn this._effectiveTimeScale;\n\n\t}\n\n\tsetDuration( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\tsyncWith( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\thalt( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t}\n\n\twarp( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t}\n\n\tstopWarping() {\n\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Object Accessors\n\n\tgetMixer() {\n\n\t\treturn this._mixer;\n\n\t}\n\n\tgetClip() {\n\n\t\treturn this._clip;\n\n\t}\n\n\tgetRoot() {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t}\n\n\t// Interna\n\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_updateWeight( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t}\n\n\t_updateTimeScale( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t}\n\n\t_updateTime( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t}\n\n\t_setEndings( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_scheduleFading( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationMixer extends EventDispatcher {\n\n\tconstructor( root ) {\n\n\t\tsuper();\n\n\t\tthis._root = root;\n\t\tthis._initMemoryManager();\n\t\tthis._accuIndex = 0;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1.0;\n\n\t}\n\n\t_bindAction( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t}\n\n\t_activateAction( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t}\n\n\t_deactivateAction( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t}\n\n\t// Memory manager\n\n\t_initMemoryManager() {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t}\n\n\t_addInactiveAction( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t}\n\n\t_removeInactiveAction( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t}\n\n\t_removeInactiveBindingsForAction( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_lendAction( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t}\n\n\t_takeBackAction( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t}\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t}\n\n\t_removeInactiveBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t}\n\n\t_lendBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t}\n\n\t_takeBackBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t}\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant() {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t}\n\n\t_takeBackControlInterpolant( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t}\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\n\t\tlet prototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t}\n\n\t// get an existing action\n\texistingAction( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction() {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// advance the time and update apply the animation\n\tupdate( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t}\n\n\t// return this mixer's root target object\n\tgetRoot() {\n\n\t\treturn this._root;\n\n\t}\n\n\t// free all resources specific to a particular clip\n\tuncacheClip( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t}\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remove a targeted clip from the cache\n\tuncacheAction( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n}\n\nAnimationMixer.prototype._controlInterpolantsResultBuffer = new Float32Array( 1 );\n\nclass Uniform {\n\n\tconstructor( value ) {\n\n\t\tif ( typeof value === 'string' ) {\n\n\t\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\t\tvalue = arguments[ 1 ];\n\n\t\t}\n\n\t\tthis.value = value;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n\t}\n\n}\n\nclass InstancedInterleavedBuffer extends InterleavedBuffer {\n\n\tconstructor( array, stride, meshPerAttribute = 1 ) {\n\n\t\tsuper( array, stride );\n\n\t\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tconst ib = super.clone( data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tconst json = super.toJSON( data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n}\n\nInstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer = true;\n\nclass GLBufferAttribute {\n\n\tconstructor( buffer, type, itemSize, elementSize, count ) {\n\n\t\tthis.buffer = buffer;\n\t\tthis.type = type;\n\t\tthis.itemSize = itemSize;\n\t\tthis.elementSize = elementSize;\n\t\tthis.count = count;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetBuffer( buffer ) {\n\n\t\tthis.buffer = buffer;\n\n\t\treturn this;\n\n\t}\n\n\tsetType( type, elementSize ) {\n\n\t\tthis.type = type;\n\t\tthis.elementSize = elementSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetItemSize( itemSize ) {\n\n\t\tthis.itemSize = itemSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetCount( count ) {\n\n\t\tthis.count = count;\n\n\t\treturn this;\n\n\t}\n\n}\n\nGLBufferAttribute.prototype.isGLBufferAttribute = true;\n\nclass Raycaster {\n\n\tconstructor( origin, direction, near = 0, far = Infinity ) {\n\n\t\tthis.ray = new Ray( origin, direction );\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.camera = null;\n\t\tthis.layers = new Layers();\n\n\t\tthis.params = {\n\t\t\tMesh: {},\n\t\t\tLine: { threshold: 1 },\n\t\t\tLOD: {},\n\t\t\tPoints: { threshold: 1 },\n\t\t\tSprite: {}\n\t\t};\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t}\n\n\tsetFromCamera( coords, camera ) {\n\n\t\tif ( camera && camera.isPerspectiveCamera ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( camera && camera.isOrthographicCamera ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type: ' + camera.type );\n\n\t\t}\n\n\t}\n\n\tintersectObject( object, recursive = false, intersects = [] ) {\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n\tintersectObjects( objects, recursive = false, intersects = [] ) {\n\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nclass Spherical {\n\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi; // polar angle\n\t\tthis.theta = theta; // azimuthal angle\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t}\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe() {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n */\n\nclass Cylindrical {\n\n\tconstructor( radius = 1, theta = 0, y = 0 ) {\n\n\t\tthis.radius = radius; // distance from the origin to a point in the x-z plane\n\t\tthis.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\t\tthis.y = y; // height above the x-z plane\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$4 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n\tconstructor( min = new Vector2( + Infinity, + Infinity ), max = new Vector2( - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$4.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$4.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox2.prototype.isBox2 = true;\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n\tconstructor( start = new Vector3(), end = new Vector3() ) {\n\n\t\tthis.start = start;\n\t\tthis.end = end;\n\n\t}\n\n\tset( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t}\n\n\tdelta( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t}\n\n\tdistanceSq() {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t}\n\n\tdistance() {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tclosestPointToPointParameter( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t}\n\n\tclosestPointToPoint( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t}\n\n\tequals( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass ImmediateRenderObject extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.material = material;\n\t\tthis.render = function ( /* renderCallback */ ) {};\n\n\t\tthis.hasPositions = false;\n\t\tthis.hasNormals = false;\n\t\tthis.hasColors = false;\n\t\tthis.hasUvs = false;\n\n\t\tthis.positionArray = null;\n\t\tthis.normalArray = null;\n\t\tthis.colorArray = null;\n\t\tthis.uvArray = null;\n\n\t\tthis.count = 0;\n\n\t}\n\n}\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\nconst _vector$3 = /*@__PURE__*/ new Vector3();\n\nclass SpotLightHelper extends Object3D {\n\n\tconstructor( light, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst positions = [\n\t\t\t0, 0, 0, \t0, 0, 1,\n\t\t\t0, 0, 0, \t1, 0, 1,\n\t\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t\t0, 0, 0, \t0, 1, 1,\n\t\t\t0, 0, 0, \t0, - 1, 1\n\t\t];\n\n\t\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\t\tconst p1 = ( i / l ) * Math.PI * 2;\n\t\t\tconst p2 = ( j / l ) * Math.PI * 2;\n\n\t\t\tpositions.push(\n\t\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t\t);\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.cone = new LineSegments( geometry, material );\n\t\tthis.add( this.cone );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tconst coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\t_vector$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( _vector$3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t}\n\n}\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n\tconstructor( object ) {\n\n\t\tconst bones = getBoneList( object );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst color1 = new Color( 0, 0, 1 );\n\t\tconst color2 = new Color( 0, 1, 0 );\n\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkeletonHelper';\n\t\tthis.isSkeletonHelper = true;\n\n\t\tthis.root = object;\n\t\tthis.bones = bones;\n\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst bones = this.bones;\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t_matrixWorldInv.copy( this.root.matrixWorld ).invert();\n\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nclass PointLightHelper extends Mesh {\n\n\tconstructor( light, sphereSize, color ) {\n\n\t\tconst geometry = new SphereGeometry( sphereSize, 4, 2 );\n\t\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'PointLightHelper';\n\n\t\tthis.matrix = this.light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\n\t\t/*\n\t// TODO: delete this comment?\n\tconst distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\t/*\n\t\tconst d = this.light.distance;\n\n\t\tif ( d === 0.0 ) {\n\n\t\t\tthis.lightDistance.visible = false;\n\n\t\t} else {\n\n\t\t\tthis.lightDistance.visible = true;\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t\t}\n\t\t*/\n\n\t}\n\n}\n\nconst _vector$1 = /*@__PURE__*/ new Vector3();\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass HemisphereLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new OctahedronGeometry( size );\n\t\tgeometry.rotateY( Math.PI * 0.5 );\n\n\t\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\t\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\t\tconst colors = new Float32Array( position.count * 3 );\n\n\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\t\tthis.add( new Mesh( geometry, this.material ) );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tconst colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\t_color1.copy( this.light.color );\n\t\t\t_color2.copy( this.light.groundColor );\n\n\t\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( _vector$1.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t}\n\n}\n\nclass GridHelper extends LineSegments {\n\n\tconstructor( size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst center = divisions / 2;\n\t\tconst step = size / divisions;\n\t\tconst halfSize = size / 2;\n\n\t\tconst vertices = [], colors = [];\n\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\t\tconst color = i === center ? color1 : color2;\n\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'GridHelper';\n\n\t}\n\n}\n\nclass PolarGridHelper extends LineSegments {\n\n\tconstructor( radius = 10, radials = 16, circles = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\t// create the radials\n\n\t\tfor ( let i = 0; i <= radials; i ++ ) {\n\n\t\t\tconst v = ( i / radials ) * ( Math.PI * 2 );\n\n\t\t\tconst x = Math.sin( v ) * radius;\n\t\t\tconst z = Math.cos( v ) * radius;\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( x, 0, z );\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tcolors.push( color.r, color.g, color.b );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t\t// create the circles\n\n\t\tfor ( let i = 0; i <= circles; i ++ ) {\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tconst r = radius - ( radius / circles * i );\n\n\t\t\tfor ( let j = 0; j < divisions; j ++ ) {\n\n\t\t\t\t// first vertex\n\n\t\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tlet x = Math.sin( v ) * r;\n\t\t\t\tlet z = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t\t// second vertex\n\n\t\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tx = Math.sin( v ) * r;\n\t\t\t\tz = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'PolarGridHelper';\n\n\t}\n\n}\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nclass DirectionalLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tif ( size === undefined ) size = 1;\n\n\t\tlet geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t\t- size, size, 0,\n\t\t\tsize, size, 0,\n\t\t\tsize, - size, 0,\n\t\t\t- size, - size, 0,\n\t\t\t- size, size, 0\n\t\t], 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.lightPlane = new Line( geometry, material );\n\t\tthis.add( this.lightPlane );\n\n\t\tgeometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\t\tthis.targetLine = new Line( geometry, material );\n\t\tthis.add( this.targetLine );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.lightPlane.geometry.dispose();\n\t\tthis.lightPlane.material.dispose();\n\t\tthis.targetLine.geometry.dispose();\n\t\tthis.targetLine.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\t_v1.setFromMatrixPosition( this.light.matrixWorld );\n\t\t_v2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\t_v3.subVectors( _v2, _v1 );\n\n\t\tthis.lightPlane.lookAt( _v2 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( _v2 );\n\t\tthis.targetLine.scale.z = _v3.length();\n\n\t}\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _camera = /*@__PURE__*/ new Camera();\n\n/**\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nclass CameraHelper extends LineSegments {\n\n\tconstructor( camera ) {\n\n\t\tconst geometry = new BufferGeometry();\n\t\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst pointMap = {};\n\n\t\t// colors\n\n\t\tconst colorFrustum = new Color( 0xffaa00 );\n\t\tconst colorCone = new Color( 0xff0000 );\n\t\tconst colorUp = new Color( 0x00aaff );\n\t\tconst colorTarget = new Color( 0xffffff );\n\t\tconst colorCross = new Color( 0x333333 );\n\n\t\t// near\n\n\t\taddLine( 'n1', 'n2', colorFrustum );\n\t\taddLine( 'n2', 'n4', colorFrustum );\n\t\taddLine( 'n4', 'n3', colorFrustum );\n\t\taddLine( 'n3', 'n1', colorFrustum );\n\n\t\t// far\n\n\t\taddLine( 'f1', 'f2', colorFrustum );\n\t\taddLine( 'f2', 'f4', colorFrustum );\n\t\taddLine( 'f4', 'f3', colorFrustum );\n\t\taddLine( 'f3', 'f1', colorFrustum );\n\n\t\t// sides\n\n\t\taddLine( 'n1', 'f1', colorFrustum );\n\t\taddLine( 'n2', 'f2', colorFrustum );\n\t\taddLine( 'n3', 'f3', colorFrustum );\n\t\taddLine( 'n4', 'f4', colorFrustum );\n\n\t\t// cone\n\n\t\taddLine( 'p', 'n1', colorCone );\n\t\taddLine( 'p', 'n2', colorCone );\n\t\taddLine( 'p', 'n3', colorCone );\n\t\taddLine( 'p', 'n4', colorCone );\n\n\t\t// up\n\n\t\taddLine( 'u1', 'u2', colorUp );\n\t\taddLine( 'u2', 'u3', colorUp );\n\t\taddLine( 'u3', 'u1', colorUp );\n\n\t\t// target\n\n\t\taddLine( 'c', 't', colorTarget );\n\t\taddLine( 'p', 'c', colorCross );\n\n\t\t// cross\n\n\t\taddLine( 'cn1', 'cn2', colorCross );\n\t\taddLine( 'cn3', 'cn4', colorCross );\n\n\t\taddLine( 'cf1', 'cf2', colorCross );\n\t\taddLine( 'cf3', 'cf4', colorCross );\n\n\t\tfunction addLine( a, b, color ) {\n\n\t\t\taddPoint( a, color );\n\t\t\taddPoint( b, color );\n\n\t\t}\n\n\t\tfunction addPoint( id, color ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\t\tpointMap[ id ] = [];\n\n\t\t\t}\n\n\t\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'CameraHelper';\n\n\t\tthis.camera = camera;\n\t\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\t\tthis.matrix = camera.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.pointMap = pointMap;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst pointMap = this.pointMap;\n\n\t\tconst w = 1, h = 1;\n\n\t\t// we need just camera projection matrix inverse\n\t\t// world matrix must be identity\n\n\t\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\t\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\t\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\t\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\t\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\t\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\t\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\t\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\t\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\t\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\t\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\t\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\t\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\t\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\t\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector.set( x, y, z ).unproject( camera );\n\n\tconst points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t}\n\n}\n\nconst _box = /*@__PURE__*/ new Box3();\n\nclass BoxHelper extends LineSegments {\n\n\tconstructor( object, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\t\tconst positions = new Float32Array( 8 * 3 );\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.type = 'BoxHelper';\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\t_box.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( _box.isEmpty() ) return;\n\n\t\tconst min = _box.min;\n\t\tconst max = _box.max;\n\n\t\t/*\n\t\t\t5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tconst position = this.geometry.attributes.position;\n\t\tconst array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.object = object;\n\t\tthis.update();\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.object = source.object;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Box3Helper extends LineSegments {\n\n\tconstructor( box, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\t\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.box = box;\n\n\t\tthis.type = 'Box3Helper';\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst box = this.box;\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tbox.getCenter( this.position );\n\n\t\tbox.getSize( this.scale );\n\n\t\tthis.scale.multiplyScalar( 0.5 );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nclass PlaneHelper extends Line {\n\n\tconstructor( plane, size = 1, hex = 0xffff00 ) {\n\n\t\tconst color = hex;\n\n\t\tconst positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.type = 'PlaneHelper';\n\n\t\tthis.plane = plane;\n\n\t\tthis.size = size;\n\n\t\tconst positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tlet scale = - this.plane.constant;\n\n\t\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\t\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\t\tthis.lookAt( this.plane.normal );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n\t// dir is assumed to be normalized\n\n\tconstructor( dir = new Vector3( 0, 0, 1 ), origin = new Vector3( 0, 0, 0 ), length = 1, color = 0xffff00, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ArrowHelper';\n\n\t\tif ( _lineGeometry === undefined ) {\n\n\t\t\t_lineGeometry = new BufferGeometry();\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t\t_coneGeometry = new CylinderGeometry( 0, 0.5, 1, 5, 1 );\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t\t}\n\n\t\tthis.position.copy( origin );\n\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.line.matrixAutoUpdate = false;\n\t\tthis.add( this.line );\n\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.cone.matrixAutoUpdate = false;\n\t\tthis.add( this.cone );\n\n\t\tthis.setDirection( dir );\n\t\tthis.setLength( length, headLength, headWidth );\n\n\t}\n\n\tsetDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tconst radians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t\t}\n\n\t}\n\n\tsetLength( length, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\t\tthis.line.updateMatrix();\n\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\n\t}\n\n\tsetColor( color ) {\n\n\t\tthis.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tthis.line.copy( source.line );\n\t\tthis.cone.copy( source.cone );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AxesHelper extends LineSegments {\n\n\tconstructor( size = 1 ) {\n\n\t\tconst vertices = [\n\t\t\t0, 0, 0,\tsize, 0, 0,\n\t\t\t0, 0, 0,\t0, size, 0,\n\t\t\t0, 0, 0,\t0, 0, size\n\t\t];\n\n\t\tconst colors = [\n\t\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t\t0, 0, 1,\t0, 0.6, 1\n\t\t];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'AxesHelper';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nconst _floatView = new Float32Array( 1 );\nconst _int32View = new Int32Array( _floatView.buffer );\n\nclass DataUtils {\n\n\t// Converts float32 to float16 (stored as uint16 value).\n\n\tstatic toHalfFloat( val ) {\n\n\t\t// Source: http://gamedev.stackexchange.com/questions/17326/conversion-of-a-number-from-single-precision-floating-point-representation-to-a/17410#17410\n\n\t\t/* This method is faster than the OpenEXR implementation (very often\n\t\t* used, eg. in Ogre), with the additional benefit of rounding, inspired\n\t\t* by James Tursa?s half-precision code. */\n\n\t\t_floatView[ 0 ] = val;\n\t\tconst x = _int32View[ 0 ];\n\n\t\tlet bits = ( x >> 16 ) & 0x8000; /* Get the sign */\n\t\tlet m = ( x >> 12 ) & 0x07ff; /* Keep one extra bit for rounding */\n\t\tconst e = ( x >> 23 ) & 0xff; /* Using int is faster here */\n\n\t\t/* If zero, or denormal, or exponent underflows too much for a denormal\n\t\t\t* half, return signed zero. */\n\t\tif ( e < 103 ) return bits;\n\n\t\t/* If NaN, return NaN. If Inf or exponent overflow, return Inf. */\n\t\tif ( e > 142 ) {\n\n\t\t\tbits |= 0x7c00;\n\t\t\t/* If exponent was 0xff and one mantissa bit was set, it means NaN,\n\t\t\t\t\t\t* not Inf, so make sure we set one mantissa bit too. */\n\t\t\tbits |= ( ( e == 255 ) ? 0 : 1 ) && ( x & 0x007fffff );\n\t\t\treturn bits;\n\n\t\t}\n\n\t\t/* If exponent underflows but not too much, return a denormal */\n\t\tif ( e < 113 ) {\n\n\t\t\tm |= 0x0800;\n\t\t\t/* Extra rounding may overflow and set mantissa to 0 and exponent\n\t\t\t\t* to 1, which is OK. */\n\t\t\tbits |= ( m >> ( 114 - e ) ) + ( ( m >> ( 113 - e ) ) & 1 );\n\t\t\treturn bits;\n\n\t\t}\n\n\t\tbits |= ( ( e - 112 ) << 10 ) | ( m >> 1 );\n\t\t/* Extra rounding. An overflow will set mantissa to 0 and increment\n\t\t\t* the exponent, which is OK. */\n\t\tbits += m & 1;\n\t\treturn bits;\n\n\t}\n\n}\n\nconst LOD_MIN = 4;\nconst LOD_MAX = 8;\nconst SIZE_MAX = Math.pow( 2, LOD_MAX );\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\nconst TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst ENCODINGS = {\n\t[ LinearEncoding ]: 0,\n\t[ sRGBEncoding ]: 1,\n\t[ RGBEEncoding ]: 2,\n\t[ RGBM7Encoding ]: 3,\n\t[ RGBM16Encoding ]: 4,\n\t[ RGBDEncoding ]: 5,\n\t[ GammaEncoding ]: 6\n};\n\nconst backgroundMaterial = new MeshBasicMaterial( {\n\tside: BackSide,\n\tdepthWrite: false,\n\tdepthTest: false,\n} );\nconst backgroundBox = new Mesh( new BoxGeometry(), backgroundMaterial );\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst { _lodPlanes, _sizeLods, _sigmas } = /*@__PURE__*/ _createPlanes();\nconst _clearColor = /*@__PURE__*/ new Color();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n *\n * Paper: Fast, Accurate Image-Based Lighting\n * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\n*/\n\nfunction convertLinearToRGBE( color ) {\n\n\tconst maxComponent = Math.max( color.r, color.g, color.b );\n\tconst fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\n\tcolor.multiplyScalar( Math.pow( 2.0, - fExp ) );\n\n\tconst alpha = ( fExp + 128.0 ) / 255.0;\n\treturn alpha;\n\n}\n\nclass PMREMGenerator {\n\n\tconstructor( renderer ) {\n\n\t\tthis._renderer = renderer;\n\t\tthis._pingPongRenderTarget = null;\n\n\t\tthis._blurMaterial = _getBlurShader( MAX_SAMPLES );\n\t\tthis._equirectShader = null;\n\t\tthis._cubemapShader = null;\n\n\t\tthis._compileMaterial( this._blurMaterial );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular( equirectangular ) {\n\n\t\treturn this._fromTexture( equirectangular );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap( cubemap ) {\n\n\t\treturn this._fromTexture( cubemap );\n\n\t}\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader() {\n\n\t\tif ( this._cubemapShader === null ) {\n\n\t\t\tthis._cubemapShader = _getCubemapShader();\n\t\t\tthis._compileMaterial( this._cubemapShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader() {\n\n\t\tif ( this._equirectShader === null ) {\n\n\t\t\tthis._equirectShader = _getEquirectShader();\n\t\t\tthis._compileMaterial( this._equirectShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose() {\n\n\t\tthis._blurMaterial.dispose();\n\n\t\tif ( this._cubemapShader !== null ) this._cubemapShader.dispose();\n\t\tif ( this._equirectShader !== null ) this._equirectShader.dispose();\n\n\t\tfor ( let i = 0; i < _lodPlanes.length; i ++ ) {\n\n\t\t\t_lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t}\n\n\t// private interface\n\n\t_cleanup( outputTarget ) {\n\n\t\tthis._pingPongRenderTarget.dispose();\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t}\n\n\t_fromTexture( texture ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets( texture );\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_allocateTargets( texture ) { // warning: null texture is valid\n\n\t\tconst params = {\n\t\t\tmagFilter: NearestFilter,\n\t\t\tminFilter: NearestFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: UnsignedByteType,\n\t\t\tformat: RGBEFormat,\n\t\t\tencoding: _isLDR( texture ) ? texture.encoding : RGBEEncoding,\n\t\t\tdepthBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( params );\n\t\tcubeUVRenderTarget.depthBuffer = texture ? false : true;\n\t\tthis._pingPongRenderTarget = _createRenderTarget( params );\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_compileMaterial( material ) {\n\n\t\tconst tmpMesh = new Mesh( _lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t}\n\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst originalAutoClear = renderer.autoClear;\n\t\tconst outputEncoding = renderer.outputEncoding;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\trenderer.getClearColor( _clearColor );\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.outputEncoding = LinearEncoding;\n\t\trenderer.autoClear = false;\n\n\t\tlet useSolidColor = false;\n\t\tconst background = scene.background;\n\t\tif ( background ) {\n\n\t\t\tif ( background.isColor ) {\n\n\t\t\t\tbackgroundMaterial.color.copy( background ).convertSRGBToLinear();\n\t\t\t\tscene.background = null;\n\n\t\t\t\tconst alpha = convertLinearToRGBE( backgroundMaterial.color );\n\t\t\t\tbackgroundMaterial.opacity = alpha;\n\t\t\t\tuseSolidColor = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tbackgroundMaterial.color.copy( _clearColor ).convertSRGBToLinear();\n\n\t\t\tconst alpha = convertLinearToRGBE( backgroundMaterial.color );\n\t\t\tbackgroundMaterial.opacity = alpha;\n\t\t\tuseSolidColor = true;\n\n\t\t}\n\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\t\t\tif ( col == 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col == 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\t_setViewport( cubeUVRenderTarget,\n\t\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\n\t\t\tif ( useSolidColor ) {\n\n\t\t\t\trenderer.render( backgroundBox, cubeCamera );\n\n\t\t\t}\n\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.outputEncoding = outputEncoding;\n\t\trenderer.autoClear = originalAutoClear;\n\n\t}\n\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tif ( texture.isCubeTexture ) {\n\n\t\t\tif ( this._cubemapShader == null ) {\n\n\t\t\t\tthis._cubemapShader = _getCubemapShader();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( this._equirectShader == null ) {\n\n\t\t\t\tthis._equirectShader = _getEquirectShader();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\n\t\tconst mesh = new Mesh( _lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tif ( ! texture.isCubeTexture ) {\n\n\t\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\n\n\t\t}\n\n\t\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\t\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ cubeUVRenderTarget.texture.encoding ];\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t}\n\n\t_applyPMREM( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < TOTAL_LODS; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( _sigmas[ i ] * _sigmas[ i ] - _sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t}\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t}\n\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( _lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = _sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i == 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\n\t\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\t\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\n\t\tconst outputSize = _sizeLods[ lodOut ];\n\t\tconst x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\n\t\tconst y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) + 2 * outputSize * ( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n}\n\nfunction _isLDR( texture ) {\n\n\tif ( texture === undefined || texture.type !== UnsignedByteType ) return false;\n\n\treturn texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\n\n}\n\nfunction _createPlanes() {\n\n\tconst _lodPlanes = [];\n\tconst _sizeLods = [];\n\tconst _sigmas = [];\n\n\tlet lod = LOD_MAX;\n\n\tfor ( let i = 0; i < TOTAL_LODS; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\t_sizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\n\n\t\t} else if ( i == 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\t_sigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 1 );\n\t\tconst min = - texelSize / 2;\n\t\tconst max = 1 + texelSize / 2;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\t_lodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { _lodPlanes, _sizeLods, _sigmas };\n\n}\n\nfunction _createRenderTarget( params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( maxSamples ) {\n\n\tconst weights = new Float32Array( maxSamples );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: { 'n': maxSamples },\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n\tconst texelSize = new Vector2( 1, 1 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'texelSize': { value: texelSize },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn /* glsl */`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n\treturn /* glsl */`\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t`;\n\n}\n\nconst LineStrip = 0;\nconst LinePieces = 1;\nconst NoColors = 0;\nconst FaceColors = 1;\nconst VertexColors = 2;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials = [] ) {\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nPath.prototype.fromPoints = function ( points ) {\n\n\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\treturn this.setFromPoints( points );\n\n};\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nLoader.prototype.extractUrlBase = function ( url ) {\n\n\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\treturn LoaderUtils.extractUrlBase( url );\n\n};\n\nLoader.Handlers = {\n\n\tadd: function ( /* regex, loader */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\n\n\t},\n\n\tget: function ( /* file */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\n\n\t}\n\n};\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\n//\n\nBox2.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nBox2.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\nBox2.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nBox2.prototype.size = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\treturn this.getSize( optionalTarget );\n\n};\n\n//\n\nBox3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nBox3.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\nBox3.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nBox3.prototype.isIntersectionSphere = function ( sphere ) {\n\n\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\treturn this.intersectsSphere( sphere );\n\n};\n\nBox3.prototype.size = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\treturn this.getSize( optionalTarget );\n\n};\n\n//\n\nSphere.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Sphere: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\n//\n\nFrustum.prototype.setFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\n\treturn this.setFromProjectionMatrix( m );\n\n};\n\n//\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\n//\n\nMatrix3.prototype.flattenToArrayOffset = function ( array, offset ) {\n\n\tconsole.warn( 'THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\n\treturn this.toArray( array, offset );\n\n};\n\nMatrix3.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\treturn vector.applyMatrix3( this );\n\n};\n\nMatrix3.prototype.multiplyVector3Array = function ( /* a */ ) {\n\n\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n};\n\nMatrix3.prototype.applyToBufferAttribute = function ( attribute ) {\n\n\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\n\treturn attribute.applyMatrix3( this );\n\n};\n\nMatrix3.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\n\n\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n};\n\nMatrix3.prototype.getInverse = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\treturn this.copy( matrix ).invert();\n\n};\n\n//\n\nMatrix4.prototype.extractPosition = function ( m ) {\n\n\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\treturn this.copyPosition( m );\n\n};\n\nMatrix4.prototype.flattenToArrayOffset = function ( array, offset ) {\n\n\tconsole.warn( 'THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\n\treturn this.toArray( array, offset );\n\n};\n\nMatrix4.prototype.getPosition = function () {\n\n\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n};\n\nMatrix4.prototype.setRotationFromQuaternion = function ( q ) {\n\n\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\treturn this.makeRotationFromQuaternion( q );\n\n};\n\nMatrix4.prototype.multiplyToArray = function () {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n};\n\nMatrix4.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.multiplyVector4 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.multiplyVector3Array = function ( /* a */ ) {\n\n\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateAxis = function ( v ) {\n\n\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\tv.transformDirection( this );\n\n};\n\nMatrix4.prototype.crossVector = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.translate = function () {\n\n\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateX = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateY = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateZ = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateByAxis = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n};\n\nMatrix4.prototype.applyToBufferAttribute = function ( attribute ) {\n\n\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\n\treturn attribute.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\n\n\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n};\n\nMatrix4.prototype.makeFrustum = function ( left, right, bottom, top, near, far ) {\n\n\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n};\n\nMatrix4.prototype.getInverse = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\treturn this.copy( matrix ).invert();\n\n};\n\n//\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\n//\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nQuaternion.prototype.inverse = function ( ) {\n\n\tconsole.warn( 'THREE.Quaternion: .inverse() has been renamed to invert().' );\n\treturn this.invert();\n\n};\n\n//\n\nRay.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nRay.prototype.isIntersectionPlane = function ( plane ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\treturn this.intersectsPlane( plane );\n\n};\n\nRay.prototype.isIntersectionSphere = function ( sphere ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\treturn this.intersectsSphere( sphere );\n\n};\n\n//\n\nTriangle.prototype.area = function () {\n\n\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\treturn this.getArea();\n\n};\n\nTriangle.prototype.barycoordFromPoint = function ( point, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\treturn this.getBarycoord( point, target );\n\n};\n\nTriangle.prototype.midpoint = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\treturn this.getMidpoint( target );\n\n};\n\nTriangle.prototypenormal = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\treturn this.getNormal( target );\n\n};\n\nTriangle.prototype.plane = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\treturn this.getPlane( target );\n\n};\n\nTriangle.barycoordFromPoint = function ( point, a, b, c, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n};\n\nTriangle.normal = function ( a, b, c, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\treturn Triangle.getNormal( a, b, c, target );\n\n};\n\n//\n\nShape.prototype.extractAllPoints = function ( divisions ) {\n\n\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\treturn this.extractPoints( divisions );\n\n};\n\nShape.prototype.extrude = function ( options ) {\n\n\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\treturn new ExtrudeGeometry( this, options );\n\n};\n\nShape.prototype.makeGeometry = function ( options ) {\n\n\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\treturn new ShapeGeometry( this, options );\n\n};\n\n//\n\nVector2.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector2.prototype.distanceToManhattan = function ( v ) {\n\n\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\treturn this.manhattanDistanceTo( v );\n\n};\n\nVector2.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nVector3.prototype.setEulerFromRotationMatrix = function () {\n\n\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n};\n\nVector3.prototype.setEulerFromQuaternion = function () {\n\n\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n};\n\nVector3.prototype.getPositionFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\treturn this.setFromMatrixPosition( m );\n\n};\n\nVector3.prototype.getScaleFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\treturn this.setFromMatrixScale( m );\n\n};\n\nVector3.prototype.getColumnFromMatrix = function ( index, matrix ) {\n\n\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\treturn this.setFromMatrixColumn( matrix, index );\n\n};\n\nVector3.prototype.applyProjection = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\treturn this.applyMatrix4( m );\n\n};\n\nVector3.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector3.prototype.distanceToManhattan = function ( v ) {\n\n\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\treturn this.manhattanDistanceTo( v );\n\n};\n\nVector3.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nVector4.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector4.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nObject3D.prototype.getChildByName = function ( name ) {\n\n\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\treturn this.getObjectByName( name );\n\n};\n\nObject3D.prototype.renderDepth = function () {\n\n\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n};\n\nObject3D.prototype.translate = function ( distance, axis ) {\n\n\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\treturn this.translateOnAxis( axis, distance );\n\n};\n\nObject3D.prototype.getWorldRotation = function () {\n\n\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n};\n\nObject3D.prototype.applyMatrix = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\n\treturn this.applyMatrix4( matrix );\n\n};\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nMesh.prototype.setDrawMode = function () {\n\n\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n};\n\nObject.defineProperties( Mesh.prototype, {\n\n\tdrawMode: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\n\t\t\treturn TrianglesDrawMode;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t\t}\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( 'THREE.PerspectiveCamera.setLens is deprecated. ' +\n\t\t\t'Use .setFocalLength and .filmGauge for a photographic setup.' );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( DynamicDrawUsage );\n\n\t\t}\n\t}\n\n} );\n\nBufferAttribute.prototype.setDynamic = function ( value ) {\n\n\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\treturn this;\n\n};\n\nBufferAttribute.prototype.copyIndicesArray = function ( /* indices */ ) {\n\n\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n},\n\nBufferAttribute.prototype.setArray = function ( /* array */ ) {\n\n\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n};\n\n//\n\nBufferGeometry.prototype.addIndex = function ( index ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\tthis.setIndex( index );\n\n};\n\nBufferGeometry.prototype.addAttribute = function ( name, attribute ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\n\n\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t}\n\n\tif ( name === 'index' ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\tthis.setIndex( attribute );\n\n\t\treturn this;\n\n\t}\n\n\treturn this.setAttribute( name, attribute );\n\n};\n\nBufferGeometry.prototype.addDrawCall = function ( start, count, indexOffset ) {\n\n\tif ( indexOffset !== undefined ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t}\n\n\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\tthis.addGroup( start, count );\n\n};\n\nBufferGeometry.prototype.clearDrawCalls = function () {\n\n\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\tthis.clearGroups();\n\n};\n\nBufferGeometry.prototype.computeOffsets = function () {\n\n\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n};\n\nBufferGeometry.prototype.removeAttribute = function ( name ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\n\n\treturn this.deleteAttribute( name );\n\n};\n\nBufferGeometry.prototype.applyMatrix = function ( matrix ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\treturn this.applyMatrix4( matrix );\n\n};\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\nInterleavedBuffer.prototype.setDynamic = function ( value ) {\n\n\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\treturn this;\n\n};\n\nInterleavedBuffer.prototype.setArray = function ( /* array */ ) {\n\n\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n};\n\n//\n\nExtrudeGeometry.prototype.getArrays = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .getArrays() has been removed.' );\n\n};\n\nExtrudeGeometry.prototype.addShapeList = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShapeList() has been removed.' );\n\n};\n\nExtrudeGeometry.prototype.addShape = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShape() has been removed.' );\n\n};\n\n//\n\nScene.prototype.dispose = function () {\n\n\tconsole.error( 'THREE.Scene: .dispose() has been removed.' );\n\n};\n\n//\n\nUniform.prototype.onUpdate = function () {\n\n\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\treturn this;\n\n};\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t},\n\n\tstencilMask: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\treturn this.stencilFuncMask;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\tthis.stencilFuncMask = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nWebGLRenderer.prototype.clearTarget = function ( renderTarget, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\tthis.setRenderTarget( renderTarget );\n\tthis.clear( color, depth, stencil );\n\n};\n\nWebGLRenderer.prototype.animate = function ( callback ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\tthis.setAnimationLoop( callback );\n\n};\n\nWebGLRenderer.prototype.getCurrentRenderTarget = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\treturn this.getRenderTarget();\n\n};\n\nWebGLRenderer.prototype.getMaxAnisotropy = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\treturn this.capabilities.getMaxAnisotropy();\n\n};\n\nWebGLRenderer.prototype.getPrecision = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\treturn this.capabilities.precision;\n\n};\n\nWebGLRenderer.prototype.resetGLState = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\treturn this.state.reset();\n\n};\n\nWebGLRenderer.prototype.supportsFloatTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\treturn this.extensions.get( 'OES_texture_float' );\n\n};\n\nWebGLRenderer.prototype.supportsHalfFloatTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\treturn this.extensions.get( 'OES_texture_half_float' );\n\n};\n\nWebGLRenderer.prototype.supportsStandardDerivatives = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n};\n\nWebGLRenderer.prototype.supportsCompressedTextureS3TC = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n};\n\nWebGLRenderer.prototype.supportsCompressedTexturePVRTC = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n};\n\nWebGLRenderer.prototype.supportsBlendMinMax = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n};\n\nWebGLRenderer.prototype.supportsVertexTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\treturn this.capabilities.vertexTextures;\n\n};\n\nWebGLRenderer.prototype.supportsInstancedArrays = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n};\n\nWebGLRenderer.prototype.enableScissorTest = function ( boolean ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\tthis.setScissorTest( boolean );\n\n};\n\nWebGLRenderer.prototype.initMaterial = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.addPrePlugin = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.addPostPlugin = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.updateShadowMap = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setFaceCulling = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.allocTextureUnit = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTexture = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTexture2D = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTextureCube = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.getActiveMipMapLevel = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\treturn this.getActiveMipmapLevel();\n\n};\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t},\n\tvr: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\n\t\t\treturn this.xr;\n\n\t\t}\n\t},\n\tgammaInput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\n\t\t}\n\t},\n\tgammaOutput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\n\n\t\t}\n\t},\n\ttoneMappingWhitePoint: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\t\t\treturn 1.0;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\n\t\t}\n\t},\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\n\treturn new WebGLCubeRenderTarget( width, options );\n\n}\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\tconst scope = this;\n\tconst audioLoader = new AudioLoader();\n\taudioLoader.load( file, function ( buffer ) {\n\n\t\tscope.setBuffer( buffer );\n\n\t} );\n\treturn this;\n\n};\n\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\nCubeCamera.prototype.clear = function ( renderer, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .clear() is now .renderTarget.clear().' );\n\treturn this.renderTarget.clear( renderer, color, depth, stencil );\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tconst loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tconst loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nconst SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js' );\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t/* eslint-disable no-undef */\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\t/* eslint-enable no-undef */\n\n}\n\nif ( typeof window !== 'undefined' ) {\n\n\tif ( window.__THREE__ ) {\n\n\t\tconsole.warn( 'WARNING: Multiple instances of Three.js being imported.' );\n\n\t} else {\n\n\t\twindow.__THREE__ = REVISION;\n\n\t}\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveAnimationBlendMode, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxGeometry as BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleGeometry as CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeGeometry as ConeBufferGeometry, ConeGeometry, CubeCamera, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CustomToneMapping, CylinderGeometry as CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DataUtils, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DiscreteInterpolant, DodecahedronGeometry as DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeGeometry as ExtrudeBufferGeometry, ExtrudeGeometry, FaceColors, FileLoader, FlatShading, Float16BufferAttribute, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontSide, Frustum, GLBufferAttribute, GLSL1, GLSL3, GammaEncoding, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronGeometry as IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheGeometry as LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils as Math, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalAnimationBlendMode, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronGeometry as OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricGeometry as ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneGeometry as PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronGeometry as PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBIntegerFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingGeometry as RingBufferGeometry, RingGeometry, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeGeometry as ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereGeometry as SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SplineCurve, SpotLight, SpotLightHelper, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronGeometry as TetrahedronBufferGeometry, TetrahedronGeometry, TextGeometry as TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusGeometry as TorusBufferGeometry, TorusGeometry, TorusKnotGeometry as TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeGeometry as TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VideoTexture, WebGL1Renderer, WebGLCubeRenderTarget, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\n","var Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time >= prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport default Stats;\n","export const REVISION = '128';\nexport const MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nexport const TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nexport const CullFaceNone = 0;\nexport const CullFaceBack = 1;\nexport const CullFaceFront = 2;\nexport const CullFaceFrontBack = 3;\nexport const BasicShadowMap = 0;\nexport const PCFShadowMap = 1;\nexport const PCFSoftShadowMap = 2;\nexport const VSMShadowMap = 3;\nexport const FrontSide = 0;\nexport const BackSide = 1;\nexport const DoubleSide = 2;\nexport const FlatShading = 1;\nexport const SmoothShading = 2;\nexport const NoBlending = 0;\nexport const NormalBlending = 1;\nexport const AdditiveBlending = 2;\nexport const SubtractiveBlending = 3;\nexport const MultiplyBlending = 4;\nexport const CustomBlending = 5;\nexport const AddEquation = 100;\nexport const SubtractEquation = 101;\nexport const ReverseSubtractEquation = 102;\nexport const MinEquation = 103;\nexport const MaxEquation = 104;\nexport const ZeroFactor = 200;\nexport const OneFactor = 201;\nexport const SrcColorFactor = 202;\nexport const OneMinusSrcColorFactor = 203;\nexport const SrcAlphaFactor = 204;\nexport const OneMinusSrcAlphaFactor = 205;\nexport const DstAlphaFactor = 206;\nexport const OneMinusDstAlphaFactor = 207;\nexport const DstColorFactor = 208;\nexport const OneMinusDstColorFactor = 209;\nexport const SrcAlphaSaturateFactor = 210;\nexport const NeverDepth = 0;\nexport const AlwaysDepth = 1;\nexport const LessDepth = 2;\nexport const LessEqualDepth = 3;\nexport const EqualDepth = 4;\nexport const GreaterEqualDepth = 5;\nexport const GreaterDepth = 6;\nexport const NotEqualDepth = 7;\nexport const MultiplyOperation = 0;\nexport const MixOperation = 1;\nexport const AddOperation = 2;\nexport const NoToneMapping = 0;\nexport const LinearToneMapping = 1;\nexport const ReinhardToneMapping = 2;\nexport const CineonToneMapping = 3;\nexport const ACESFilmicToneMapping = 4;\nexport const CustomToneMapping = 5;\n\nexport const UVMapping = 300;\nexport const CubeReflectionMapping = 301;\nexport const CubeRefractionMapping = 302;\nexport const EquirectangularReflectionMapping = 303;\nexport const EquirectangularRefractionMapping = 304;\nexport const CubeUVReflectionMapping = 306;\nexport const CubeUVRefractionMapping = 307;\nexport const RepeatWrapping = 1000;\nexport const ClampToEdgeWrapping = 1001;\nexport const MirroredRepeatWrapping = 1002;\nexport const NearestFilter = 1003;\nexport const NearestMipmapNearestFilter = 1004;\nexport const NearestMipMapNearestFilter = 1004;\nexport const NearestMipmapLinearFilter = 1005;\nexport const NearestMipMapLinearFilter = 1005;\nexport const LinearFilter = 1006;\nexport const LinearMipmapNearestFilter = 1007;\nexport const LinearMipMapNearestFilter = 1007;\nexport const LinearMipmapLinearFilter = 1008;\nexport const LinearMipMapLinearFilter = 1008;\nexport const UnsignedByteType = 1009;\nexport const ByteType = 1010;\nexport const ShortType = 1011;\nexport const UnsignedShortType = 1012;\nexport const IntType = 1013;\nexport const UnsignedIntType = 1014;\nexport const FloatType = 1015;\nexport const HalfFloatType = 1016;\nexport const UnsignedShort4444Type = 1017;\nexport const UnsignedShort5551Type = 1018;\nexport const UnsignedShort565Type = 1019;\nexport const UnsignedInt248Type = 1020;\nexport const AlphaFormat = 1021;\nexport const RGBFormat = 1022;\nexport const RGBAFormat = 1023;\nexport const LuminanceFormat = 1024;\nexport const LuminanceAlphaFormat = 1025;\nexport const RGBEFormat = RGBAFormat;\nexport const DepthFormat = 1026;\nexport const DepthStencilFormat = 1027;\nexport const RedFormat = 1028;\nexport const RedIntegerFormat = 1029;\nexport const RGFormat = 1030;\nexport const RGIntegerFormat = 1031;\nexport const RGBIntegerFormat = 1032;\nexport const RGBAIntegerFormat = 1033;\n\nexport const RGB_S3TC_DXT1_Format = 33776;\nexport const RGBA_S3TC_DXT1_Format = 33777;\nexport const RGBA_S3TC_DXT3_Format = 33778;\nexport const RGBA_S3TC_DXT5_Format = 33779;\nexport const RGB_PVRTC_4BPPV1_Format = 35840;\nexport const RGB_PVRTC_2BPPV1_Format = 35841;\nexport const RGBA_PVRTC_4BPPV1_Format = 35842;\nexport const RGBA_PVRTC_2BPPV1_Format = 35843;\nexport const RGB_ETC1_Format = 36196;\nexport const RGB_ETC2_Format = 37492;\nexport const RGBA_ETC2_EAC_Format = 37496;\nexport const RGBA_ASTC_4x4_Format = 37808;\nexport const RGBA_ASTC_5x4_Format = 37809;\nexport const RGBA_ASTC_5x5_Format = 37810;\nexport const RGBA_ASTC_6x5_Format = 37811;\nexport const RGBA_ASTC_6x6_Format = 37812;\nexport const RGBA_ASTC_8x5_Format = 37813;\nexport const RGBA_ASTC_8x6_Format = 37814;\nexport const RGBA_ASTC_8x8_Format = 37815;\nexport const RGBA_ASTC_10x5_Format = 37816;\nexport const RGBA_ASTC_10x6_Format = 37817;\nexport const RGBA_ASTC_10x8_Format = 37818;\nexport const RGBA_ASTC_10x10_Format = 37819;\nexport const RGBA_ASTC_12x10_Format = 37820;\nexport const RGBA_ASTC_12x12_Format = 37821;\nexport const RGBA_BPTC_Format = 36492;\nexport const SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nexport const SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nexport const SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nexport const SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nexport const SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nexport const SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nexport const SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nexport const SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nexport const SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nexport const SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nexport const SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nexport const SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nexport const SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nexport const SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nexport const LoopOnce = 2200;\nexport const LoopRepeat = 2201;\nexport const LoopPingPong = 2202;\nexport const InterpolateDiscrete = 2300;\nexport const InterpolateLinear = 2301;\nexport const InterpolateSmooth = 2302;\nexport const ZeroCurvatureEnding = 2400;\nexport const ZeroSlopeEnding = 2401;\nexport const WrapAroundEnding = 2402;\nexport const NormalAnimationBlendMode = 2500;\nexport const AdditiveAnimationBlendMode = 2501;\nexport const TrianglesDrawMode = 0;\nexport const TriangleStripDrawMode = 1;\nexport const TriangleFanDrawMode = 2;\nexport const LinearEncoding = 3000;\nexport const sRGBEncoding = 3001;\nexport const GammaEncoding = 3007;\nexport const RGBEEncoding = 3002;\nexport const LogLuvEncoding = 3003;\nexport const RGBM7Encoding = 3004;\nexport const RGBM16Encoding = 3005;\nexport const RGBDEncoding = 3006;\nexport const BasicDepthPacking = 3200;\nexport const RGBADepthPacking = 3201;\nexport const TangentSpaceNormalMap = 0;\nexport const ObjectSpaceNormalMap = 1;\n\nexport const ZeroStencilOp = 0;\nexport const KeepStencilOp = 7680;\nexport const ReplaceStencilOp = 7681;\nexport const IncrementStencilOp = 7682;\nexport const DecrementStencilOp = 7683;\nexport const IncrementWrapStencilOp = 34055;\nexport const DecrementWrapStencilOp = 34056;\nexport const InvertStencilOp = 5386;\n\nexport const NeverStencilFunc = 512;\nexport const LessStencilFunc = 513;\nexport const EqualStencilFunc = 514;\nexport const LessEqualStencilFunc = 515;\nexport const GreaterStencilFunc = 516;\nexport const NotEqualStencilFunc = 517;\nexport const GreaterEqualStencilFunc = 518;\nexport const AlwaysStencilFunc = 519;\n\nexport const StaticDrawUsage = 35044;\nexport const DynamicDrawUsage = 35048;\nexport const StreamDrawUsage = 35040;\nexport const StaticReadUsage = 35045;\nexport const DynamicReadUsage = 35049;\nexport const StreamReadUsage = 35041;\nexport const StaticCopyUsage = 35046;\nexport const DynamicCopyUsage = 35050;\nexport const StreamCopyUsage = 35042;\n\nexport const GLSL1 = '100';\nexport const GLSL3 = '300 es';\n","import { Vector4 } from '../math/Vector4.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { Color } from '../math/Color.js';\nimport { StaticDrawUsage } from '../constants.js';\n\nconst _vector = new /*@__PURE__*/ Vector3();\nconst _vector2 = new /*@__PURE__*/ Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized === true;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.onUploadCallback = function () {};\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tcopyColorsArray( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector2sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector3sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector4sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2.fromBufferAttribute( this, i );\n\t\t\t\t_vector2.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2.x, _vector2.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector.fromBufferAttribute( this, i );\n\t\t\t\t_vector.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector.x = this.getX( i );\n\t\t\t_vector.y = this.getY( i );\n\t\t\t_vector.z = this.getZ( i );\n\n\t\t\t_vector.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector.x = this.getX( i );\n\t\t\t_vector.y = this.getY( i );\n\t\t\t_vector.z = this.getZ( i );\n\n\t\t\t_vector.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector.x = this.getX( i );\n\t\t\t_vector.y = this.getY( i );\n\t\t\t_vector.z = this.getZ( i );\n\n\t\t\t_vector.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\n\n\t\treturn data;\n\n\t}\n\n}\n\nBufferAttribute.prototype.isBufferAttribute = true;\n\n//\n\nclass Int8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8ClampedArray( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nFloat16BufferAttribute.prototype.isFloat16BufferAttribute = true;\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float64BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float64Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\n//\n\nexport {\n\tFloat64BufferAttribute,\n\tFloat32BufferAttribute,\n\tFloat16BufferAttribute,\n\tUint32BufferAttribute,\n\tInt32BufferAttribute,\n\tUint16BufferAttribute,\n\tInt16BufferAttribute,\n\tUint8ClampedBufferAttribute,\n\tUint8BufferAttribute,\n\tInt8BufferAttribute,\n\tBufferAttribute\n};\n","import { Vector3 } from '../math/Vector3.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { Box3 } from '../math/Box3.js';\nimport { EventDispatcher } from './EventDispatcher.js';\nimport { BufferAttribute, Float32BufferAttribute, Uint16BufferAttribute, Uint32BufferAttribute } from './BufferAttribute.js';\nimport { Sphere } from '../math/Sphere.js';\nimport { Object3D } from './Object3D.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { Matrix3 } from '../math/Matrix3.js';\nimport * as MathUtils from '../math/MathUtils.js';\nimport { arrayMax } from '../utils.js';\n\nlet _id = 0;\n\nconst _m1 = new /*@__PURE__*/ Matrix4();\nconst _obj = new /*@__PURE__*/ Object3D();\nconst _offset = new /*@__PURE__*/ Vector3();\nconst _box = new /*@__PURE__*/ Box3();\nconst _boxMorphTargets = new /*@__PURE__*/ Box3();\nconst _vector = new /*@__PURE__*/ Vector3();\n\nclass BufferGeometry extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _id ++ } );\n\n\t\tthis.uuid = MathUtils.generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\n\t\tthis.morphAttributes = {};\n\t\tthis.morphTargetsRelative = false;\n\n\t\tthis.groups = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\n\t\tthis.userData = {};\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetAttribute( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t}\n\n\tsetAttribute( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t}\n\n\tdeleteAttribute( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t}\n\n\thasAttribute( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t}\n\n\taddGroup( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t}\n\n\tclearGroups() {\n\n\t\tthis.groups = [];\n\n\t}\n\n\tsetDrawRange( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateY( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tscale( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tlookAt( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t}\n\n\tcenter() {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector.addVectors( this.boundingBox.min, _box.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector );\n\n\t\t\t\t\t\t_vector.addVectors( this.boundingBox.max, _box.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector.addVectors( _box.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box.expandByPoint( _vector );\n\n\t\t\t\t\t\t_vector.addVectors( _box.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box.expandByPoint( _vector );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeFaceNormals() {\n\n\t\t// backwards compatibility\n\n\t}\n\n\tcomputeTangents() {\n\n\t\tconst index = this.index;\n\t\tconst attributes = this.attributes;\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( index === null ||\n\t\t\t attributes.position === undefined ||\n\t\t\t attributes.normal === undefined ||\n\t\t\t attributes.uv === undefined ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst indices = index.array;\n\t\tconst positions = attributes.position.array;\n\t\tconst normals = attributes.normal.array;\n\t\tconst uvs = attributes.uv.array;\n\n\t\tconst nVertices = positions.length / 3;\n\n\t\tif ( attributes.tangent === undefined ) {\n\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\n\n\t\t}\n\n\t\tconst tangents = attributes.tangent.array;\n\n\t\tconst tan1 = [], tan2 = [];\n\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\n\n\t\t\ttan1[ i ] = new Vector3();\n\t\t\ttan2[ i ] = new Vector3();\n\n\t\t}\n\n\t\tconst vA = new Vector3(),\n\t\t\tvB = new Vector3(),\n\t\t\tvC = new Vector3(),\n\n\t\t\tuvA = new Vector2(),\n\t\t\tuvB = new Vector2(),\n\t\t\tuvC = new Vector2(),\n\n\t\t\tsdir = new Vector3(),\n\t\t\ttdir = new Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\n\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\tuvC.fromArray( uvs, c * 2 );\n\n\t\t\tvB.sub( vA );\n\t\t\tvC.sub( vA );\n\n\t\t\tuvB.sub( uvA );\n\t\t\tuvC.sub( uvA );\n\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\n\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\tif ( ! isFinite( r ) ) return;\n\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tlet groups = this.groups;\n\n\t\tif ( groups.length === 0 ) {\n\n\t\t\tgroups = [ {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: indices.length\n\t\t\t} ];\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleTriangle(\n\t\t\t\t\tindices[ j + 0 ],\n\t\t\t\t\tindices[ j + 1 ],\n\t\t\t\t\tindices[ j + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\n\t\tconst n = new Vector3(), n2 = new Vector3();\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.fromArray( normals, v * 3 );\n\t\t\tn2.copy( n );\n\n\t\t\tconst t = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ] = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleVertex( indices[ j + 0 ] );\n\t\t\t\thandleVertex( indices[ j + 1 ] );\n\t\t\t\thandleVertex( indices[ j + 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeVertexNormals() {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tmerge( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tnormalizeNormals() {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector.fromBufferAttribute( normals, i );\n\n\t\t\t_vector.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t}\n\n\ttoNonIndexed() {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nBufferGeometry.prototype.isBufferGeometry = true;\n\nexport { BufferGeometry };\n","/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\n\nexport { EventDispatcher };\n","class Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n}\n\n\nexport { Layers };\n","import { Quaternion } from '../math/Quaternion.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { EventDispatcher } from './EventDispatcher.js';\nimport { Euler } from '../math/Euler.js';\nimport { Layers } from './Layers.js';\nimport { Matrix3 } from '../math/Matrix3.js';\nimport * as MathUtils from '../math/MathUtils.js';\n\nlet _object3DId = 0;\n\nconst _v1 = new /*@__PURE__*/ Vector3();\nconst _q1 = new /*@__PURE__*/ Quaternion();\nconst _m1 = new /*@__PURE__*/ Matrix4();\nconst _target = new /*@__PURE__*/ Vector3();\n\nconst _position = new /*@__PURE__*/ Vector3();\nconst _scale = new /*@__PURE__*/ Vector3();\nconst _quaternion = new /*@__PURE__*/ Quaternion();\n\nconst _xAxis = new /*@__PURE__*/ Vector3( 1, 0, 0 );\nconst _yAxis = new /*@__PURE__*/ Vector3( 0, 1, 0 );\nconst _zAxis = new /*@__PURE__*/ Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = MathUtils.generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DefaultUp.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeRender() {}\n\tonAfterRender() {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1.lookAt( _position, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1.lookAt( _target, _position, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1 );\n\n\t\tthis.add( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position, target, _scale );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast() {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\t\t\tif ( this.parent === null ) {\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\t\t\t} else {\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\t\t\t}\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\t\t\tforce = true;\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype.isObject3D = true;\n\nexport { Object3D };\n","let _canvas;\n\nclass ImageUtils {\n\n\tstatic getDataURL( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n}\n\nexport { ImageUtils };\n","const Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\n\nexport { Cache };\n","import { Cache } from './Cache.js';\nimport { Loader } from './Loader.js';\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\n\nexport { ImageLoader };\n","import { DefaultLoadingManager } from './LoadingManager.js';\n\nclass Loader {\n\n\tconstructor( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.withCredentials = false;\n\t\tthis.path = '';\n\t\tthis.resourcePath = '';\n\t\tthis.requestHeader = {};\n\n\t}\n\n\tload( /* url, onLoad, onProgress, onError */ ) {}\n\n\tloadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t}\n\n\tparse( /* data */ ) {}\n\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\tsetWithCredentials( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t}\n\n\tsetPath( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t}\n\n\tsetResourcePath( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n\tsetRequestHeader( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n}\n\nexport { Loader };\n","class LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nexport { DefaultLoadingManager, LoadingManager };\n","import { EventDispatcher } from '../core/EventDispatcher.js';\nimport { FrontSide, FlatShading, NormalBlending, LessEqualDepth, AddEquation, OneMinusSrcAlphaFactor, SrcAlphaFactor, AlwaysStencilFunc, KeepStencilOp } from '../constants.js';\nimport * as MathUtils from '../math/MathUtils.js';\n\nlet materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.vertexColors = false;\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilWriteMask = 0xff;\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilFuncMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.alphaToCoverage = false;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.version = 0;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBuild: function ( /* shaderobject, renderer */ ) {},\n\n\tonBeforeCompile: function ( /* shaderobject, renderer */ ) {},\n\n\tcustomProgramCacheKey: function () {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nObject.defineProperty( Material.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nexport { Material };\n","import { Material } from './Material.js';\nimport { MultiplyOperation } from '../constants.js';\nimport { Color } from '../math/Color.js';\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nclass MeshBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // emissive\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nexport { MeshBasicMaterial };\n","import { Vector3 } from './Vector3.js';\n\nclass Box3 {\n\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box.copy( geometry.boundingBox );\n\t\t\t_box.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box );\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0.subVectors( triangle.a, _center );\n\t\t_v1.subVectors( triangle.b, _center );\n\t\t_v2.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1, _v0 );\n\t\t_f1.subVectors( _v2, _v1 );\n\t\t_f2.subVectors( _v0, _v2 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0, _v1, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0, _v1, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0, _v1, _v2, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox3.prototype.isBox3 = true;\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector = /*@__PURE__*/ new Vector3();\n\nconst _box = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0 = /*@__PURE__*/ new Vector3();\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nexport { Box3 };\n","import * as MathUtils from './MathUtils.js';\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = MathUtils.euclideanModulo( h, 1 );\n\t\ts = MathUtils.clamp( s, 0, 1 );\n\t\tl = MathUtils.clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopyGammaToLinear( color, gammaFactor = 2.0 ) {\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToGamma( color, gammaFactor = 2.0 ) {\n\n\t\tconst safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t}\n\n\tconvertGammaToLinear( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToGamma( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex() {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t}\n\n\tgetHexString() {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle() {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = MathUtils.lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = MathUtils.lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = MathUtils.lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\n\nColor.prototype.isColor = true;\nColor.prototype.r = 1;\nColor.prototype.g = 1;\nColor.prototype.b = 1;\n\nexport { Color };\n","import { Quaternion } from './Quaternion.js';\nimport { Vector3 } from './Vector3.js';\nimport { Matrix4 } from './Matrix4.js';\nimport { clamp } from './MathUtils.js';\n\nconst _matrix = /*@__PURE__*/ new Matrix4();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order, update ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix, order, update );\n\n\t}\n\n\tsetFromVector3( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\ttoVector3( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nEuler.prototype.isEuler = true;\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nexport { Euler };\n","const _lut = [];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toUpperCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidian modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t\t } else {\n\n\t\treturn 0;\n\n\t\t }\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s % 2147483647;\n\n\t// Park-Miller algorithm\n\n\t_seed = _seed * 16807 % 2147483647;\n\n\treturn ( _seed - 1 ) / 2147483646;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\n\n\n\nexport {\n\tDEG2RAD,\n\tRAD2DEG,\n\tgenerateUUID,\n\tclamp,\n\teuclideanModulo,\n\tmapLinear,\n\tinverseLerp,\n\tlerp,\n\tdamp,\n\tpingpong,\n\tsmoothstep,\n\tsmootherstep,\n\trandInt,\n\trandFloat,\n\trandFloatSpread,\n\tseededRandom,\n\tdegToRad,\n\tradToDeg,\n\tisPowerOfTwo,\n\tceilPowerOfTwo,\n\tfloorPowerOfTwo,\n\tsetQuaternionFromProperEuler,\n};\n","class Matrix3 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tscale( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nMatrix3.prototype.isMatrix3 = true;\n\nexport { Matrix3 };\n","import { Vector3 } from './Vector3.js';\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nMatrix4.prototype.isMatrix4 = true;\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nexport { Matrix4 };\n","import { Matrix3 } from './Matrix3.js';\nimport { Vector3 } from './Vector3.js';\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nPlane.prototype.isPlane = true;\n\nexport { Plane };\n","import * as MathUtils from './MathUtils.js';\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.' );\n\t\treturn qm.slerpQuaternions( qa, qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\tthis.copy( qa ).slerp( qb, t );\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nQuaternion.prototype.isQuaternion = true;\n\nexport { Quaternion };\n","import { Vector3 } from './Vector3.js';\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector.dot( this.direction );\n\t\tconst d2 = _vector.dot( _vector ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nexport { Ray };\n","import { Box3 } from './Box3.js';\nimport { Vector3 } from './Vector3.js';\n\nconst _box = /*@__PURE__*/ new Box3();\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _toFarthestPoint = /*@__PURE__*/ new Vector3();\nconst _toPoint = /*@__PURE__*/ new Vector3();\n\nclass Sphere {\n\n\tconstructor( center = new Vector3(), radius = - 1 ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\n\n\t\t_toPoint.subVectors( point, this.center );\n\n\t\tconst lengthSq = _toPoint.lengthSq();\n\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tconst length = Math.sqrt( lengthSq );\n\t\t\tconst missingRadiusHalf = ( length - this.radius ) * 0.5;\n\n\t\t\t// Nudge this sphere towards the target point. Add half the missing distance to radius,\n\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\n\t\t\t// the whole missing distance were just added to radius.\n\n\t\t\tthis.center.add( _toPoint.multiplyScalar( missingRadiusHalf / length ) );\n\t\t\tthis.radius += missingRadiusHalf;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunion( sphere ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\n\n\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\n\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\n\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\n\n\t\t_toFarthestPoint.subVectors( sphere.center, this.center ).normalize().multiplyScalar( sphere.radius );\n\n\t\tthis.expandByPoint( _v1.copy( sphere.center ).add( _toFarthestPoint ) );\n\t\tthis.expandByPoint( _v1.copy( sphere.center ).sub( _toFarthestPoint ) );\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nexport { Sphere };\n","import { Vector3 } from './Vector3.js';\nimport { Plane } from './Plane.js';\n\nconst _v0 = /*@__PURE__*/ new Vector3();\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0.subVectors( a, b );\n\t\ttarget.cross( _v0 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0.subVectors( c, a );\n\t\t_v1.subVectors( b, a );\n\t\t_v2.subVectors( point, a );\n\n\t\tconst dot00 = _v0.dot( _v0 );\n\t\tconst dot01 = _v0.dot( _v1 );\n\t\tconst dot02 = _v0.dot( _v2 );\n\t\tconst dot11 = _v1.dot( _v1 );\n\t\tconst dot12 = _v1.dot( _v2 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3 );\n\n\t\treturn ( _v3.x >= 0 ) && ( _v3.y >= 0 ) && ( ( _v3.x + _v3.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3.x );\n\t\ttarget.addScaledVector( uv2, _v3.y );\n\t\ttarget.addScaledVector( uv3, _v3.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0.subVectors( c, b );\n\t\t_v1.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0.cross( _v1 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0.subVectors( this.c, this.b );\n\t\t_v1.subVectors( this.a, this.b );\n\n\t\treturn _v0.cross( _v1 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Plane();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nexport { Triangle };\n","class Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector2.prototype.isVector2 = true;\n\nexport { Vector2 };\n","import * as MathUtils from './MathUtils.js';\nimport { Quaternion } from './Quaternion.js';\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector3.prototype.isVector3 = true;\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\n\nexport { Vector3 };\n","class Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector4.prototype.isVector4 = true;\n\nexport { Vector4 };\n","import { Vector3 } from '../math/Vector3.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { Sphere } from '../math/Sphere.js';\nimport { Ray } from '../math/Ray.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { Triangle } from '../math/Triangle.js';\nimport { DoubleSide, BackSide } from '../constants.js';\nimport { MeshBasicMaterial } from '../materials/MeshBasicMaterial.js';\nimport { BufferGeometry } from '../core/BufferGeometry.js';\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\n\nconst _vA = /*@__PURE__*/ new Vector3();\nconst _vB = /*@__PURE__*/ new Vector3();\nconst _vC = /*@__PURE__*/ new Vector3();\n\nconst _tempA = /*@__PURE__*/ new Vector3();\nconst _tempB = /*@__PURE__*/ new Vector3();\nconst _tempC = /*@__PURE__*/ new Vector3();\n\nconst _morphA = /*@__PURE__*/ new Vector3();\nconst _morphB = /*@__PURE__*/ new Vector3();\nconst _morphC = /*@__PURE__*/ new Vector3();\n\nconst _uvA = /*@__PURE__*/ new Vector2();\nconst _uvB = /*@__PURE__*/ new Vector2();\nconst _uvC = /*@__PURE__*/ new Vector2();\n\nconst _intersectionPoint = /*@__PURE__*/ new Vector3();\nconst _intersectionPointWorld = /*@__PURE__*/ new Vector3();\n\nclass Mesh extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Mesh';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tconst uv = geometry.attributes.uv;\n\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\tconst groups = geometry.groups;\n\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n}\n\nMesh.prototype.isMesh = true;\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA.fromBufferAttribute( position, a );\n\t_vB.fromBufferAttribute( position, b );\n\t_vC.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA.add( _morphA );\n\t\t_vB.add( _morphB );\n\t\t_vC.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh && material.skinning ) {\n\n\t\tobject.boneTransform( a, _vA );\n\t\tobject.boneTransform( b, _vB );\n\t\tobject.boneTransform( c, _vC );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv, a );\n\t\t\t_uvB.fromBufferAttribute( uv, b );\n\t\t\t_uvC.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv2, a );\n\t\t\t_uvB.fromBufferAttribute( uv2, b );\n\t\t\t_uvC.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA, _vB, _vC, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nexport { Mesh };\n","import { EventDispatcher } from '../core/EventDispatcher.js';\nimport {\n\tMirroredRepeatWrapping,\n\tClampToEdgeWrapping,\n\tRepeatWrapping,\n\tLinearEncoding,\n\tUnsignedByteType,\n\tRGBAFormat,\n\tLinearMipmapLinearFilter,\n\tLinearFilter,\n\tUVMapping\n} from '../constants.js';\nimport * as MathUtils from '../math/MathUtils.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { Matrix3 } from '../math/Matrix3.js';\nimport { ImageUtils } from '../extras/ImageUtils.js';\n\nlet textureId = 0;\n\nclass Texture extends EventDispatcher {\n\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding ) {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\t\tthis.uuid = MathUtils.generateUUID();\n\n\t\tthis.name = '';\n\n\t\tthis.image = image;\n\t\tthis.mipmaps = [];\n\n\t\tthis.mapping = mapping;\n\n\t\tthis.wrapS = wrapS;\n\t\tthis.wrapT = wrapT;\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.anisotropy = anisotropy;\n\n\t\tthis.format = format;\n\t\tthis.internalFormat = null;\n\t\tthis.type = type;\n\n\t\tthis.offset = new Vector2( 0, 0 );\n\t\tthis.repeat = new Vector2( 1, 1 );\n\t\tthis.center = new Vector2( 0, 0 );\n\t\tthis.rotation = 0;\n\n\t\tthis.matrixAutoUpdate = true;\n\t\tthis.matrix = new Matrix3();\n\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t//\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\t\tthis.encoding = encoding;\n\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tconst image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = MathUtils.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tlet url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( let i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t// check cube texture with data textures\n\n\t\t\t\t\t\tif ( image[ i ].isDataTexture ) {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ].image ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ] ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = serializeImage( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\ttransformUv( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype.isTexture = true;\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.prototype.slice.call( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nexport { Texture };\n","function arrayMin( array ) {\n\n\tif ( array.length === 0 ) return Infinity;\n\n\tlet min = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] < min ) min = array[ i ];\n\n\t}\n\n\treturn min;\n\n}\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tlet max = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\tUint8ClampedArray: Uint8ClampedArray,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nfunction getTypedArray( type, buffer ) {\n\n\treturn new TYPED_ARRAYS[ type ]( buffer );\n\n}\n\nexport { arrayMin, arrayMax, getTypedArray };\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import * as THREE from 'three';\r\nimport \"regenerator-runtime/runtime.js\";\r\nimport { Planet } from './planet/Planet.js';\r\nimport Stats from 'three/examples/jsm/libs/stats.module.js';\r\nimport { PanController } from './controls/PanController.js';\r\nimport { RotateController } from './controls/RotateController.js';\r\nimport { ZoomController } from './controls/ZoomController.js';\r\nimport {LayerManager} from './layers/LayerManager.js';\r\n\r\nclass Map {\r\n\r\n    /**\r\n     * \r\n     * @param {\r\n     *          divID: a div Id\r\n     *        } properties\r\n     */\r\n    constructor(properties) {\r\n        this.layerManager = new LayerManager()\r\n        this.initScene();\r\n        this.initDomContainer(properties.divID);\r\n        this.initCamera();\r\n        this.initRenderer();\r\n        this.initPlanet();\r\n        this.initController();\r\n        this.addElementsToScene(this.planet);\r\n        this.initStats();\r\n        this.startAnimation();\r\n    }\r\n\r\n    setLayer(layer, index){\r\n        this.layerManager.setLayer(layer, index);\r\n    }\r\n    getLayers(){\r\n        return this.layerManager.getLayers();\r\n    }\r\n    initScene() {\r\n        this.scene = new THREE.Scene();\r\n        this.scene.background = new THREE.Color(0x000000);\r\n    }\r\n\r\n    initDomContainer(divID) {\r\n    \r\n        this.domContainer = document.getElementById(divID);\r\n        document.body.appendChild(this.domContainer);\r\n    }\r\n    \r\n    initRenderer() {\r\n        let self = this;\r\n        self.renderer = new THREE.WebGLRenderer();\r\n        self.renderer.antialias = true;\r\n        \r\n        self.renderer.setPixelRatio(window.devicePixelRatio);\r\n        self.renderer.outputEncoding = THREE.sRGBEncoding;\r\n        self.renderer.autoClear = false;\r\n    \r\n        self.renderer.setSize(self.domContainer.offsetWidth, self.domContainer.offsetHeight);\r\n        self.domContainer.appendChild(self.renderer.domElement);\r\n    \r\n        onWindowResize();\r\n        window.addEventListener('resize', onWindowResize);\r\n        function onWindowResize() {\r\n            self.camera.aspect = self.domContainer.offsetWidth / self.domContainer.offsetHeight;\r\n            self.camera.updateProjectionMatrix();\r\n            //const dpr = self.renderer.getPixelRatio();\r\n            self.renderer.setSize(self.domContainer.offsetWidth, self.domContainer.offsetHeight);\r\n        }\r\n    }\r\n\r\n    initStats(){\r\n        this.stats = new Stats();\r\n        this.domContainer.appendChild(this.stats.dom);\r\n    }\r\n    \r\n    \r\n    initCamera() {\r\n        this.camera = new THREE.PerspectiveCamera(30, window.offsetWidth / window.offsetHeight, 1000, 63780000);\r\n        this.camera.position.set(-40000000, 0, 0);\r\n        this.camera.lookAt(new THREE.Vector3(0,6378000,0));\r\n    }\r\n    \r\n    initPlanet() {\r\n        \r\n        this.planet = new Planet({\r\n            camera: this.camera,\r\n            center: new THREE.Vector3(0, 0, 0),\r\n            radius: 6378000,\r\n            layerManager: this.layerManager\r\n        });\r\n        \r\n    }\r\n    \r\n    // Three doesn't offer a listener on camera position so we leave it up to the controller to call planet updates.\r\n    initController(){\r\n        this.controller = new PanController(this.camera, this.domContainer, this.planet);\r\n        this.controller.append( new RotateController(this.camera, this.domContainer, this.planet));\r\n        this.controller.append( new ZoomController(this.camera, this.domContainer, this.planet));\r\n        this.domContainer.addEventListener('mousedown', (e) => {\r\n            this.controller.event('mousedown', e);\r\n        }, false);\r\n        this.domContainer.addEventListener('mouseup', (e) => {\r\n            this.controller.event('mouseup', e);\r\n        }, false);\r\n        this.domContainer.addEventListener('mousemove', (e) => {\r\n            this.controller.event('mousemove', e);\r\n        }, false);\r\n        this.domContainer.addEventListener('mousewheel', (e) => {\r\n            this.controller.event('mousewheel', e);\r\n        }, false);\r\n        this.domContainer.addEventListener('touchstart', (e) => {\r\n            this.controller.event('touchstart', e);\r\n        }, false);\r\n        this.domContainer.addEventListener('touchmove', (e) => {\r\n            this.controller.event('touchmove', e);\r\n        }, false);\r\n        this.domContainer.addEventListener('touchcancel', (e) => {\r\n            this.controller.event('touchcancel', e);\r\n        }, false);\r\n        this.domContainer.addEventListener('touchend', (e) => {\r\n            this.controller.event('touchend', e);\r\n        }, false);\r\n    \r\n    \r\n    }\r\n    addElementsToScene(object) {\r\n        this.scene.add(object);\r\n    }\r\n    \r\n    startAnimation(){\r\n        var self = this;\r\n        function animate() {\r\n            requestAnimationFrame(animate);\r\n            self.camera.updateMatrixWorld();\r\n            self.renderer.render(self.scene, self.camera);\r\n            self.stats.update();\r\n        }\r\n        animate();\r\n    }\r\n    \r\n    \r\n    \r\n}\r\n\r\n\r\nexport { Map };","import * as THREE from 'three';\r\n\r\nconst tempPointA = new THREE.Vector3();\r\nconst tempPointB = new THREE.Vector3();\r\nconst tempPointC = new THREE.Vector3();\r\nconst tempPointD = new THREE.Vector3();\r\nconst tempPointE = new THREE.Vector3();\r\nconst quaternion = new THREE.Quaternion();\r\nvar pointer1;\r\nvar pointer2;\r\nvar pointer3;\r\nvar pointer4;\r\nclass PanController /*extends EventDispatcher*/ {\r\n\tconstructor(camera, domElement, planet) {\r\n\t\tthis.dom = domElement;\r\n\t\tthis.planet = planet;\r\n\t\tthis.camera = camera;\r\n\t\tthis.isMouseDown = false;\r\n\t\tthis.mouseDownLocation = [];\r\n\t\tthis.next = null;\r\n\t\t\r\n\t}\r\n\r\n\tevent(eventName, e){\r\n\t\tlet self = this;\r\n\t\tif(e.which ==1){\r\n\t\t\tswitch (eventName){\r\n\t\t\t\tcase \"mousedown\" : self.mouseDown(e); break;\r\n\t\t\t\tcase \"mouseup\" : self.mouseUp(e); break;\r\n\t\t\t\tcase \"mousemove\" : self.mouseMove(e); break;\r\n\t\t\t}\r\n\t\t}else if(!!self.next){\r\n\t\t\tself.next.event(eventName, e)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tmouseDown(e){\r\n\t\tthis.isMouseDown = true;\r\n\t\tthis.mouseDownLocation = [e.x, e.y];\r\n\t}\r\n\tmouseUp(e){\r\n\t\tthis.isMouseDown = false;\r\n\t\tthis.mouseDownLocation = [e.x, e.y];\r\n\t}\r\n\tmouseMove(e){\r\n\t\tif (!!this.isMouseDown) {\r\n\t\t\tthis.pan(this.mouseDownLocation, [e.x, e.y]);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpan(panStart, panEnd) {\r\n\t\t\r\n\t\tthis.calculateMouseLocationOnPlanet(panStart[0], panStart[1], tempPointC);\r\n\t\t\r\n\t\ttempPointA.copy(this.camera.position).sub(this.planet.position).normalize();\r\n\r\n\t\tpointer1 = tempPointC.distanceTo(this.camera.position)* 0.002;\r\n\t\tpointer2 = (panEnd[0] - panStart[0]) * pointer1;\r\n\t\tpointer3 = (panEnd[1] - panStart[1]) * pointer1;\r\n\r\n\t\tpanStart[0] = panEnd[0];\r\n\t\tpanStart[1] = panEnd[1];\r\n\r\n\t\tthis.camera.getWorldDirection(tempPointD).normalize();\r\n\t\t\r\n\t\ttempPointE.crossVectors(this.camera.up.normalize(), tempPointD);\r\n\t\ttempPointB.crossVectors(tempPointE, this.camera.position).normalize();\r\n\r\n\t\tpointer1 = this.planet.center.distanceTo(this.camera.position);\r\n\r\n\t\tthis.camera.position.set(\r\n\t\t\tthis.camera.position.x + pointer2 * tempPointE.x + pointer3 * tempPointB.x,\r\n\t\t\tthis.camera.position.y + pointer2 * tempPointE.y + pointer3 * tempPointB.y,\r\n\t\t\tthis.camera.position.z + pointer2 * tempPointE.z + pointer3 * tempPointB.z,\r\n\t\t);\r\n\t\t\r\n\t\tthis.camera.position.sub(this.planet.center).normalize().multiplyScalar(pointer1).add(this.planet.center);\r\n\r\n\t\ttempPointB.copy(this.camera.position).sub(this.planet.position).normalize();\r\n\r\n\t\tquaternion.setFromUnitVectors(tempPointA, tempPointB);\r\n\r\n\t\ttempPointD.applyQuaternion(quaternion).add(this.camera.position);\r\n\t\tthis.camera.lookAt(tempPointD);\r\n\t\ttempPointE.applyQuaternion(quaternion);\r\n\t\tthis.camera.up.crossVectors(tempPointD.sub(this.camera.position), tempPointE);\r\n\t}\r\n\r\n\tcalculateMouseLocationOnPlanet(x, y, sideEffect) {\r\n\r\n\t\tpointer1 = Math.tan(this.camera.fov * 0.5 * 0.0174533) * this.camera.near * 2;\r\n\t\tpointer2 = pointer1 / this.dom.clientHeight * this.dom.clientWidth;\r\n\t\tpointer2 = ((x / this.dom.clientWidth) - 0.5) * pointer2;\r\n\t\tpointer1 = (1 - (y / this.dom.clientHeight) - 0.5) * pointer1;\r\n\r\n\t\ttempPointA.set(pointer2, pointer1, - this.camera.near).normalize().applyEuler(this.camera.rotation).normalize();\r\n\r\n\t\tpointer1 = this.distSphere(this.planet.center, this.planet.radius, this.camera.position, tempPointA)\r\n\r\n\t\tif (!!pointer1 && pointer1 > 0) {\r\n\t\t\tsideEffect.copy(this.camera.position).add(tempPointA.multiplyScalar(pointer1));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.camera.getWorldDirection(tempPointB).normalize();\r\n\t\tpointer1 = this.distSphere(this.planet.center, this.planet.radius, this.camera.position, tempPointB);\r\n\t\tif (!!pointer1 && pointer1 > 0) {\r\n\t\t\tsideEffect.copy(this.camera.position).add(tempPointB.multiplyScalar(pointer1));\r\n\t\t}\r\n\t\t// else, the camera forward vector doesn't touch the planet's MSE surface. Just keep the last known position\r\n\t}\r\n\tdistSphere(center, radius, origin, direction) {\r\n\t\ttempPointB.copy(origin).sub(center);\r\n\t\tpointer1 = direction.dot(direction);\r\n\t\tpointer2 = 2.0 * tempPointB.dot(direction);\r\n\t\tpointer3 = tempPointB.dot(tempPointB) - radius * radius;\r\n\t\tpointer4 = pointer2 * pointer2 - 4 * pointer1 * pointer3;\r\n\t\tif (pointer4 < 0) {\r\n\t\t\treturn -1.0;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn (-pointer2 - Math.sqrt(pointer4)) / (2.0 * pointer1);\r\n\t\t}\r\n\t}\r\n\r\n\tappend(aController){\r\n\t\tif(!!this.next){\r\n\t\t\tthis.next.append(aController);\r\n\t\t}else{\r\n\t\t\tthis.next = aController;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport { PanController };\r\n","import * as THREE from 'three';\r\n\r\nconst tempPointA = new THREE.Vector3();\r\nconst tempPointB = new THREE.Vector3();\r\nconst tempPointC = new THREE.Vector3();\r\nconst tempPointD = new THREE.Vector3();\r\nconst tempPointE = new THREE.Vector3();\r\nvar pointer1;\r\nvar pointer2;\r\nvar pointer3;\r\nvar pointer4;\r\n\r\nclass RotateController /*extends EventDispatcher*/ {\r\n\tconstructor(camera, domElement, planet) {\r\n\t\tthis.dom = domElement;\r\n\t\tthis.planet = planet;\r\n\t\tthis.camera = camera;\r\n\t\tthis.isMouseDown = false;\r\n\t\tthis.mouseDownLocation = [];\r\n\t\tthis.next = null;\r\n\t\tthis.mouseDownLocationOnPlanetSurface = new THREE.Vector3();\r\n\r\n\r\n\t}\r\n\r\n\tevent(eventName, e) {\r\n\t\tlet self = this;\r\n\t\tif (e.which == 3) {\r\n\t\t\tswitch (eventName) {\r\n\t\t\t\tcase \"mousedown\": self.mouseDown(e); break;\r\n\t\t\t\tcase \"mouseup\": self.mouseUp(e); break;\r\n\t\t\t\tcase \"mousemove\": self.mouseMove(e); break;\r\n\t\t\t}\r\n\t\t} else if (!!self.next) {\r\n\t\t\tself.next.event(eventName, e)\r\n\t\t}\r\n\r\n\t}\r\n\tmouseDown(e) {\r\n\t\tthis.isMouseDown = true;\r\n\t\tthis.mouseDownLocation = [e.x, e.y];\r\n\t\tthis.calculateMouseLocationOnPlanet(e.x, e.y, this.mouseDownLocationOnPlanetSurface);\r\n\t}\r\n\tmouseUp(e) {\r\n\t\tthis.isMouseDown = false;\r\n\t\tthis.mouseDownLocation = [e.x, e.y];\r\n\t}\r\n\tmouseMove(e) {\r\n\t\tif (!!this.isMouseDown && !!this.mouseDownLocationOnPlanetSurface) {\r\n\t\t\tthis.rotate(this.mouseDownLocation, [e.x, e.y]);\r\n\t\t}\r\n\t}\r\n\r\n\trotate(rotateStart, rotateEnd) {\r\n\r\n\t\tpointer1 = (rotateEnd[0] - rotateStart[0]);\r\n\t\tthis.rotateX(pointer1);\r\n\t\tpointer1 = (rotateEnd[1] - rotateStart[1]);\r\n\t\tthis.rotateY(pointer1);\r\n\r\n\t\trotateStart[0] = rotateEnd[0];\r\n\t\trotateStart[1] = rotateEnd[1];\r\n\r\n\t\tthis.resetCameraNearFar();\r\n\t}\r\n\r\n\trotateX(rotateX) {\r\n\r\n\r\n\t\ttempPointA.copy(this.mouseDownLocationOnPlanetSurface).sub(this.planet.center).normalize();\r\n\t\trotateX *= 0.004;\r\n\t\tthis.camera.position.sub(this.mouseDownLocationOnPlanetSurface).applyAxisAngle(tempPointA, rotateX).add(this.mouseDownLocationOnPlanetSurface);\r\n\r\n\t\tthis.camera.getWorldDirection(tempPointB).normalize();\r\n\t\ttempPointC.crossVectors(this.camera.up, tempPointB);\r\n\r\n\t\ttempPointB.applyAxisAngle(tempPointA, rotateX).add(this.camera.position);\r\n\t\tthis.camera.lookAt(tempPointB);\r\n\r\n\t\tthis.camera.getWorldDirection(tempPointB).normalize();\r\n\t\ttempPointC.crossVectors(tempPointB, tempPointA.copy(this.camera.position).sub(this.planet.center).normalize());\r\n\t\tthis.camera.up.crossVectors(tempPointC, tempPointB);\r\n\t\t\r\n\t\ttempPointC.crossVectors(tempPointB, this.camera.up);\r\n\t\tthis.camera.lookAt(tempPointB.add(this.camera.position));\r\n\t\tthis.camera.up.crossVectors(tempPointB.normalize(), tempPointC);\r\n\t}\r\n\r\n\trotateY(rotateY) {\r\n\t\tthis.camera.getWorldDirection(tempPointA).normalize();\r\n\t\ttempPointB.crossVectors(this.camera.up, tempPointA).normalize();\r\n\t\t\r\n\t\trotateY = - rotateY * 0.004;\r\n\t\t\r\n\t\ttempPointC.crossVectors(tempPointA, this.camera.up).normalize();\r\n\t\ttempPointD.copy(this.planet.center).sub(this.camera.position);\r\n\t\tlet pitch = Math.atan2(tempPointE.crossVectors(tempPointD, tempPointA).dot(tempPointC), tempPointA.dot(tempPointD));\r\n\t\t\r\n\t\tif(pitch + rotateY < 0.01){\r\n\t\t\trotateY =  0.01 - pitch;\r\n\t\t} \r\n\t\tif(pitch + rotateY > 1.56){\r\n\t\t\trotateY =  1.56 - pitch;\r\n\t\t} \r\n\t\tthis.camera.position.sub(this.mouseDownLocationOnPlanetSurface).applyAxisAngle(tempPointB, -rotateY).add(this.mouseDownLocationOnPlanetSurface);\r\n\r\n\r\n\t\ttempPointA.applyAxisAngle(tempPointB, -rotateY);\r\n\t\ttempPointC.crossVectors(tempPointA, this.camera.up);\r\n\t\tthis.camera.lookAt(tempPointA.add(this.camera.position));\r\n\t\tthis.camera.up.crossVectors(tempPointA.normalize(), tempPointC);\r\n\r\n\r\n\t}\r\n\r\n\r\n\tcalculateMouseLocationOnPlanet(x, y, sideEffect) {\r\n\r\n\t\tpointer1 = Math.tan(this.camera.fov * 0.5 * 0.0174533) * this.camera.near * 2;\r\n\t\tpointer2 = pointer1 / this.dom.clientHeight * this.dom.clientWidth;\r\n\t\tpointer2 = ((x / this.dom.clientWidth) - 0.5) * pointer2;\r\n\t\tpointer1 = (1 - (y / this.dom.clientHeight) - 0.5) * pointer1;\r\n\r\n\t\ttempPointA.set(pointer2, pointer1, - this.camera.near).normalize().applyEuler(this.camera.rotation).normalize();\r\n\r\n\t\tpointer1 = this.distSphere(this.planet.center, this.planet.radius, this.camera.position, tempPointA)\r\n\r\n\t\tif (!!pointer1 && pointer1 > 0) {\r\n\t\t\tsideEffect.copy(this.camera.position).add(tempPointA.multiplyScalar(pointer1));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.camera.getWorldDirection(tempPointB).normalize();\r\n\t\tpointer1 = this.distSphere(this.planet.center, this.planet.radius, this.camera.position, tempPointB);\r\n\t\tif (!!pointer1 && pointer1 > 0) {\r\n\t\t\tsideEffect.copy(this.camera.position).add(tempPointB.multiplyScalar(pointer1));\r\n\t\t}\r\n\t\t// else, the camera forward vector doesn't touch the planet's MSE surface. Just keep the last known position\r\n\t}\r\n\tdistSphere(center, radius, origin, direction) {\r\n\t\ttempPointB.copy(origin).sub(center);\r\n\t\tpointer1 = direction.dot(direction);\r\n\t\tpointer2 = 2.0 * tempPointB.dot(direction);\r\n\t\tpointer3 = tempPointB.dot(tempPointB) - radius * radius;\r\n\t\tpointer4 = pointer2 * pointer2 - 4 * pointer1 * pointer3;\r\n\t\tif (pointer4 < 0) {\r\n\t\t\treturn -1.0;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn (-pointer2 - Math.sqrt(pointer4)) / (2.0 * pointer1);\r\n\t\t}\r\n\t}\r\n\r\n\tresetCameraNearFar() {\r\n\t\tpointer1 = this.planet.center.distanceTo(this.camera.position) - this.planet.radius;\r\n\t\tthis.camera.near = pointer1 * 0.1;\r\n\t\tthis.camera.far = Math.sqrt(2 * this.planet.radius * pointer1 + pointer1 * pointer1) * 2;\r\n\t\tthis.camera.updateProjectionMatrix();\r\n\t}\r\n\r\n\tappend(aController) {\r\n\t\tif (!!this.next) {\r\n\t\t\tthis.next.append(aController);\r\n\t\t} else {\r\n\t\t\tthis.next = aController;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport { RotateController };\r\n","import * as THREE from 'three';\r\n\r\nconst tempPointA = new THREE.Vector3();\r\nconst tempPointB = new THREE.Vector3();\r\nconst tempPointC = new THREE.Vector3();\r\nconst tempPointD = new THREE.Vector3();\r\nconst tempPointE = new THREE.Vector3();\r\nconst quaternion = new THREE.Quaternion();\r\nvar pointer1;\r\nvar pointer2;\r\nvar pointer3;\r\nvar pointer4;\r\nvar pointer5;\r\nclass ZoomController /*extends EventDispatcher*/ {\r\n\tconstructor(camera, domElement, planet) {\r\n\t\tthis.dom = domElement;\r\n\t\tthis.planet = planet;\r\n\t\tthis.camera = camera;\r\n\t\tthis.isMouseDown = false;\r\n\t\tthis.mouseDownLocation = [];\r\n\t\tthis.next = null;\r\n\r\n\t}\r\n\r\n\tevent(eventName, e) {\r\n\t\tlet self = this;\r\n\t\tswitch (eventName) {\r\n\t\t\tcase \"mousewheel\": self.zoomWheel(e.deltaY, e.x, e.y); break;\r\n\t\t\tdefault: if (!!self.next) self.next.event(eventName, e);\r\n\t\t}\r\n\t}\r\n\r\n\tzoomWheel(zoom, x, y) {\r\n\t\r\n\t\t// calculate pointOnGlobe and distToGlobeSurface before zoom\r\n\t\tpointer1 = Math.tan(this.camera.fov * 0.5 * 0.0174533) * this.camera.near * 2;\r\n\t\tpointer2 = pointer1 / this.dom.clientHeight * this.dom.clientWidth;\r\n\t\tpointer2 = ((x / this.dom.clientWidth) - 0.5) * pointer2;\r\n\t\tpointer1 = (1 - (y / this.dom.clientHeight) - 0.5) * pointer1;\r\n\r\n\t\ttempPointA.set(pointer2, pointer1, - this.camera.near).normalize().applyEuler(this.camera.rotation).normalize();\r\n\r\n\t\tpointer1 = this.distSphere(this.planet.center, this.planet.radius, this.camera.position, tempPointA)\r\n\r\n\t\tif (!pointer1 || pointer1 < 0) {\r\n\t\t\tthis.simpleZoom(zoom);\r\n\t\t\tthis.resetCameraNearFar();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttempPointC.copy(this.camera.position).add(tempPointB.copy(tempPointA).multiplyScalar(pointer1));\r\n\t\t\r\n\t\t\r\n\t\ttempPointE.copy(this.camera.position);\r\n\t\tpointer5 = this.camera.position.distanceTo(tempPointC);\r\n\t\t\r\n\t\t//// Move camera forwards by zoom factor in the direction it's looking\r\n\t\tthis.camera.getWorldDirection(tempPointB).normalize();\r\n\t\tthis.camera.position.add(tempPointB.multiplyScalar(pointer1*(-zoom*0.0003)));\r\n\r\n\t\t///// calculate target point after zoom\r\n\r\n\t\tpointer1 = this.distSphere(this.planet.center, this.planet.radius, this.camera.position, tempPointA)\r\n\r\n\t\tif (!pointer1 || pointer1 < 0) {\r\n\t\t\t//point not on globe after rotation\r\n\t\t\tthis.resetCameraNearFar();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\r\n\t\ttempPointB.copy(this.camera.position).add(tempPointA.multiplyScalar(pointer1));\r\n\t\tquaternion.setFromUnitVectors(tempPointB.sub(this.planet.center).normalize(), tempPointA.copy(tempPointC).sub(this.planet.center).normalize());\r\n\t\tthis.camera.position.applyQuaternion(quaternion);\r\n\t\tpointer3 = this.camera.position.distanceTo(tempPointC);\r\n\t\t\r\n\t\tif((pointer3<=pointer5 && zoom>0) || (pointer3>=pointer5 && zoom<0)){\r\n\t\t\tthis.camera.position.copy(tempPointE);\r\n\t\t\tthis.simpleZoom(zoom);\r\n\t\t\tthis.resetCameraNearFar();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\r\n\t\tthis.camera.getWorldDirection(tempPointA).applyQuaternion(quaternion);\r\n\t\ttempPointB.crossVectors(tempPointA, this.camera.position);\r\n\t\tthis.camera.lookAt(tempPointC.copy(this.camera.position).add(tempPointA));\r\n\t\tthis.camera.up.crossVectors(tempPointB, tempPointA);\r\n\t\tthis.resetCameraNearFar();\r\n\t}\r\n\r\n\tsimpleZoom(zoom){\r\n\t\tthis.camera.getWorldDirection(tempPointA).normalize();\r\n\t\tpointer1 = this.camera.position.distanceTo(this.planet.center) - this.planet.radius;\r\n\t\tthis.camera.position.add(tempPointA.multiplyScalar(pointer1*(-zoom*0.0003)));\r\n\t\tthis.camera.position.add(tempPointA.normalize().multiplyScalar(zoom));\r\n\t}\r\n\r\n\tdistSphere(center, radius, origin, direction) {\r\n\t\ttempPointD.copy(origin).sub(center);\r\n\t\tpointer2 = direction.dot(direction);\r\n\t\tpointer3 = 2.0 * tempPointD.dot(direction);\r\n\t\tpointer4 = tempPointD.dot(tempPointD) - radius * radius;\r\n\t\tpointer4 = pointer3 * pointer3 - 4 * pointer2 * pointer4;\r\n\t\tif (pointer4 < 0) {\r\n\t\t\treturn -1.0;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn (-pointer3 - Math.sqrt(pointer4)) / (2.0 * pointer2);\r\n\t\t}\r\n\t}\r\n\r\n\tresetCameraNearFar() {\r\n\t\tpointer1 = this.planet.center.distanceTo(this.camera.position) - this.planet.radius;\r\n\t\tthis.camera.near = pointer1 * 0.1;\r\n\t\tthis.camera.far = Math.sqrt(2 * this.planet.radius * pointer1 + pointer1 * pointer1) * 2;\r\n\t\tthis.camera.updateProjectionMatrix();\r\n\t}\r\n\r\n\tappend(aController) {\r\n\t\tif (!!this.next) {\r\n\t\t\tthis.next.append(aController);\r\n\t\t} else {\r\n\t\t\tthis.next = aController;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport { ZoomController };\r\n","import { Map } from './Map.js';\r\nimport { UltraElevationLayer } from './layers/UltraElevationLayer';\r\nimport { UltraImageryLayer } from './layers/UltraImageryLayer';\r\nimport { WMSLayer } from './layers/WMSLayer.js';\r\nimport { SimpleElevationLayer } from './layers/SimpleElevationLayer.js';\r\n\r\nlet map = new Map({ divID: 'screen' });\r\n\r\n// these layers connect to custom imagery and elevation services\r\n/* var imageryLayer = new UltraImageryLayer({\r\n    id:1,\r\n    name: \"ultraElevation\",\r\n    bounds: [-180,-90,180,90],\r\n    url:\"http://localhost:8080/imagery\",\r\n    layer:\"1\"\r\n});\r\nvar elevationLayer = new UltraElevationLayer({\r\n    id:3,\r\n    name: \"ultraElevation\",\r\n    bounds: [-180,-90,180,90],\r\n    url:\"http://localhost:8080/elevation\",\r\n    layer:\"1\"\r\n});  */\r\n\r\n\r\nvar wmsLayer = new WMSLayer({\r\n    id: 2,\r\n    name: \"WMS\",\r\n    bounds: [-180, -90, 180, 90],\r\n    url: \"https://www.gebco.net/data_and_products/gebco_web_services/web_map_service/mapserv\",\r\n    layer: \"gebco_latest_2\",\r\n    epsg: \"EPSG:4326\",\r\n    version: \"1.1.1\",\r\n    visible:true\r\n})\r\n\r\n// this is a sample elevation layer class that generates a sinusoidal terrain\r\nvar simpleElevation = new SimpleElevationLayer({\r\n    id: 4,\r\n    name: \"ultraElevation\",\r\n    bounds: [-180, -90, 180, 90],\r\n    visible:false\r\n});\r\n\r\n\r\nmap.setLayer(wmsLayer, 0)\r\nmap.setLayer(simpleElevation, 2)\r\n//map.setLayer(imageryLayer, 1)\r\n\r\n//map.setLayer(elevationLayer, 3)\r\n\r\nmap.camera.position.set(-12000000, 5000000, 0);\r\nmap.camera.lookAt(0, 3500000, 0);\r\n\r\ndocument.getElementById(\"elevation\").addEventListener('click', function () {\r\n    simpleElevation.setVisible(!simpleElevation.visible)\r\n});","import { RasterLayer } from './RasterLayer.js';\r\n\r\nclass ElevationLayer extends RasterLayer{\r\n    /**\r\n     * \r\n     * @param {id: Object, \r\n     * name: String, \r\n     * bounds: [Double]} properties \r\n     */\r\n    constructor(properties) {\r\n        super(properties);\r\n    }\r\n}\r\n\r\nexport{ElevationLayer}","import { RasterLayer } from './RasterLayer.js';\r\n\r\nclass ImageryLayer extends RasterLayer{\r\n    /**\r\n     * \r\n     * @param {id: Object, \r\n     * name: String, \r\n     * bounds: [Double]} properties \r\n     */\r\n    constructor(properties) {\r\n        super(properties);\r\n    }\r\n\r\n    \r\n}\r\n\r\nexport{ImageryLayer}","import * as THREE from 'three';\r\nconst VISIBILITY_CHANGE = \"visibility-change\";\r\nclass Layer {\r\n    /**\r\n     * \r\n     * @param {id: Object, \r\n     * name: String, \r\n     * bounds: [Double]} properties \r\n     */\r\n    constructor(properties) {\r\n        this.id = properties.id;\r\n        this.name = properties.name;\r\n        this.bounds = new THREE.Box2(new THREE.Vector2(properties.bounds[0], properties.bounds[1]), new THREE.Vector2(properties.bounds[2], properties.bounds[3]));\r\n        this.visible = properties.visible;\r\n        this.listeners = [];\r\n    }\r\n\r\n    getID() {\r\n        return this.id;\r\n    }\r\n\r\n    getName() {\r\n        return this.name;\r\n    }\r\n\r\n    setName(name) {\r\n        this.name = name;\r\n    }\r\n    setVisible(visible) {\r\n        this.visible = visible;\r\n        this.listeners.forEach(element => {\r\n            element(this, VISIBILITY_CHANGE);\r\n        });\r\n    }\r\n\r\n\r\n    getBounds() {\r\n        return this.bounds;\r\n    }\r\n    _setBounds(bounds) {\r\n        this.bounds = this.bounds;\r\n\r\n    }\r\n\r\n    addListener(listener) {\r\n        this.listeners.push(listener);\r\n    }\r\n}\r\n\r\nexport { Layer, VISIBILITY_CHANGE };","const LAYERS_CHANGED = \"layers-changed\";\r\nclass LayerManager{\r\n    constructor(){\r\n        this.layers = [];\r\n        this.listeners = [];\r\n    }\r\n\r\n    setLayer(layer, index){\r\n        this.layers[index] = layer;\r\n        this.listeners.forEach(element => {\r\n            element(LAYERS_CHANGED, layer);\r\n        });\r\n    }\r\n    \r\n    getLayers(){\r\n        return this.layers;\r\n    }\r\n    getRasterLayers(sideEffect){\r\n        this.layers.forEach(element => {\r\n            if(element instanceof RasterLayer){\r\n                sideEffect.push(element);\r\n            }\r\n        });\r\n        return sideEffect;\r\n    }\r\n\r\n    addListener( listener){\r\n        this.listeners.push(listener);\r\n    }\r\n}\r\nexport{LayerManager, LAYERS_CHANGED}","import { Layer } from './Layer.js';\r\n\r\nclass RasterLayer extends Layer{\r\n    /**\r\n     * \r\n     * @param {id: Object, \r\n     * name: String, \r\n     * bounds: [Double]} properties \r\n     */\r\n    constructor(properties) {\r\n        super(properties);\r\n    }\r\n}\r\nexport {RasterLayer}","import {ElevationLayer} from './ElevationLayer.js'\r\n\r\nclass SimpleElevationLayer extends ElevationLayer{\r\n\r\n    /**\r\n     * \r\n     * @param {id: Object, \r\n     * name: String, \r\n     * bounds: [Double]} properties \r\n     */\r\n    constructor(properties) {\r\n        super(properties);\r\n    }\r\n\r\n    getElevation(bounds, width, height) {\r\n\r\n        var elevationArray = new Array(width * height).fill(0);\r\n        for (let x = 0; x < width; x ++) {\r\n            for (let y = 0; y < height; y ++) {\r\n                let lon = bounds.min.x + (x * ((bounds.max.x - bounds.min.x) / (width-1)));\r\n                let lat = bounds.min.y + (y * ((bounds.max.y - bounds.min.y) / (height-1)));\r\n                elevationArray[width * y + x] = 5000 *(Math.cos(lon*500) + Math.cos(lat*500));\r\n            }\r\n        }\r\n        return Promise.resolve(elevationArray);\r\n    };\r\n}\r\n\r\nexport { SimpleElevationLayer };","import {CancellableTextureLoader} from '../loaders/CancellableTextureLoader.js'\r\nimport {ElevationLayer} from './ElevationLayer.js'\r\n/**\r\n * A service to retrieve maps from a WMS Service\r\n */\r\n\r\nconst toDegrees = 57.295779513082320876798154814105;\r\nclass UltraElevationLayer extends ElevationLayer{\r\n\r\n    /**\r\n     * \r\n     * @param {id: Object, \r\n     * name: String, \r\n     * bounds: [Double], \r\n     * url: String,\r\n     * layer: String} properties \r\n     */\r\n    constructor(properties) {\r\n        super(properties);\r\n        this.url = properties.url;\r\n        this.layer = properties.layer;\r\n        /* fetch(this.url + \"/\"+this.layer+\"/\"+this.bounds).then(array=>{\r\n            let a = array.json();\r\n            this._setBounds(bounds.intersectsBox(new THREE.Box2(new THREE.Vector2(a[0], a[1]),new THREE.Vector2(a[2], a[3]))));\r\n        }) */\r\n    }\r\n\r\n    getElevation(bounds, width = 32, height = 32) {\r\n        if(!this.bounds || !this.bounds.intersectsBox(bounds)){\r\n            return Promise.reject(new Error(\"bounds don't intersect with layer\"));\r\n        }\r\n        var minY = Math.min(90, Math.max(-90, bounds.min.y * toDegrees));\r\n            var maxY = Math.min(90, Math.max(-90, bounds.max.y * toDegrees));\r\n            var minX = Math.min(180, Math.max(-180, bounds.min.x * toDegrees));\r\n            var maxX = Math.min(180, Math.max(-180, bounds.max.x * toDegrees));\r\n\r\n            var request = this.url + \"/\"+this.layer+\"?\"+\r\n                \"bounds=\"+minX+\",\"+minY+\",\"+(maxX-minX)+\",\"+(maxY-minY)+\r\n                \"&width=\"+width+\"&height=\"+height;\r\n            \r\n            return fetch(request).then((array)=>{\r\n                return array.json();\r\n            })\r\n\r\n    };\r\n}\r\n\r\nexport { UltraElevationLayer };","import {CancellableTextureLoader} from '../loaders/CancellableTextureLoader.js'\r\nimport { ImageryLayer } from './ImageryLayer.js';\r\n\r\n/**\r\n * A service to retrieve maps from a WMS Service\r\n */\r\n\r\nconst toDegrees = 57.295779513082320876798154814105;\r\nclass UltraImageryLayer extends ImageryLayer{\r\n\r\n    /**\r\n     * \r\n     * @param {id: Object, \r\n     * name: String, \r\n     * bounds: [Double], \r\n     * url: String,\r\n     * layer: String} properties \r\n     */\r\n    constructor(properties) {\r\n        super(properties)\r\n        this.url = properties.url;\r\n        this.layer = properties.layer;\r\n        this.textureLoader = new CancellableTextureLoader();\r\n        this.defaultTexture = this.textureLoader.load(\"src/images/404.jpg\");\r\n        /* fetch(this.url + \"/\"+this.layer+\"/\"+this.bounds).then(array=>{\r\n            let a = array.json();\r\n            this._setBounds(this.bounds.intersectsBox(new THREE.Box2(new THREE.Vector2(a[0], a[1]),new THREE.Vector2(a[2], a[3]))));\r\n        }) */\r\n    }\r\n\r\n    getMap(bounds, callback, width = 128, height = 128) {\r\n        if(!this.bounds || !this.bounds.intersectsBox(bounds)){\r\n            return Promise.reject(new Error(\"bounds don't intersect with layer\"));\r\n        }\r\n        var minY = Math.min(90, Math.max(-90, bounds.min.y * toDegrees));\r\n            var maxY = Math.min(90, Math.max(-90, bounds.max.y * toDegrees));\r\n            var minX = Math.min(179.99999999, Math.max(-180, bounds.min.x * toDegrees));\r\n            var maxX = Math.min(179.99999999, Math.max(-180, bounds.max.x * toDegrees));\r\n\r\n            var request = this.url + \"/\"+this.layer+\"?\"+\r\n                \"bounds=\"+minX+\",\"+minY+\",\"+(maxX-minX)+\",\"+(maxY-minY)+\r\n                \"&width=\"+width+\"&height=\"+height+\r\n                \"&format=jpg\";\r\n            \r\n            return this.textureLoader.load(request, (texture) => {\r\n                callback(texture);\r\n            });\r\n\r\n    };\r\n}\r\n\r\nexport { UltraImageryLayer };","\r\nimport {CancellableTextureLoader} from '../loaders/CancellableTextureLoader.js'\r\nimport {ImageryLayer} from \"./ImageryLayer.js\"\r\n/**\r\n * A service to retrieve maps from a WMS Service\r\n */\r\n\r\nconst toDegrees = 57.295779513082320876798154814105;\r\nclass WMSLayer extends ImageryLayer {\r\n\r\n    /**\r\n     * \r\n     * @param {id: Object, \r\n     * name: String, \r\n     * bounds: [Double], \r\n     * url: String,\r\n     * layer: String[],\r\n     * epsg:String,\r\n     * version:String} properties \r\n     */\r\n    constructor(properties) {\r\n        super(properties);\r\n        this.url = properties.url;\r\n        this.layer = properties.layer;\r\n        this.epsg = properties.epsg;\r\n        this.version = properties.version;\r\n        this.textureLoader = new CancellableTextureLoader();\r\n    }\r\n\r\n    getMap(bounds, callback, width = 128, height = 128) {\r\n        if(!this.bounds || !this.bounds.intersectsBox(bounds)){\r\n            return Promise.reject(new Error(\"bounds don't intersect with layer\"));\r\n        }\r\n        var minY = Math.min(90, Math.max(-90, bounds.min.y * toDegrees));\r\n            var maxY = Math.min(90, Math.max(-90, bounds.max.y * toDegrees));\r\n            var minX = Math.min(179.99999999, Math.max(-180, bounds.min.x * toDegrees));\r\n            var maxX = Math.min(179.99999999, Math.max(-180, bounds.max.x * toDegrees));\r\n\r\n            var request = this.url + \"?request=getmap&service=wms&format=image/jpeg&BBOX=\" +\r\n                minX + \",\" + minY + \",\" +\r\n                maxX + \",\" + maxY +\r\n                \"&srs=\" + this.epsg +\r\n                \"&layers=\" + this.layer +\r\n                \"&width=\" + width +\r\n                \"&height=\" + height +\r\n                \"&version=\" + this.version +\r\n                \"&styles=default\";\r\n\r\n            \r\n            \r\n            return this.textureLoader.load(request, (texture) => {\r\n                callback(texture);\r\n            });\r\n\r\n    };\r\n}\r\n\r\nexport { WMSLayer };","import { RGBAFormat, RGBFormat } from 'three/src/constants.js';\r\nimport { ImageLoader } from 'three/src/loaders/ImageLoader.js';\r\nimport { Texture } from 'three/src/textures/Texture.js';\r\nimport { Loader } from 'three/src/loaders/Loader.js';\r\n\r\nclass CancellableTextureLoader extends Loader {\r\n\r\n    constructor(manager) {\r\n\r\n        super(manager);\r\n        this.loader = new ImageLoader(this.manager);\r\n        this.loader.setCrossOrigin(this.crossOrigin);\r\n    }\r\n\r\n    load(url, onLoad, onProgress, onError) {\r\n\r\n        const texture = new Texture();\r\n\r\n        var image = this.loader.load(url, function (image) {\r\n\r\n            texture.image = image;\r\n\r\n            // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\r\n            const isJPEG = url.search(/\\.jpe?g($|\\?)/i) > 0 || url.search(/^data\\:image\\/jpeg/) === 0;\r\n\r\n            texture.format = isJPEG ? RGBFormat : RGBAFormat;\r\n            texture.needsUpdate = true;\r\n\r\n            if (onLoad !== undefined) {\r\n\r\n                onLoad(texture);\r\n\r\n            }\r\n\r\n        }, onProgress, onError);\r\n\r\n        texture.abort = function () {\r\n            if (image && typeof image.hasAttribute === 'function') {\r\n                image.src = '';\r\n            }\r\n        };\r\n\r\n        return texture;\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport { CancellableTextureLoader };\r\n","import * as THREE from 'three';\r\nimport { PlanetTile } from './PlanetTile.js';\r\nimport { Object3D } from 'three/src/core/Object3D';\r\nimport {LAYERS_CHANGED} from '../layers/LayerManager.js'\r\n\r\nclass Planet extends Object3D {\r\n    /**\r\n     * \r\n     * @param {\r\n     *          camera: camera,\r\n     *          center: Vector3,\r\n     *          radius: Number,\r\n     *          layerManager: LayerManager\r\n     *        } properties\r\n     */\r\n    constructor(properties) {\r\n        super();\r\n        var self = this;\r\n        if(!properties.camera){\r\n            throw (\"A camera is required in order to refine the planet's levels of detail.\")\r\n        }\r\n        self.camera = properties.camera;\r\n        if(!!properties.radius){\r\n            self.radius = properties.radius;\r\n        }else{\r\n            self.radius = 6378000;\r\n        }\r\n        if(!!properties.center){\r\n            self.center = properties.center;\r\n        }else{\r\n            self.center = new THREE.Vector3(0, 0, 0);\r\n        }\r\n        \r\n        self.layerManager = properties.layerManager;\r\n        self.layerManager.addListener((layer, event)=>{\r\n            /* if(LAYERS_CHANGED===event){\r\n                self.traverse(function (element) {\r\n                    if (element != self && element.reloadLayers) {\r\n                        element.reloadLayers();\r\n                    }\r\n                });\r\n            } */\r\n        });\r\n        \r\n        this.add(new PlanetTile({\r\n            bounds: new THREE.Box2(new THREE.Vector2(-Math.PI, -Math.PI * 0.5), new THREE.Vector2(0, Math.PI * 0.5)),\r\n            layerManager: self.layerManager, planet: this, level: 0\r\n        }));\r\n        this.add(new PlanetTile({\r\n            bounds: new THREE.Box2(new THREE.Vector2(0, -Math.PI * 0.5), new THREE.Vector2(Math.PI, Math.PI * 0.5)),\r\n            layerManager: self.layerManager, planet: this, level: 0\r\n        }));\r\n\r\n        setInterval(function () {\r\n            self.children.forEach(child => {\r\n                var frustum = new THREE.Frustum();\r\n                frustum.setFromProjectionMatrix(new THREE.Matrix4().multiplyMatrices(self.camera.projectionMatrix, self.camera.matrixWorldInverse));\r\n                child.update(self.camera, frustum);\r\n            });\r\n        }, 200);\r\n\r\n        /* setTimeout(function () {\r\n            self.children.forEach(child => {\r\n                var frustum = new THREE.Frustum();\r\n                frustum.setFromProjectionMatrix(new THREE.Matrix4().multiplyMatrices(self.camera.projectionMatrix, self.camera.matrixWorldInverse));\r\n                child.update(self.camera, frustum);\r\n            });\r\n        }, 5);\r\n        setTimeout(function () {\r\n            self.children.forEach(child => {\r\n                var frustum = new THREE.Frustum();\r\n                frustum.setFromProjectionMatrix(new THREE.Matrix4().multiplyMatrices(self.camera.projectionMatrix, self.camera.matrixWorldInverse));\r\n                child.update(self.camera, frustum);\r\n            });\r\n        }, 10000); */\r\n    }\r\n\r\n    /**\r\n     * this method returns all the leaf tiles that interact with the given lon/lat bounds\r\n     */\r\n    interactsWith(bounds) {\r\n        var interactingTiles = [];\r\n        this.children.forEach(child => {\r\n            interactingTiles = interactingTiles.concat(child.interactsWith(bounds));\r\n        });\r\n        return interactingTiles;\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\n\r\nexport { Planet };","/**\r\n * Shader for planet tiles\r\n */\r\n\r\n\r\n/*\r\nuniforms: {\r\n\timagery: { type: \"tv\", value: imagery },\r\n\timageryUV: { type: \"v4v\", value: imageryUVBounds },\r\n\timageryBounds: { type: \"v4v\", value: imageryBounds },\r\n\timageryTransparency: { type: \"fv\", value: imageryTransparency },\r\n\televationUV: { type: \"v4\", value: elevationUVBounds },\r\n\televation: { type: \"t\", value: elevation },\r\n\tradius: { type: \"f\", value: this.planet.radius },\r\n\tplanetPosition = { type: \"v3\", value: this.planet.center },\r\n\tbounds = { type: \"v4\", value: new Vector4(this.bounds.min.x, this.bounds.min.y, this.bounds.max.x, this.bounds.max.y) }\r\n}*/\r\n\r\nconst PlanetShader = {\r\n\r\n\tvertexShader: (numImageryLayers, tileSize) =>/* glsl */`\r\n\t\r\n\tuniform float radius;\r\n\tuniform vec3 planetPosition;\r\n\tuniform vec4 bounds;\r\n\tuniform vec4 imageryBounds[`+ numImageryLayers + `];\r\n\tuniform sampler2D elevation;\r\n\r\n\t\r\n\tvarying vec2 fragmentImageryUV[`+ numImageryLayers + `];\r\n\r\n\tvoid main() {\r\n\t\tvec3 vPosition = position;\r\n        \r\n\t\tfloat lon = vPosition.x * (bounds[2] - bounds[0]) + bounds[0];\r\n\t\tfloat lat = vPosition.y * (bounds[3] - bounds[1]) + bounds[1];\r\n\r\n\t\tfloat width = bounds[2] - bounds[0];\r\n\t\tfloat height = bounds[3] - bounds[1];\r\n\r\n\t\tvPosition = vec3(-(cos(lat) * cos(lon)), sin(lat), cos(lat) * sin(lon));\r\n\r\n\t\tfor(int i=0;i<`+ numImageryLayers + `;i++) {\r\n\t\t\tif(lon<imageryBounds[i][0] || lon > imageryBounds[i][2] || lat < imageryBounds[i][1] || lat > imageryBounds[i][3]){\r\n\t\t\t\tfragmentImageryUV[i] = vec2(-1,-1);\r\n\t\t\t}else{\r\n\t\t\t\tfragmentImageryUV[i] = vec2(((lon - bounds[0]) / width), ((lat - bounds[1]) /height));\r\n\t\t\t}\r\n\t\t}\r\n\t\tvec2 elevationUV = vec2(((lon - bounds[0]) / width), ((lat - bounds[1]) /height));\r\n\t\tvec2 texUV = vec2((elevationUV.x*`+(tileSize-1)+`.0+0.5)/`+tileSize+`.0, (elevationUV.y*`+(tileSize-1)+`.0+0.5)/`+tileSize+`.0);\r\n\t\t\r\n\r\n\t\tfloat terrainElevation = texture2D(elevation, texUV.xy).r;\r\n\t\t\tvPosition *= (radius*position.z) + terrainElevation;\r\n\t\t\r\n\t    gl_Position = projectionMatrix * modelViewMatrix * vec4(vPosition, 1.0);\r\n\t}`,\r\n\r\n\tfragmentShader: (numImageryLayers) => {\r\n\t\tlet code = /* glsl */`\r\n\t\tvarying vec2 fragmentImageryUV[`+ numImageryLayers + `];\r\n\t\tuniform sampler2D imagery[`+ numImageryLayers + `];\r\n\t\tuniform float transparency[`+ numImageryLayers + `];\r\n\t\tuniform vec4 c;\r\n\r\n\t\tvoid main() {\r\n\t\t\tvec4 color = vec4(0.0,0.0,0.0,1.0);`;\r\n\t\t\r\n\r\n\t\tfor (let i = numImageryLayers - 1; i >= 0; i--) {\r\n\t\t\tcode += `\r\n\t\t\tif(fragmentImageryUV[`+i+`].x>=0.0 && fragmentImageryUV[`+i+`].x<=1.0 && fragmentImageryUV[`+i+`].y>=0.0 && fragmentImageryUV[`+i+`].y<=1.0){\r\n\t\t\t\tcolor = mix(color, texture2D(imagery[`+i+`], fragmentImageryUV[`+i+`].xy), transparency[`+i+`]);\r\n\t\t\t}\r\n\t\t\tgl_FragColor = vec4(texture2D(imagery[0], fragmentImageryUV[0].xy).xyz,1.0);`;\r\n\t\t\t//gl_FragColor = c;`;\r\n\t\t}\r\n\t\tcode+=`}`;\r\n\t\treturn code;\r\n\t}\r\n};\r\n\r\nexport { PlanetShader };\r\n","import * as THREE from 'three';\r\nimport { PlanetShader } from './PlanetShader.js';\r\nimport { Mesh } from 'three/src/objects/Mesh';\r\nimport { Vector4 } from 'three';\r\nimport { RasterLayer } from '../layers/RasterLayer.js';\r\nimport { ImageryLayer } from '../layers/ImageryLayer.js';\r\nimport { ElevationLayer } from '../layers/ElevationLayer.js';\r\nimport { LAYERS_CHANGED } from '../layers/LayerManager.js'\r\nimport { VISIBILITY_CHANGE } from '../layers/Layer.js'\r\n\r\n\r\nconst TILE_SIZE = 32;\r\nconst TILE_IMAGERY_SIZE = 256;\r\nconst TILE_GEOMETRY = generateBaseTile(TILE_SIZE);\r\nconst MAX_LEVEL = 12;\r\nconst defaultTexture = buildZeroTexture();\r\n\r\nconst emptyVec4 = new THREE.Vector4(0, 0, 0, 0);\r\n\r\nconst defaultMaterial = new THREE.MeshBasicMaterial();\r\n\r\nconst defaultElevation = [];\r\nfor (let index = 0; index < TILE_SIZE * TILE_SIZE; index++) {\r\n    defaultElevation.push(0);\r\n\r\n}\r\n\r\nfunction buildZeroTexture() {\r\n    var data = new Uint8Array(3);\r\n    data[0] = 255;\r\n    data[1] = 255;\r\n    data[2] = 255;\r\n    return new THREE.DataTexture(data, 1, 1, THREE.RGBFormat);\r\n}\r\n\r\nfunction generateBaseTile(resolution) {\r\n    if (resolution < 2) {\r\n        console.log(\"unsupported resolution\");\r\n        return;\r\n    }\r\n\r\n    var indices = [];\r\n    var vertices = [];\r\n    var skirts = [];\r\n\r\n    //// vertices\r\n    for (var y = 0; y <= resolution - 1; y += 1) {\r\n        for (var x = 0; x <= resolution - 1; x += 1) {\r\n            var vX = x / (resolution - 1);\r\n            var vY = y / (resolution - 1);\r\n            vertices.push(vX, vY, 1.0);\r\n            if (y == 0 || y == resolution - 1 || x == 0 || x == resolution - 1) {\r\n                skirts.push(vX, vY, 0.95);\r\n            }\r\n        }\r\n    }\r\n\r\n    const skirtFirstIndex = (vertices.length / 3);\r\n    //// faces\r\n\r\n    // tile\r\n    for (var i = 0; i < (vertices.length / 3) - resolution - 1; i++) {\r\n        if ((i + 1) % resolution != 0) {\r\n            indices.push(i, i + 1, i + resolution);\r\n            indices.push(i + resolution, i + 1, i + 1 + resolution);\r\n        }\r\n    }\r\n\r\n    //first skirt\r\n    for (let i = 0; i < resolution - 1; i++) {\r\n        indices.push(skirtFirstIndex + i, skirtFirstIndex + i + 1, i);\r\n        indices.push(i, skirtFirstIndex + i + 1, i + 1);\r\n    }\r\n\r\n    //second skirt\r\n    let a = resolution - 1;\r\n    let b = resolution - 1;\r\n    while (a < (resolution - 1) + (2 * (resolution - 2))) {\r\n        indices.push(skirtFirstIndex + a, skirtFirstIndex + a + 2, b);\r\n        indices.push(b, skirtFirstIndex + a + 2, b + resolution);\r\n        a += 2;\r\n        b += resolution;\r\n    }\r\n    indices.push(skirtFirstIndex + a, skirtFirstIndex + a + resolution, b);\r\n    indices.push(b, skirtFirstIndex + a + resolution, b + resolution);\r\n\r\n    //third skirt\r\n    let skirtVertexIndex = skirtFirstIndex + resolution * 4 - 5;\r\n    let skirtEnd = skirtVertexIndex - resolution + 1;\r\n    let tileIndex = skirtFirstIndex - 1;\r\n    while (skirtVertexIndex > skirtEnd) {\r\n        indices.push(skirtVertexIndex, skirtVertexIndex - 1, tileIndex);\r\n        indices.push(tileIndex, skirtVertexIndex - 1, tileIndex - 1);\r\n        skirtVertexIndex--;\r\n        tileIndex--;\r\n    }\r\n\r\n    //fourth skirt\r\n    skirtEnd = skirtVertexIndex - (2 * (resolution - 2));\r\n    while (skirtVertexIndex > skirtEnd) {\r\n        indices.push(skirtVertexIndex, skirtVertexIndex - 2, tileIndex);\r\n        indices.push(tileIndex, skirtVertexIndex - 2, tileIndex - resolution);\r\n        skirtVertexIndex -= 2;\r\n        tileIndex -= resolution;\r\n    }\r\n    indices.push(skirtVertexIndex, skirtVertexIndex - resolution, tileIndex);\r\n    indices.push(tileIndex, skirtVertexIndex - resolution, tileIndex - resolution);\r\n\r\n    var geometry = new THREE.BufferGeometry();\r\n    geometry.setIndex(indices);\r\n    geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices.concat(skirts), 3));\r\n\r\n    return geometry;\r\n}\r\n\r\nconst tilesToLoad = [];\r\nfunction scheduleLoadLayers(tile) {\r\n    /* for (let index = 0; index < tilesToLoad.length; index++) {\r\n        if(tilesToLoad.level < tile.level){\r\n            tilesToLoad.splice(index, 0, tile);\r\n            return;\r\n        }\r\n    } */\r\n    tilesToLoad.push(tile);\r\n}\r\n\r\nsetInterval(() => {\r\n    const tile = tilesToLoad.shift();\r\n    if (!!tile) tile._loadLayers(tile);\r\n}, 10)\r\n\r\n\r\nclass PlanetTile extends Mesh {\r\n\r\n    /**\r\n     * @param properties \r\n     * {\r\n     *  bounds: Box2\r\n     *  layerManager: LayerManager,\r\n     *  planet: Planet, \r\n     *  level: Integer, \r\n     *  parentLayerDataMap: intenal,\r\n     *  childType: 0 BottomLeft, 1 BottomRight, 2 TopLeft, 3 TopRight\r\n     * }\r\n     */\r\n    constructor(properties) {\r\n        console.log(properties.level);\r\n        super(TILE_GEOMETRY, defaultMaterial);\r\n        const self = this;\r\n        self.frustumCulled = false; // frustum culling is handled separately (mesh is displaced in shader)\r\n        self.bounds = properties.bounds; // Lon Lat bounds\r\n        self.planet = properties.planet; // The parent planet (circular dependency... gives access to global planet properties and methods like tree traversal)\r\n        self.layerManager = properties.layerManager;\r\n        self.level = properties.level; // mesh recursion level\r\n        self.elevationArray = defaultElevation;\r\n        self.layerDataMap = {};\r\n        ///// Important, a tile cannot be made visible while \"loaded\" is false.\r\n        self.loaded = false;\r\n        self.loading = 0;\r\n        self.material.visible = false;\r\n\r\n        self.mapRequests = []; // collects texture requests in order to abort them when needed\r\n        /////// prevent loading too many levels at the poles\r\n        if (self.bounds.max.y == Math.PI / 2 || self.bounds.min.y == -Math.PI / 2) {\r\n            self.maxLevel = 4;\r\n        } else {\r\n            self.maxLevel = MAX_LEVEL;\r\n        }\r\n\r\n        //Listen to changes in the list of layers, rebuild material if raster layer\r\n        self.layerManager.addListener((eventName, layer) => {\r\n            if (LAYERS_CHANGED === eventName && layer instanceof RasterLayer) {\r\n                scheduleLoadLayers(self);\r\n            }\r\n        });\r\n\r\n        scheduleLoadLayers(self);\r\n\r\n    }\r\n\r\n    _loadLayers(self) {\r\n        self.layerManager.getLayers().forEach(layer => {\r\n            if (!self.layerDataMap[layer.id]) {\r\n                if (layer instanceof ImageryLayer) {\r\n                    self._startLoading(self);\r\n                    self.layerDataMap[layer.id] = {};\r\n                    self._loadImagery(self, layer, (texture) => {\r\n                        self.layerDataMap[layer.id].texture = texture;\r\n                        self.layerDataMap[layer.id].layer = layer;\r\n                        delete self.layerDataMap[layer.id].loading;\r\n                        self._endLoading(self);\r\n                    })\r\n                } else if (layer instanceof ElevationLayer) {\r\n                    self._startLoading(self);\r\n                    self.layerDataMap[layer.id] = {};\r\n                    layer.getElevation(self.bounds, TILE_SIZE, TILE_SIZE).then(elevationArray => {\r\n                        var elevationTexture = new THREE.DataTexture(Float32Array.from(elevationArray), TILE_SIZE, TILE_SIZE, THREE.RedFormat, THREE.FloatType);\r\n                        elevationTexture.magFilter = THREE.LinearFilter;\r\n                        elevationTexture.minFilter = THREE.LinearFilter;\r\n                        elevationTexture.wrapS = THREE.ClampToEdgeWrapping;\r\n                        elevationTexture.wrapT = THREE.ClampToEdgeWrapping;\r\n                        self.layerDataMap[layer.id].texture = elevationTexture;\r\n                        self.layerDataMap[layer.id].layer = layer;\r\n                        self.layerDataMap[layer.id].elevationArray = elevationArray;\r\n\r\n                        self._endLoading(self);\r\n                    });\r\n                }\r\n                layer.addListener((layer, event) => {\r\n                    if (VISIBILITY_CHANGE === event) {\r\n                        self.fillShaderUniforms(self);\r\n                    }\r\n                })\r\n            }\r\n        });\r\n        self._setLoadingListener(self, () => {\r\n            for (const id in self.layerDataMap) {\r\n                if (self.layerDataMap.hasOwnProperty(id)) {\r\n                    if (self.layerDataMap[id].layer instanceof ElevationLayer) {\r\n                        self.elevationArray = self.layerDataMap[id].elevationArray;\r\n                    }\r\n                }\r\n            }\r\n            self.buildMaterial(self);\r\n            self.loaded = true;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * to call when a layer starts loading\r\n     */\r\n    _startLoading(self) {\r\n        self.loading++;\r\n    }\r\n\r\n    /**\r\n     * to call when a layer ends loading\r\n     */\r\n    _endLoading(self) {\r\n        self.loading--;\r\n        if (self.loading == 0 && !!self.loadingListener) {\r\n            self.loadingListener();\r\n            delete self.loadingListener;\r\n        }\r\n    }\r\n    /**\r\n     * Set a listener that will be called when all layers finished loading\r\n     */\r\n    _setLoadingListener(self, listener) {\r\n        if (self.loading == 0) {\r\n            listener();\r\n        } else {\r\n            self.loadingListener = listener;\r\n        }\r\n    }\r\n\r\n    /**\r\n         * Loads a texture native to this tile\r\n         * @param {*} layerData \r\n         */\r\n    _loadImagery(self, layer, callback) {\r\n        self.mapRequests.push(\r\n            layer.getMap(self.bounds, (texture) => {\r\n                texture.wrapS = THREE.ClampToEdgeWrapping;\r\n                texture.wrapT = THREE.ClampToEdgeWrapping;\r\n                texture.magFilter = THREE.LinearFilter;\r\n                texture.minFilter = THREE.LinearFilter;\r\n\r\n                if (!!callback) callback(texture);\r\n\r\n            }, TILE_IMAGERY_SIZE, TILE_IMAGERY_SIZE)\r\n        );\r\n    }\r\n\r\n\r\n    update(camera, frustum) {\r\n        const self = this;\r\n        const metric = self.calculateUpdateMetric(camera, frustum);\r\n        if (isNaN(metric)) {\r\n            throw (\"calculation of metric for planet LOD calculation failed\");\r\n        }\r\n\r\n\r\n        /////// handle visibility and lo\r\n        if (metric == -1) { // outside frustum or facing away from camera\r\n            self.material.visible = true;\r\n            self.disposeChildren(self);\r\n            return true;\r\n        }\r\n        if (metric < self.level + 1 || self.level >= self.maxLevel) { // if self is ideal LOD\r\n            if (self.loaded) { // if layers are loaded\r\n                self.material.visible = true;\r\n                self.disposeChildren(self);\r\n                return true;\r\n            } else { // layers not yet loaded\r\n                return false;\r\n            }\r\n        }\r\n        else { // if ideal LOD is past self tile\r\n            if (self.children.length > 0) { // if self tile already has children\r\n                let childrenReadyCounter = 0;\r\n                self.children.every(child => {\r\n                    let childReady = child.update(camera, frustum);\r\n                    if (childReady) {\r\n                        childrenReadyCounter++;\r\n                    } else {\r\n                        return false; // break out of loop\r\n                    }\r\n                    return true; // continue\r\n                });\r\n                if (childrenReadyCounter == self.children.length) {\r\n                    self.material.visible = false;\r\n                    return true;\r\n                }\r\n            } else { // if self tile doesn't have children yet\r\n                var boundsCenter = new THREE.Vector2();\r\n                self.bounds.getCenter(boundsCenter);\r\n                self.add(new PlanetTile(\r\n                    {\r\n                        bounds: new THREE.Box2(self.bounds.min, boundsCenter),\r\n                        layerManager: self.layerManager, planet: self.planet, level: self.level + 1\r\n                    }\r\n                ));\r\n                self.add(new PlanetTile(\r\n                    {\r\n                        bounds: new THREE.Box2(new THREE.Vector2(boundsCenter.x, self.bounds.min.y), new THREE.Vector2(self.bounds.max.x, boundsCenter.y)),\r\n                        layerManager: self.layerManager, planet: self.planet, level: self.level + 1\r\n                    }\r\n                ));\r\n                self.add(new PlanetTile(\r\n                    {\r\n                        bounds: new THREE.Box2(new THREE.Vector2(self.bounds.min.x, boundsCenter.y), new THREE.Vector2(boundsCenter.x, self.bounds.max.y)),\r\n                        layerManager: self.layerManager, planet: self.planet, level: self.level + 1\r\n                    }\r\n                ));\r\n                self.add(new PlanetTile(\r\n                    {\r\n                        bounds: new THREE.Box2(boundsCenter, self.bounds.max),\r\n                        layerManager: self.layerManager, planet: self.planet, level: self.level + 1\r\n                    }\r\n                ));\r\n\r\n                self.children.forEach(child => {\r\n                    child.update(camera, frustum);\r\n                })\r\n            }\r\n\r\n            // If the tile has loaded children, the method already returned\r\n            if (self.loaded) { // if this tile is itself loaded\r\n                self.material.visible = true;\r\n                return true;\r\n            } else { // if this tile isn't loaded\r\n                self.material.visible = false;\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Rebuilds the material completely. This method should be called when the number of imagery layers changes.\r\n     */\r\n    buildMaterial(self) {\r\n        let numLayers = 0;\r\n        for (const id in self.layerDataMap) {\r\n            if (self.layerDataMap.hasOwnProperty(id)) {\r\n                if (self.layerDataMap[id].layer instanceof ImageryLayer) {\r\n                    numLayers++;\r\n                }\r\n            }\r\n        }\r\n\r\n        self.material = new THREE.ShaderMaterial({\r\n            uniforms: {},\r\n            vertexShader: PlanetShader.vertexShader(numLayers, TILE_SIZE),\r\n            fragmentShader: PlanetShader.fragmentShader(numLayers)\r\n        });\r\n\r\n        self.fillShaderUniforms(self);\r\n        self.material.side = THREE.DoubleSide;\r\n        self.material.visible = false;\r\n        self.material.wireframe = false;\r\n    }\r\n\r\n    fillShaderUniforms(self) {\r\n\r\n        let imagery = [];\r\n        let imageryBounds = [];\r\n        let imageryTransparency = [];\r\n        let elevation = defaultTexture;\r\n        let elevationEncountered = false;\r\n        self.layerManager.getLayers().forEach(layer => {\r\n            let layerData = self.layerDataMap[layer.id];\r\n            if (!!layerData && layer instanceof ImageryLayer && !!layer.visible) {\r\n                imagery.push(layerData.texture);\r\n                imageryBounds.push(new Vector4(layer.bounds.min.x, layer.bounds.min.y, layer.bounds.max.x, layer.bounds.max.y));\r\n                imageryTransparency.push(layer.visible ? 1 : 0);\r\n            } else if (!elevationEncountered && !!layerData.layer && layer instanceof ElevationLayer && layer.visible) {\r\n                elevation = layerData.texture;\r\n                elevationEncountered = true;\r\n            }\r\n        });\r\n        if (imagery.length == 0) {\r\n            imagery.push(defaultTexture);\r\n            imageryBounds.push(emptyVec4);\r\n            imageryTransparency.push(0);\r\n        }\r\n\r\n        \r\n        self.material.uniforms.imagery= { type: \"tv\", value: imagery };\r\n        self.material.uniforms.imageryBounds= { type: \"v4v\", value: imageryBounds };\r\n        self.material.uniforms.imageryTransparency= { type: \"fv\", value: imageryTransparency };\r\n        self.material.uniforms.elevation= { type: \"t\", value: elevation };\r\n        self.material.uniforms.radius= { type: \"f\", value: self.planet.radius };\r\n        self.material.uniforms.planetPosition= { type: \"v3\", value: self.planet.center };\r\n        self.material.uniforms.bounds= { type: \"v4\", value: new Vector4(self.bounds.min.x, self.bounds.min.y, self.bounds.max.x, self.bounds.max.y) };\r\n        self.material.uniforms.c= { type: \"v4\", value: new Vector4(Math.random(), Math.random(), Math.random(), 1.0) };\r\n        \r\n        console.log(self.material.version);\r\n    }\r\n\r\n\r\n    disposeChildren(self) {\r\n        if (self.children.length != 0) {\r\n            self.traverse(function (element) {\r\n                if (element != self && element.material) {\r\n                    // dispose textures\r\n                    for (const id in element.layerDataMap) {\r\n                        if (element.layerDataMap.hasOwnProperty(id)) {\r\n                            if (!!element.layerDataMap[id].texture) {\r\n                                element.layerDataMap[id].texture.dispose();\r\n                            }\r\n                        }\r\n                    }\r\n                    // dispose materials\r\n                    if (element.material.length) {\r\n                        for (let i = 0; i < element.material.length; ++i) {\r\n                            element.material[i].dispose();\r\n                        }\r\n                    }\r\n                    else {\r\n                        element.material.dispose()\r\n                    }\r\n\r\n                }\r\n            });\r\n            self.clear();\r\n        }\r\n    }\r\n\r\n    calculateUpdateMetric(camera, frustum) {\r\n        var p = camera.position.clone().sub(this.planet.center);\r\n        var pNormalized = p.clone().normalize();\r\n        var lat = Math.asin(pNormalized.y);\r\n        var lon = Math.atan2(pNormalized.z, -pNormalized.x);\r\n\r\n        if (lon > this.bounds.max.x || lon < this.bounds.min.x) {\r\n            var max = this.bounds.max.x - lon;\r\n            max += (max > Math.PI) ? -2 * Math.PI : (max < -Math.PI) ? 2 * Math.PI : 0;\r\n\r\n            var min = this.bounds.min.x - lon;\r\n            min += (min > Math.PI) ? -2 * Math.PI : (min < -Math.PI) ? 2 * Math.PI : 0;\r\n\r\n            if (Math.abs(max) < Math.abs(min)) {\r\n                lon = this.bounds.max.x;\r\n            } else {\r\n                lon = this.bounds.min.x;\r\n            }\r\n        }\r\n        lat = Math.min(this.bounds.max.y, Math.max(this.bounds.min.y, lat));\r\n\r\n        lat = ((lat - this.bounds.min.y) / (this.bounds.max.y - this.bounds.min.y)); // lat in uv coordinates\r\n        lon = ((lon - this.bounds.min.x) / (this.bounds.max.x - this.bounds.min.x)); // lon in uv coordinates\r\n\r\n        lat = Math.max(0, Math.min(1, lat));\r\n        lon = Math.max(0, Math.min(1, lon));\r\n\r\n        var surfaceElevation = !!this.elevationArray ? this.billinearInterpolationOnElevationArray(lon, lat) + this.planet.radius : this.planet.radius;\r\n        var surfaceElevationCenter = !!this.elevationArray ? this.billinearInterpolationOnElevationArray(0.5, 0.5) + this.planet.radius : this.planet.radius;\r\n        var surfaceElevationMax = !!this.elevationArray ? this.elevationArray[(TILE_SIZE * TILE_SIZE) - 1] + this.planet.radius : this.planet.radius;\r\n\r\n        var lati = (lat * (this.bounds.max.y - this.bounds.min.y)) + this.bounds.min.y; // lat in geodetic coordinates\r\n        var long = (lon * (this.bounds.max.x - this.bounds.min.x)) + this.bounds.min.x; // lon in geodetic coordinates\r\n        var nearest = new THREE.Vector3(-(Math.cos(lati) * Math.cos(long)), Math.sin(lati), Math.cos(lati) * Math.sin(long));\r\n\r\n        var nearestMSE = nearest.clone().multiplyScalar(this.planet.radius);\r\n        var nearestSurface = nearest.clone().multiplyScalar(surfaceElevation);\r\n\r\n        var center = new THREE.Vector2();\r\n        this.bounds.getCenter(center);\r\n        var c = new THREE.Vector3(-(Math.cos(center.y) * Math.cos(center.x)), Math.sin(center.y), Math.cos(center.y) * Math.sin(center.x)).multiplyScalar(surfaceElevationCenter);\r\n        var m = new THREE.Vector3(-(Math.cos(this.bounds.max.y) * Math.cos(this.bounds.max.x)), Math.sin(this.bounds.max.y), Math.cos(this.bounds.max.y) * Math.sin(this.bounds.max.x)).multiplyScalar(surfaceElevationMax);\r\n\r\n        var boundingSphere = new THREE.Sphere(c.clone().add(this.planet.center), c.distanceTo(m) * 1.1)\r\n        if (!frustum.intersectsSphere(boundingSphere)) {\r\n            return -1;\r\n        }\r\n\r\n        var dot = nearestMSE.sub(this.planet.center).normalize().dot(pNormalized);\r\n\r\n        if (dot < 0) {\r\n            return -1;\r\n        }\r\n\r\n        var distance = p.distanceTo(nearestSurface);\r\n\r\n        if (distance < 1) return MAX_LEVEL;\r\n\r\n        var log = Math.log(distance * 0.0075) / Math.log(2);\r\n        const metric = Math.min(MAX_LEVEL + 0.1, Math.max(20 - log, 0.0001));\r\n        if (isNaN(metric)) {\r\n            return this.level;\r\n        }\r\n\r\n        return metric;\r\n    }\r\n\r\n    billinearInterpolationOnElevationArray(lon, lat) {\r\n\r\n        var x = lon * (TILE_SIZE - 1);\r\n        var y = lat * (TILE_SIZE - 1);\r\n\r\n\r\n        var floorX = Math.floor(x);\r\n        if (floorX == x) floorX -= 1;\r\n        var floorY = Math.floor(y);\r\n        if (floorY == y) floorY -= 1;\r\n        var ceilX = Math.ceil(x);\r\n        if (ceilX == 0) ceilX += 1;\r\n        var ceilY = Math.ceil(y);\r\n        if (ceilY == 0) ceilY += 1;\r\n        floorX = Math.max(0, floorX);\r\n        floorY = Math.max(0, floorY);\r\n\r\n        ceilX = Math.min((TILE_SIZE - 1), ceilX);\r\n        ceilY = Math.min((TILE_SIZE - 1), ceilY);\r\n\r\n\r\n        return ((1 - (x - floorX)) * (1 - (y - floorY)) * this.elevationArray[(floorY * TILE_SIZE) + floorX]) +\r\n            ((1 - (ceilX - x)) * (1 - (y - floorY)) * this.elevationArray[(floorY * TILE_SIZE) + ceilX]) +\r\n            ((1 - (x - floorX)) * (1 - (ceilY - y)) * this.elevationArray[(ceilY * TILE_SIZE) + floorX]) +\r\n            ((1 - (ceilX - x)) * (1 - (ceilY - y)) * this.elevationArray[(ceilY * TILE_SIZE) + ceilX]);\r\n    }\r\n\r\n\r\n    interactsWith(bounds) {\r\n        var interactingTiles = [];\r\n\r\n        if (this.bounds.min.y <= bounds.max.y && this.bounds.max.y >= bounds.min.y) {\r\n            if ((this.bounds.min.x <= bounds.max.x && this.bounds.max.x >= bounds.min.x) ||\r\n                (this.bounds.min.x + (Math.PI * 2) <= bounds.max.x && this.bounds.max.x + (Math.PI * 2) >= bounds.min.x) ||\r\n                (this.bounds.min.x <= bounds.max.x + (Math.PI * 2) && this.bounds.max.x >= bounds.min.x + (Math.PI * 2))) {\r\n                if (this.children.length == 0) {\r\n                    interactingTiles.push(this);\r\n                } else {\r\n                    this.children.forEach(child => {\r\n                        interactingTiles = interactingTiles.concat(child.interactsWith(bounds));\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        return interactingTiles;\r\n    }\r\n}\r\n\r\nexport { PlanetTile };"],"sourceRoot":""}